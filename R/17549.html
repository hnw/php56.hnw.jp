<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>conn</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/758.html#L123'>conn</a>              123 ext/mysql/php_mysql.c 	MYSQL *conn;</span>
<span class='curline'><a href='../S/758.html#L131'>conn</a>              131 ext/mysql/php_mysql.c 	mysql_set_server_option(mysql-&gt;conn, MYSQL_OPTION_MULTI_STATEMENTS_OFF); \</span>
<span class='curline'><a href='../S/758.html#L440'>conn</a>              440 ext/mysql/php_mysql.c 	if (mysql_select_db(mysql-&gt;conn, db) != 0) {</span>
<span class='curline'><a href='../S/758.html#L456'>conn</a>              456 ext/mysql/php_mysql.c 	mysql_close(link-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L471'>conn</a>              471 ext/mysql/php_mysql.c 	mysql_close(link-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L549'>conn</a>              549 ext/mysql/php_mysql.c 	return mysql-&gt;conn;</span>
<span class='curline'><a href='../S/758.html#L645'>conn</a>              645 ext/mysql/php_mysql.c 		mysqlnd_end_psession(((php_mysql_conn *) le-&gt;ptr)-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L880'>conn</a>              880 ext/mysql/php_mysql.c 			mysql-&gt;conn = mysql_init(NULL);</span>
<span class='curline'><a href='../S/758.html#L882'>conn</a>              882 ext/mysql/php_mysql.c 			mysql-&gt;conn = mysqlnd_init(MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA, persistent);</span>
<span class='curline'><a href='../S/758.html#L886'>conn</a>              886 ext/mysql/php_mysql.c 				mysql_options(mysql-&gt;conn, MYSQL_OPT_CONNECT_TIMEOUT, (const char *)&amp;connect_timeout);</span>
<span class='curline'><a href='../S/758.html#L889'>conn</a>              889 ext/mysql/php_mysql.c 			if (mysql_real_connect(mysql-&gt;conn, host, user, passwd, NULL, port, socket, client_flags)==NULL)</span>
<span class='curline'><a href='../S/758.html#L891'>conn</a>              891 ext/mysql/php_mysql.c 			if (mysqlnd_connect(mysql-&gt;conn, host, user, passwd, passwd_len, NULL, 0, port, socket, client_flags, MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA TSRMLS_CC) == NULL)</span>
<span class='curline'><a href='../S/758.html#L898'>conn</a>              898 ext/mysql/php_mysql.c 				MySG(connect_error) = estrdup(mysql_error(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L901'>conn</a>              901 ext/mysql/php_mysql.c 				MySG(connect_errno) = mysql_errno(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L907'>conn</a>              907 ext/mysql/php_mysql.c 			mysql_options(mysql-&gt;conn, MYSQL_OPT_LOCAL_INFILE, (char *)&amp;MySG(allow_local_infile));</span>
<span class='curline'><a href='../S/758.html#L932'>conn</a>              932 ext/mysql/php_mysql.c 			mysqlnd_end_psession(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L934'>conn</a>              934 ext/mysql/php_mysql.c 			if (mysql_ping(mysql-&gt;conn)) {</span>
<span class='curline'><a href='../S/758.html#L935'>conn</a>              935 ext/mysql/php_mysql.c 				if (mysql_errno(mysql-&gt;conn) == 2006) {</span>
<span class='curline'><a href='../S/758.html#L937'>conn</a>              937 ext/mysql/php_mysql.c 					if (mysql_real_connect(mysql-&gt;conn, host, user, passwd, NULL, port, socket, client_flags)==NULL)</span>
<span class='curline'><a href='../S/758.html#L939'>conn</a>              939 ext/mysql/php_mysql.c 					if (mysqlnd_connect(mysql-&gt;conn, host, user, passwd, passwd_len, NULL, 0, port, socket, client_flags, MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA TSRMLS_CC) == NULL)</span>
<span class='curline'><a href='../S/758.html#L947'>conn</a>              947 ext/mysql/php_mysql.c 					mysql_options(mysql-&gt;conn, MYSQL_OPT_LOCAL_INFILE, (char *)&amp;MySG(allow_local_infile));</span>
<span class='curline'><a href='../S/758.html#L951'>conn</a>              951 ext/mysql/php_mysql.c 				mysqlnd_restart_psession(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L999'>conn</a>              999 ext/mysql/php_mysql.c 		mysql-&gt;conn = mysql_init(NULL);</span>
<span class='curline'><a href='../S/758.html#L1001'>conn</a>             1001 ext/mysql/php_mysql.c 		mysql-&gt;conn = mysqlnd_init(MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA, persistent);</span>
<span class='curline'><a href='../S/758.html#L1003'>conn</a>             1003 ext/mysql/php_mysql.c 		if (!mysql-&gt;conn) {</span>
<span class='curline'><a href='../S/758.html#L1012'>conn</a>             1012 ext/mysql/php_mysql.c 			mysql_options(mysql-&gt;conn, MYSQL_OPT_CONNECT_TIMEOUT, (const char *)&amp;connect_timeout);</span>
<span class='curline'><a href='../S/758.html#L1016'>conn</a>             1016 ext/mysql/php_mysql.c 		if (mysql_real_connect(mysql-&gt;conn, host, user, passwd, NULL, port, socket, client_flags)==NULL)</span>
<span class='curline'><a href='../S/758.html#L1018'>conn</a>             1018 ext/mysql/php_mysql.c 		if (mysqlnd_connect(mysql-&gt;conn, host, user, passwd, passwd_len, NULL, 0, port, socket, client_flags, MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA TSRMLS_CC) == NULL)</span>
<span class='curline'><a href='../S/758.html#L1025'>conn</a>             1025 ext/mysql/php_mysql.c 			MySG(connect_error) = estrdup(mysql_error(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1028'>conn</a>             1028 ext/mysql/php_mysql.c 			MySG(connect_errno) = mysql_errno(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1032'>conn</a>             1032 ext/mysql/php_mysql.c 			mysqlnd_close(mysql-&gt;conn, MYSQLND_CLOSE_DISCONNECTED);</span>
<span class='curline'><a href='../S/758.html#L1038'>conn</a>             1038 ext/mysql/php_mysql.c 		mysql_options(mysql-&gt;conn, MYSQL_OPT_LOCAL_INFILE, (char *)&amp;MySG(allow_local_infile));</span>
<span class='curline'><a href='../S/758.html#L1111'>conn</a>             1111 ext/mysql/php_mysql.c 			mysqlnd_end_psession(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1192'>conn</a>             1192 ext/mysql/php_mysql.c 	RETURN_STRING((char *)mysql_get_host_info(mysql-&gt;conn),1);</span>
<span class='curline'><a href='../S/758.html#L1215'>conn</a>             1215 ext/mysql/php_mysql.c 	RETURN_LONG(mysql_get_proto_info(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1238'>conn</a>             1238 ext/mysql/php_mysql.c 	RETURN_STRING((char *)mysql_get_server_info(mysql-&gt;conn),1);</span>
<span class='curline'><a href='../S/758.html#L1262'>conn</a>             1262 ext/mysql/php_mysql.c 	if ((str = (char *)mysql_info(mysql-&gt;conn))) {</span>
<span class='curline'><a href='../S/758.html#L1288'>conn</a>             1288 ext/mysql/php_mysql.c 	RETURN_LONG((long) mysql_thread_id(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1316'>conn</a>             1316 ext/mysql/php_mysql.c 	if ((stat = (char *)mysql_stat(mysql-&gt;conn))) {</span>
<span class='curline'><a href='../S/758.html#L1319'>conn</a>             1319 ext/mysql/php_mysql.c 	if (mysqlnd_stat(mysql-&gt;conn, &amp;stat, &amp;stat_len) == PASS) {</span>
<span class='curline'><a href='../S/758.html#L1346'>conn</a>             1346 ext/mysql/php_mysql.c 	RETURN_STRING((char *)mysql_character_set_name(mysql-&gt;conn), 1);</span>
<span class='curline'><a href='../S/758.html#L1372'>conn</a>             1372 ext/mysql/php_mysql.c 	if (!mysql_set_character_set(mysql-&gt;conn, csname)) {</span>
<span class='curline'><a href='../S/758.html#L1406'>conn</a>             1406 ext/mysql/php_mysql.c 	if (mysql_create_db(mysql-&gt;conn, db)==0) {</span>
<span class='curline'><a href='../S/758.html#L1435'>conn</a>             1435 ext/mysql/php_mysql.c 	if (mysql_drop_db(mysql-&gt;conn, db)==0) {</span>
<span class='curline'><a href='../S/758.html#L1472'>conn</a>             1472 ext/mysql/php_mysql.c 			mysql_real_query(mysql-&gt;conn, newquery, newql);</span>
<span class='curline'><a href='../S/758.html#L1474'>conn</a>             1474 ext/mysql/php_mysql.c 			if (mysql_errno(mysql-&gt;conn)) {</span>
<span class='curline'><a href='../S/758.html#L1475'>conn</a>             1475 ext/mysql/php_mysql.c 				php_error_docref("http://www.mysql.com/doc" TSRMLS_CC, E_WARNING, "%s", mysql_error(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1479'>conn</a>             1479 ext/mysql/php_mysql.c     			mysql_result = mysql_use_result(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1495'>conn</a>             1495 ext/mysql/php_mysql.c 	if (mysql_real_query(mysql-&gt;conn, query, query_len)!=0) {</span>
<span class='curline'><a href='../S/758.html#L1498'>conn</a>             1498 ext/mysql/php_mysql.c 			if (mysql_errno(mysql-&gt;conn)){</span>
<span class='curline'><a href='../S/758.html#L1499'>conn</a>             1499 ext/mysql/php_mysql.c 				php_error_docref("http://www.mysql.com/doc" TSRMLS_CC, E_WARNING, "%s", mysql_error(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1505'>conn</a>             1505 ext/mysql/php_mysql.c 	if (mysql_query(mysql-&gt;conn, query)!=0) {</span>
<span class='curline'><a href='../S/758.html#L1508'>conn</a>             1508 ext/mysql/php_mysql.c 			if (mysql_errno(mysql-&gt;conn)){</span>
<span class='curline'><a href='../S/758.html#L1509'>conn</a>             1509 ext/mysql/php_mysql.c 				php_error_docref("http://www.mysql.com/doc" TSRMLS_CC, E_WARNING, "%s", mysql_error(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1516'>conn</a>             1516 ext/mysql/php_mysql.c 		mysql_result=mysql_use_result(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1518'>conn</a>             1518 ext/mysql/php_mysql.c 		mysql_result=mysql_store_result(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1521'>conn</a>             1521 ext/mysql/php_mysql.c 		if (PHP_MYSQL_VALID_RESULT(mysql-&gt;conn)) { /* query should have returned rows */</span>
<span class='curline'><a href='../S/758.html#L1625'>conn</a>             1625 ext/mysql/php_mysql.c 	if ((mysql_result=mysql_list_dbs(mysql-&gt;conn, NULL))==NULL) {</span>
<span class='curline'><a href='../S/758.html#L1663'>conn</a>             1663 ext/mysql/php_mysql.c 	if ((mysql_result=mysql_list_tables(mysql-&gt;conn, NULL))==NULL) {</span>
<span class='curline'><a href='../S/758.html#L1701'>conn</a>             1701 ext/mysql/php_mysql.c 	if ((mysql_result=mysql_list_fields(mysql-&gt;conn, table, NULL))==NULL) {</span>
<span class='curline'><a href='../S/758.html#L1732'>conn</a>             1732 ext/mysql/php_mysql.c 	mysql_result = mysql_list_processes(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1769'>conn</a>             1769 ext/mysql/php_mysql.c 	RETURN_STRING((char *)mysql_error(mysql-&gt;conn), 1);</span>
<span class='curline'><a href='../S/758.html#L1800'>conn</a>             1800 ext/mysql/php_mysql.c 	RETURN_LONG(mysql_errno(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/758.html#L1826'>conn</a>             1826 ext/mysql/php_mysql.c 	Z_LVAL_P(return_value) = (long) mysql_affected_rows(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L1879'>conn</a>             1879 ext/mysql/php_mysql.c 	new_str_len = mysql_real_escape_string(mysql-&gt;conn, new_str, str, str_len);</span>
<span class='curline'><a href='../S/758.html#L1906'>conn</a>             1906 ext/mysql/php_mysql.c 	Z_LVAL_P(return_value) = (long) mysql_insert_id(mysql-&gt;conn);</span>
<span class='curline'><a href='../S/758.html#L2673'>conn</a>             2673 ext/mysql/php_mysql.c 	RETURN_BOOL(! mysql_ping(mysql-&gt;conn));</span>
<span class='curline'><a href='../S/762.html#L41'>conn</a>               41 ext/mysqli/mysqli_api.c static void mysqli_tx_cor_options_to_string(const MYSQL * const conn, smart_str * str, const unsigned int mode)</span>
<span class='curline'><a href='../S/762.html#L114'>conn</a>              114 ext/mysqli/mysqli_api.c static int mysqli_commit_or_rollback_libmysql(MYSQL * conn, zend_bool commit, const unsigned int mode, const char * const name TSRMLS_DC)</span>
<span class='curline'><a href='../S/762.html#L118'>conn</a>              118 ext/mysqli/mysqli_api.c 	mysqli_tx_cor_options_to_string(conn, &amp;tmp_str, mode);</span>
<span class='curline'><a href='../S/762.html#L134'>conn</a>              134 ext/mysqli/mysqli_api.c 		ret = mysql_real_query(conn, query, query_len);</span>
<span class='curline'><a href='../S/769.html#L39'>conn</a>               39 ext/mysqli/mysqli_mysqlnd.h #define mysqli_stmt_get_connection(s)	(s)-&gt;data-&gt;conn</span>
<span class='curline'><a href='../S/770.html#L1068'>conn</a>             1068 ext/mysqli/mysqli_nonapi.c static int mysqli_begin_transaction_libmysql(MYSQL * conn, const unsigned int mode, const char * const name TSRMLS_DC)</span>
<span class='curline'><a href='../S/770.html#L1080'>conn</a>             1080 ext/mysqli/mysqli_nonapi.c 		if (mysql_get_server_version(conn) &lt; 50605L) {</span>
<span class='curline'><a href='../S/770.html#L1108'>conn</a>             1108 ext/mysqli/mysqli_nonapi.c 		ret = mysql_real_query(conn, query, query_len);</span>
<span class='curline'><a href='../S/770.html#L1159'>conn</a>             1159 ext/mysqli/mysqli_nonapi.c static int mysqli_savepoint_libmysql(MYSQL * conn, const char * const name, zend_bool release)</span>
<span class='curline'><a href='../S/770.html#L1164'>conn</a>             1164 ext/mysqli/mysqli_nonapi.c 	ret = mysql_real_query(conn, query, query_len);</span>
<span class='curline'><a href='../S/780.html#L70'>conn</a>               70 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, free_options)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L72'>conn</a>               72 ext/mysqlnd/mysqlnd.c 	zend_bool pers = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/780.html#L74'>conn</a>               74 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;charset_name) {</span>
<span class='curline'><a href='../S/780.html#L75'>conn</a>               75 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;charset_name, pers);</span>
<span class='curline'><a href='../S/780.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;charset_name = NULL;</span>
<span class='curline'><a href='../S/780.html#L78'>conn</a>               78 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;auth_protocol) {</span>
<span class='curline'><a href='../S/780.html#L79'>conn</a>               79 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;auth_protocol, pers);</span>
<span class='curline'><a href='../S/780.html#L80'>conn</a>               80 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;auth_protocol = NULL;</span>
<span class='curline'><a href='../S/780.html#L82'>conn</a>               82 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;num_commands) {</span>
<span class='curline'><a href='../S/780.html#L84'>conn</a>               84 ext/mysqlnd/mysqlnd.c 		for (i = 0; i &lt; conn-&gt;options-&gt;num_commands; i++) {</span>
<span class='curline'><a href='../S/780.html#L86'>conn</a>               86 ext/mysqlnd/mysqlnd.c 			mnd_pefree(conn-&gt;options-&gt;init_commands[i], pers);</span>
<span class='curline'><a href='../S/780.html#L88'>conn</a>               88 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;init_commands, pers);</span>
<span class='curline'><a href='../S/780.html#L89'>conn</a>               89 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;init_commands = NULL;</span>
<span class='curline'><a href='../S/780.html#L91'>conn</a>               91 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;cfg_file) {</span>
<span class='curline'><a href='../S/780.html#L92'>conn</a>               92 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;cfg_file, pers);</span>
<span class='curline'><a href='../S/780.html#L93'>conn</a>               93 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;cfg_file = NULL;</span>
<span class='curline'><a href='../S/780.html#L95'>conn</a>               95 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;cfg_section) {</span>
<span class='curline'><a href='../S/780.html#L96'>conn</a>               96 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;cfg_section, pers);</span>
<span class='curline'><a href='../S/780.html#L97'>conn</a>               97 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;cfg_section = NULL;</span>
<span class='curline'><a href='../S/780.html#L99'>conn</a>               99 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/780.html#L100'>conn</a>              100 ext/mysqlnd/mysqlnd.c 		zend_hash_destroy(conn-&gt;options-&gt;connect_attr);</span>
<span class='curline'><a href='../S/780.html#L101'>conn</a>              101 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;options-&gt;connect_attr, pers);</span>
<span class='curline'><a href='../S/780.html#L102'>conn</a>              102 ext/mysqlnd/mysqlnd.c 		conn-&gt;options-&gt;connect_attr = NULL;</span>
<span class='curline'><a href='../S/780.html#L110'>conn</a>              110 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, free_contents)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L112'>conn</a>              112 ext/mysqlnd/mysqlnd.c 	zend_bool pers = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/780.html#L116'>conn</a>              116 ext/mysqlnd/mysqlnd.c 	mysqlnd_local_infile_default(conn);</span>
<span class='curline'><a href='../S/780.html#L117'>conn</a>              117 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/780.html#L118'>conn</a>              118 ext/mysqlnd/mysqlnd.c 		conn-&gt;current_result-&gt;m.free_result(conn-&gt;current_result, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L119'>conn</a>              119 ext/mysqlnd/mysqlnd.c 		conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/780.html#L122'>conn</a>              122 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;net) {</span>
<span class='curline'><a href='../S/780.html#L123'>conn</a>              123 ext/mysqlnd/mysqlnd.c 		conn-&gt;net-&gt;data-&gt;m.free_contents(conn-&gt;net TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L128'>conn</a>              128 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;host) {</span>
<span class='curline'><a href='../S/780.html#L129'>conn</a>              129 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;host, pers);</span>
<span class='curline'><a href='../S/780.html#L130'>conn</a>              130 ext/mysqlnd/mysqlnd.c 		conn-&gt;host = NULL;</span>
<span class='curline'><a href='../S/780.html#L132'>conn</a>              132 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;user) {</span>
<span class='curline'><a href='../S/780.html#L133'>conn</a>              133 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;user, pers);</span>
<span class='curline'><a href='../S/780.html#L134'>conn</a>              134 ext/mysqlnd/mysqlnd.c 		conn-&gt;user = NULL;</span>
<span class='curline'><a href='../S/780.html#L136'>conn</a>              136 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;passwd) {</span>
<span class='curline'><a href='../S/780.html#L137'>conn</a>              137 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;passwd, pers);</span>
<span class='curline'><a href='../S/780.html#L138'>conn</a>              138 ext/mysqlnd/mysqlnd.c 		conn-&gt;passwd = NULL;</span>
<span class='curline'><a href='../S/780.html#L140'>conn</a>              140 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/780.html#L141'>conn</a>              141 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;connect_or_select_db, pers);</span>
<span class='curline'><a href='../S/780.html#L142'>conn</a>              142 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db = NULL;</span>
<span class='curline'><a href='../S/780.html#L144'>conn</a>              144 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;unix_socket) {</span>
<span class='curline'><a href='../S/780.html#L145'>conn</a>              145 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;unix_socket, pers);</span>
<span class='curline'><a href='../S/780.html#L146'>conn</a>              146 ext/mysqlnd/mysqlnd.c 		conn-&gt;unix_socket = NULL;</span>
<span class='curline'><a href='../S/780.html#L148'>conn</a>              148 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("scheme=%s", conn-&gt;scheme);</span>
<span class='curline'><a href='../S/780.html#L149'>conn</a>              149 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;scheme) {</span>
<span class='curline'><a href='../S/780.html#L150'>conn</a>              150 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;scheme, pers);</span>
<span class='curline'><a href='../S/780.html#L151'>conn</a>              151 ext/mysqlnd/mysqlnd.c 		conn-&gt;scheme = NULL;</span>
<span class='curline'><a href='../S/780.html#L153'>conn</a>              153 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;server_version) {</span>
<span class='curline'><a href='../S/780.html#L154'>conn</a>              154 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;server_version, pers);</span>
<span class='curline'><a href='../S/780.html#L155'>conn</a>              155 ext/mysqlnd/mysqlnd.c 		conn-&gt;server_version = NULL;</span>
<span class='curline'><a href='../S/780.html#L157'>conn</a>              157 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/780.html#L158'>conn</a>              158 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;host_info, pers);</span>
<span class='curline'><a href='../S/780.html#L159'>conn</a>              159 ext/mysqlnd/mysqlnd.c 		conn-&gt;host_info = NULL;</span>
<span class='curline'><a href='../S/780.html#L161'>conn</a>              161 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;auth_plugin_data) {</span>
<span class='curline'><a href='../S/780.html#L162'>conn</a>              162 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;auth_plugin_data, pers);</span>
<span class='curline'><a href='../S/780.html#L163'>conn</a>              163 ext/mysqlnd/mysqlnd.c 		conn-&gt;auth_plugin_data = NULL;</span>
<span class='curline'><a href='../S/780.html#L165'>conn</a>              165 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;last_message) {</span>
<span class='curline'><a href='../S/780.html#L166'>conn</a>              166 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;last_message, pers);</span>
<span class='curline'><a href='../S/780.html#L167'>conn</a>              167 ext/mysqlnd/mysqlnd.c 		conn-&gt;last_message = NULL;</span>
<span class='curline'><a href='../S/780.html#L169'>conn</a>              169 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;error_info-&gt;error_list) {</span>
<span class='curline'><a href='../S/780.html#L170'>conn</a>              170 ext/mysqlnd/mysqlnd.c 		zend_llist_clean(conn-&gt;error_info-&gt;error_list);</span>
<span class='curline'><a href='../S/780.html#L171'>conn</a>              171 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;error_info-&gt;error_list, pers);</span>
<span class='curline'><a href='../S/780.html#L172'>conn</a>              172 ext/mysqlnd/mysqlnd.c 		conn-&gt;error_info-&gt;error_list = NULL;</span>
<span class='curline'><a href='../S/780.html#L174'>conn</a>              174 ext/mysqlnd/mysqlnd.c 	conn-&gt;charset = NULL;</span>
<span class='curline'><a href='../S/780.html#L175'>conn</a>              175 ext/mysqlnd/mysqlnd.c 	conn-&gt;greet_charset = NULL;</span>
<span class='curline'><a href='../S/780.html#L184'>conn</a>              184 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, dtor)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L187'>conn</a>              187 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;free_contents(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L190'>conn</a>              190 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;free_options(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L192'>conn</a>              192 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;net) {</span>
<span class='curline'><a href='../S/780.html#L193'>conn</a>              193 ext/mysqlnd/mysqlnd.c 		mysqlnd_net_free(conn-&gt;net, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L194'>conn</a>              194 ext/mysqlnd/mysqlnd.c 		conn-&gt;net = NULL;</span>
<span class='curline'><a href='../S/780.html#L197'>conn</a>              197 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/780.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd.c 		mysqlnd_protocol_free(conn-&gt;protocol TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L199'>conn</a>              199 ext/mysqlnd/mysqlnd.c 		conn-&gt;protocol = NULL;</span>
<span class='curline'><a href='../S/780.html#L202'>conn</a>              202 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;stats) {</span>
<span class='curline'><a href='../S/780.html#L203'>conn</a>              203 ext/mysqlnd/mysqlnd.c 		mysqlnd_stats_end(conn-&gt;stats);</span>
<span class='curline'><a href='../S/780.html#L206'>conn</a>              206 ext/mysqlnd/mysqlnd.c 	mnd_pefree(conn, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L215'>conn</a>              215 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, simple_command_handle_response)(MYSQLND_CONN_DATA * conn, enum mysqlnd_packet_type ok_packet,</span>
<span class='curline'><a href='../S/780.html#L226'>conn</a>              226 ext/mysqlnd/mysqlnd.c 			MYSQLND_PACKET_OK * ok_response = conn-&gt;protocol-&gt;m.get_ok_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L228'>conn</a>              228 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L231'>conn</a>              231 ext/mysqlnd/mysqlnd.c 			if (FAIL == (ret = PACKET_READ(ok_response, conn))) {</span>
<span class='curline'><a href='../S/780.html#L241'>conn</a>              241 ext/mysqlnd/mysqlnd.c 					SET_CLIENT_ERROR(*conn-&gt;error_info, ok_response-&gt;error_no, ok_response-&gt;sqlstate, ok_response-&gt;error);</span>
<span class='curline'><a href='../S/780.html#L252'>conn</a>              252 ext/mysqlnd/mysqlnd.c 					conn-&gt;upsert_status-&gt;server_status &amp;= ~SERVER_MORE_RESULTS_EXISTS;</span>
<span class='curline'><a href='../S/780.html#L253'>conn</a>              253 ext/mysqlnd/mysqlnd.c 					SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L255'>conn</a>              255 ext/mysqlnd/mysqlnd.c 					SET_NEW_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len,</span>
<span class='curline'><a href='../S/780.html#L257'>conn</a>              257 ext/mysqlnd/mysqlnd.c 									conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L260'>conn</a>              260 ext/mysqlnd/mysqlnd.c 						memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/780.html#L261'>conn</a>              261 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;warning_count = ok_response-&gt;warning_count;</span>
<span class='curline'><a href='../S/780.html#L262'>conn</a>              262 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;server_status = ok_response-&gt;server_status;</span>
<span class='curline'><a href='../S/780.html#L263'>conn</a>              263 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;affected_rows = ok_response-&gt;affected_rows;</span>
<span class='curline'><a href='../S/780.html#L264'>conn</a>              264 ext/mysqlnd/mysqlnd.c 						conn-&gt;upsert_status-&gt;last_insert_id = ok_response-&gt;last_insert_id;</span>
<span class='curline'><a href='../S/780.html#L272'>conn</a>              272 ext/mysqlnd/mysqlnd.c 			MYSQLND_PACKET_EOF * ok_response = conn-&gt;protocol-&gt;m.get_eof_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L274'>conn</a>              274 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L277'>conn</a>              277 ext/mysqlnd/mysqlnd.c 			if (FAIL == (ret = PACKET_READ(ok_response, conn))) {</span>
<span class='curline'><a href='../S/780.html#L278'>conn</a>              278 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/780.html#L287'>conn</a>              287 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, ok_response-&gt;error_no, ok_response-&gt;sqlstate, ok_response-&gt;error);</span>
<span class='curline'><a href='../S/780.html#L288'>conn</a>              288 ext/mysqlnd/mysqlnd.c 				SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L290'>conn</a>              290 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE, "Malformed packet");</span>
<span class='curline'><a href='../S/780.html#L303'>conn</a>              303 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE, "Malformed packet");</span>
<span class='curline'><a href='../S/780.html#L315'>conn</a>              315 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, simple_command_send_request)(MYSQLND_CONN_DATA * conn, enum php_mysqlnd_server_command command,</span>
<span class='curline'><a href='../S/780.html#L323'>conn</a>              323 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/780.html#L326'>conn</a>              326 ext/mysqlnd/mysqlnd.c 	switch (CONN_GET_STATE(conn)) {</span>
<span class='curline'><a href='../S/780.html#L330'>conn</a>              330 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/780.html#L334'>conn</a>              334 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/780.html#L335'>conn</a>              335 ext/mysqlnd/mysqlnd.c 			DBG_ERR_FMT("Command out of sync. State=%u", CONN_GET_STATE(conn));</span>
<span class='curline'><a href='../S/780.html#L339'>conn</a>              339 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L340'>conn</a>              340 ext/mysqlnd/mysqlnd.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L342'>conn</a>              342 ext/mysqlnd/mysqlnd.c 	cmd_packet = conn-&gt;protocol-&gt;m.get_command_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L344'>conn</a>              344 ext/mysqlnd/mysqlnd.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L354'>conn</a>              354 ext/mysqlnd/mysqlnd.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_COM_QUIT + command - 1 /* because of COM_SLEEP */ );</span>
<span class='curline'><a href='../S/780.html#L356'>conn</a>              356 ext/mysqlnd/mysqlnd.c 	if (! PACKET_WRITE(cmd_packet, conn)) {</span>
<span class='curline'><a href='../S/780.html#L361'>conn</a>              361 ext/mysqlnd/mysqlnd.c 		CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/780.html#L362'>conn</a>              362 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L374'>conn</a>              374 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, simple_command)(MYSQLND_CONN_DATA * conn, enum php_mysqlnd_server_command command,</span>
<span class='curline'><a href='../S/780.html#L381'>conn</a>              381 ext/mysqlnd/mysqlnd.c 	ret = conn-&gt;m-&gt;simple_command_send_request(conn, command, arg, arg_len, silent, ignore_upsert_status TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L383'>conn</a>              383 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command_handle_response(conn, ok_packet, silent, command, ignore_upsert_status TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L394'>conn</a>              394 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_server_option)(MYSQLND_CONN_DATA * const conn, enum_mysqlnd_server_option option TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L400'>conn</a>              400 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L403'>conn</a>              403 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_SET_OPTION, buffer, sizeof(buffer), PROT_EOF_PACKET, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L405'>conn</a>              405 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L414'>conn</a>              414 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, restart_psession)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L417'>conn</a>              417 ext/mysqlnd/mysqlnd.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CONNECT_REUSED);</span>
<span class='curline'><a href='../S/780.html#L419'>conn</a>              419 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;last_message) {</span>
<span class='curline'><a href='../S/780.html#L420'>conn</a>              420 ext/mysqlnd/mysqlnd.c 		mnd_pefree(conn-&gt;last_message, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L421'>conn</a>              421 ext/mysqlnd/mysqlnd.c 		conn-&gt;last_message = NULL;</span>
<span class='curline'><a href='../S/780.html#L430'>conn</a>              430 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, end_psession)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L441'>conn</a>              441 ext/mysqlnd/mysqlnd.c 			MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/780.html#L479'>conn</a>              479 ext/mysqlnd/mysqlnd.c 	auth_packet = conn-&gt;protocol-&gt;m.get_auth_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L481'>conn</a>              481 ext/mysqlnd/mysqlnd.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L505'>conn</a>              505 ext/mysqlnd/mysqlnd.c 			if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/780.html#L509'>conn</a>              509 ext/mysqlnd/mysqlnd.c 			conn-&gt;net-&gt;data-&gt;m.set_client_option(conn-&gt;net, MYSQL_OPT_SSL_VERIFY_SERVER_CERT, (const char *) &amp;verify TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L511'>conn</a>              511 ext/mysqlnd/mysqlnd.c 			if (FAIL == conn-&gt;net-&gt;data-&gt;m.enable_ssl(conn-&gt;net TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L518'>conn</a>              518 ext/mysqlnd/mysqlnd.c 	if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/780.html#L528'>conn</a>              528 ext/mysqlnd/mysqlnd.c 	CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/780.html#L529'>conn</a>              529 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L530'>conn</a>              530 ext/mysqlnd/mysqlnd.c 	SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/780.html#L558'>conn</a>              558 ext/mysqlnd/mysqlnd.c 			MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/780.html#L599'>conn</a>              599 ext/mysqlnd/mysqlnd.c 		struct st_mysqlnd_authentication_plugin * auth_plugin = conn-&gt;m-&gt;fetch_auth_plugin_by_name(requested_protocol TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L603'>conn</a>              603 ext/mysqlnd/mysqlnd.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE, "The server requested authentication method unknown to the client");</span>
<span class='curline'><a href='../S/780.html#L617'>conn</a>              617 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;auth_plugin_data) {</span>
<span class='curline'><a href='../S/780.html#L618'>conn</a>              618 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;auth_plugin_data, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L619'>conn</a>              619 ext/mysqlnd/mysqlnd.c 				conn-&gt;auth_plugin_data = NULL;</span>
<span class='curline'><a href='../S/780.html#L621'>conn</a>              621 ext/mysqlnd/mysqlnd.c 			conn-&gt;auth_plugin_data_len = plugin_data_len;</span>
<span class='curline'><a href='../S/780.html#L622'>conn</a>              622 ext/mysqlnd/mysqlnd.c 			conn-&gt;auth_plugin_data = mnd_pemalloc(conn-&gt;auth_plugin_data_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L623'>conn</a>              623 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;auth_plugin_data) {</span>
<span class='curline'><a href='../S/780.html#L624'>conn</a>              624 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L627'>conn</a>              627 ext/mysqlnd/mysqlnd.c 			memcpy(conn-&gt;auth_plugin_data, plugin_data, plugin_data_len);</span>
<span class='curline'><a href='../S/780.html#L632'>conn</a>              632 ext/mysqlnd/mysqlnd.c 				auth_plugin-&gt;methods.get_auth_data(NULL, &amp;scrambled_data_len, conn, user, passwd, passwd_len,</span>
<span class='curline'><a href='../S/780.html#L633'>conn</a>              633 ext/mysqlnd/mysqlnd.c 												   plugin_data, plugin_data_len, options, &amp;conn-&gt;net-&gt;data-&gt;options, mysql_flags TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L634'>conn</a>              634 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/780.html#L638'>conn</a>              638 ext/mysqlnd/mysqlnd.c 				ret = mysqlnd_auth_handshake(conn, user, passwd, passwd_len, db, db_len, options, mysql_flags,</span>
<span class='curline'><a href='../S/780.html#L647'>conn</a>              647 ext/mysqlnd/mysqlnd.c 				ret = mysqlnd_auth_change_user(conn, user, strlen(user), passwd, passwd_len, db, db_len, silent,</span>
<span class='curline'><a href='../S/780.html#L670'>conn</a>              670 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("conn-&gt;error_info-&gt;error_no = %d", conn-&gt;error_info-&gt;error_no);</span>
<span class='curline'><a href='../S/780.html#L671'>conn</a>              671 ext/mysqlnd/mysqlnd.c 	} while (ret == FAIL &amp;&amp; conn-&gt;error_info-&gt;error_no == 0 &amp;&amp; switch_to_auth_protocol != NULL);</span>
<span class='curline'><a href='../S/780.html#L675'>conn</a>              675 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;set_client_option(conn, MYSQLND_OPT_AUTH_PROTOCOL, requested_protocol TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L693'>conn</a>              693 ext/mysqlnd/mysqlnd.c 			MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/780.html#L707'>conn</a>              707 ext/mysqlnd/mysqlnd.c 	ret = mysqlnd_switch_to_ssl_if_needed(conn, greet_packet, options, mysql_flags TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L709'>conn</a>              709 ext/mysqlnd/mysqlnd.c 		ret = mysqlnd_run_authentication(conn, user, passwd, passwd_len, db, db_len,</span>
<span class='curline'><a href='../S/780.html#L720'>conn</a>              720 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, execute_init_commands)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L725'>conn</a>              725 ext/mysqlnd/mysqlnd.c 	if (conn-&gt;options-&gt;init_commands) {</span>
<span class='curline'><a href='../S/780.html#L727'>conn</a>              727 ext/mysqlnd/mysqlnd.c 		for (; current_command &lt; conn-&gt;options-&gt;num_commands; ++current_command) {</span>
<span class='curline'><a href='../S/780.html#L728'>conn</a>              728 ext/mysqlnd/mysqlnd.c 			const char * const command = conn-&gt;options-&gt;init_commands[current_command];</span>
<span class='curline'><a href='../S/780.html#L730'>conn</a>              730 ext/mysqlnd/mysqlnd.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_INIT_COMMAND_EXECUTED_COUNT);</span>
<span class='curline'><a href='../S/780.html#L731'>conn</a>              731 ext/mysqlnd/mysqlnd.c 				if (PASS != conn-&gt;m-&gt;query(conn, command, strlen(command) TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L732'>conn</a>              732 ext/mysqlnd/mysqlnd.c 					MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_INIT_COMMAND_FAILED_COUNT);</span>
<span class='curline'><a href='../S/780.html#L736'>conn</a>              736 ext/mysqlnd/mysqlnd.c 				if (conn-&gt;last_query_type == QUERY_SELECT) {</span>
<span class='curline'><a href='../S/780.html#L737'>conn</a>              737 ext/mysqlnd/mysqlnd.c 					MYSQLND_RES * result = conn-&gt;m-&gt;use_result(conn, 0 TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L752'>conn</a>              752 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_updated_connect_flags)(MYSQLND_CONN_DATA * conn, unsigned int mysql_flags TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L754'>conn</a>              754 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/780.html#L760'>conn</a>              760 ext/mysqlnd/mysqlnd.c 	mysql_flags |= conn-&gt;options-&gt;flags; /* use the flags from set_client_option() */</span>
<span class='curline'><a href='../S/780.html#L790'>conn</a>              790 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, connect_handshake)(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/780.html#L797'>conn</a>              797 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/780.html#L801'>conn</a>              801 ext/mysqlnd/mysqlnd.c 	greet_packet = conn-&gt;protocol-&gt;m.get_greet_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L803'>conn</a>              803 ext/mysqlnd/mysqlnd.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L807'>conn</a>              807 ext/mysqlnd/mysqlnd.c 	if (FAIL == net-&gt;data-&gt;m.connect_ex(conn-&gt;net, conn-&gt;scheme, conn-&gt;scheme_len, conn-&gt;persistent,</span>
<span class='curline'><a href='../S/780.html#L808'>conn</a>              808 ext/mysqlnd/mysqlnd.c 										conn-&gt;stats, conn-&gt;error_info TSRMLS_CC))</span>
<span class='curline'><a href='../S/780.html#L815'>conn</a>              815 ext/mysqlnd/mysqlnd.c 	if (FAIL == PACKET_READ(greet_packet, conn)) {</span>
<span class='curline'><a href='../S/780.html#L821'>conn</a>              821 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, greet_packet-&gt;error_no, greet_packet-&gt;sqlstate, greet_packet-&gt;error);</span>
<span class='curline'><a href='../S/780.html#L827'>conn</a>              827 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/780.html#L832'>conn</a>              832 ext/mysqlnd/mysqlnd.c 	conn-&gt;thread_id			= greet_packet-&gt;thread_id;</span>
<span class='curline'><a href='../S/780.html#L833'>conn</a>              833 ext/mysqlnd/mysqlnd.c 	conn-&gt;protocol_version	= greet_packet-&gt;protocol_version;</span>
<span class='curline'><a href='../S/780.html#L834'>conn</a>              834 ext/mysqlnd/mysqlnd.c 	conn-&gt;server_version	= mnd_pestrdup(greet_packet-&gt;server_version, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L836'>conn</a>              836 ext/mysqlnd/mysqlnd.c 	conn-&gt;greet_charset = mysqlnd_find_charset_nr(greet_packet-&gt;charset_no);</span>
<span class='curline'><a href='../S/780.html#L837'>conn</a>              837 ext/mysqlnd/mysqlnd.c 	if (!conn-&gt;greet_charset) {</span>
<span class='curline'><a href='../S/780.html#L840'>conn</a>              840 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/780.html#L845'>conn</a>              845 ext/mysqlnd/mysqlnd.c 	conn-&gt;client_flag			= mysql_flags;</span>
<span class='curline'><a href='../S/780.html#L846'>conn</a>              846 ext/mysqlnd/mysqlnd.c 	conn-&gt;server_capabilities 	= greet_packet-&gt;server_capabilities;</span>
<span class='curline'><a href='../S/780.html#L848'>conn</a>              848 ext/mysqlnd/mysqlnd.c 	if (FAIL == mysqlnd_connect_run_authentication(conn, user, passwd, db, db_len, (size_t) passwd_len,</span>
<span class='curline'><a href='../S/780.html#L849'>conn</a>              849 ext/mysqlnd/mysqlnd.c 												   greet_packet, conn-&gt;options, mysql_flags TSRMLS_CC))</span>
<span class='curline'><a href='../S/780.html#L853'>conn</a>              853 ext/mysqlnd/mysqlnd.c 	memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/780.html#L854'>conn</a>              854 ext/mysqlnd/mysqlnd.c 	conn-&gt;upsert_status-&gt;warning_count = 0;</span>
<span class='curline'><a href='../S/780.html#L855'>conn</a>              855 ext/mysqlnd/mysqlnd.c 	conn-&gt;upsert_status-&gt;server_status = greet_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/780.html#L856'>conn</a>              856 ext/mysqlnd/mysqlnd.c 	conn-&gt;upsert_status-&gt;affected_rows = 0;</span>
<span class='curline'><a href='../S/780.html#L861'>conn</a>              861 ext/mysqlnd/mysqlnd.c 	conn-&gt;client_flag = 0;</span>
<span class='curline'><a href='../S/780.html#L862'>conn</a>              862 ext/mysqlnd/mysqlnd.c 	conn-&gt;server_capabilities = 0;</span>
<span class='curline'><a href='../S/780.html#L871'>conn</a>              871 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, connect)(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/780.html#L887'>conn</a>              887 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/780.html#L890'>conn</a>              890 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%p", conn);</span>
<span class='curline'><a href='../S/780.html#L892'>conn</a>              892 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L897'>conn</a>              897 ext/mysqlnd/mysqlnd.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L898'>conn</a>              898 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L902'>conn</a>              902 ext/mysqlnd/mysqlnd.c 				conn? conn-&gt;persistent:0, conn? CONN_GET_STATE(conn):-1);</span>
<span class='curline'><a href='../S/780.html#L904'>conn</a>              904 ext/mysqlnd/mysqlnd.c 	if (CONN_GET_STATE(conn) &gt; CONN_ALLOCED &amp;&amp; CONN_GET_STATE(conn) ) {</span>
<span class='curline'><a href='../S/780.html#L907'>conn</a>              907 ext/mysqlnd/mysqlnd.c 		if (CONN_GET_STATE(conn) &lt; CONN_QUIT_SENT) {</span>
<span class='curline'><a href='../S/780.html#L908'>conn</a>              908 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CLOSE_IMPLICIT);</span>
<span class='curline'><a href='../S/780.html#L910'>conn</a>              910 ext/mysqlnd/mysqlnd.c 			conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L913'>conn</a>              913 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;free_contents(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L914'>conn</a>              914 ext/mysqlnd/mysqlnd.c 		MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_CONNECTIONS);</span>
<span class='curline'><a href='../S/780.html#L915'>conn</a>              915 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/780.html#L916'>conn</a>              916 ext/mysqlnd/mysqlnd.c 			MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_PERSISTENT_CONNECTIONS);</span>
<span class='curline'><a href='../S/780.html#L933'>conn</a>              933 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;set_client_option(conn, MYSQLND_OPT_MAX_ALLOWED_PACKET, (char *)&amp;max_allowed_size TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L984'>conn</a>              984 ext/mysqlnd/mysqlnd.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L987'>conn</a>              987 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("transport=%s conn-&gt;scheme=%s", transport, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/780.html#L988'>conn</a>              988 ext/mysqlnd/mysqlnd.c 		conn-&gt;scheme = mnd_pestrndup(transport, transport_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L989'>conn</a>              989 ext/mysqlnd/mysqlnd.c 		conn-&gt;scheme_len = transport_len;</span>
<span class='curline'><a href='../S/780.html#L992'>conn</a>              992 ext/mysqlnd/mysqlnd.c 		if (!conn-&gt;scheme) {</span>
<span class='curline'><a href='../S/780.html#L997'>conn</a>              997 ext/mysqlnd/mysqlnd.c 	mysql_flags = conn-&gt;m-&gt;get_updated_connect_flags(conn, mysql_flags TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L999'>conn</a>              999 ext/mysqlnd/mysqlnd.c 	if (FAIL == conn-&gt;m-&gt;connect_handshake(conn, host, user, passwd, passwd_len, db, db_len, mysql_flags TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1004'>conn</a>             1004 ext/mysqlnd/mysqlnd.c 		CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/780.html#L1016'>conn</a>             1016 ext/mysqlnd/mysqlnd.c 		conn-&gt;user				= mnd_pestrdup(user, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1017'>conn</a>             1017 ext/mysqlnd/mysqlnd.c 		conn-&gt;user_len			= strlen(conn-&gt;user);</span>
<span class='curline'><a href='../S/780.html#L1018'>conn</a>             1018 ext/mysqlnd/mysqlnd.c 		conn-&gt;passwd			= mnd_pestrndup(passwd, passwd_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1019'>conn</a>             1019 ext/mysqlnd/mysqlnd.c 		conn-&gt;passwd_len		= passwd_len;</span>
<span class='curline'><a href='../S/780.html#L1020'>conn</a>             1020 ext/mysqlnd/mysqlnd.c 		conn-&gt;port				= port;</span>
<span class='curline'><a href='../S/780.html#L1021'>conn</a>             1021 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db = mnd_pestrndup(db, db_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1022'>conn</a>             1022 ext/mysqlnd/mysqlnd.c 		conn-&gt;connect_or_select_db_len = db_len;</span>
<span class='curline'><a href='../S/780.html#L1024'>conn</a>             1024 ext/mysqlnd/mysqlnd.c 		if (!conn-&gt;user || !conn-&gt;passwd || !conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/780.html#L1025'>conn</a>             1025 ext/mysqlnd/mysqlnd.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1030'>conn</a>             1030 ext/mysqlnd/mysqlnd.c 			conn-&gt;host = mnd_pestrdup(host, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1031'>conn</a>             1031 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;host) {</span>
<span class='curline'><a href='../S/780.html#L1032'>conn</a>             1032 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1035'>conn</a>             1035 ext/mysqlnd/mysqlnd.c 			conn-&gt;host_len = strlen(conn-&gt;host);</span>
<span class='curline'><a href='../S/780.html#L1038'>conn</a>             1038 ext/mysqlnd/mysqlnd.c 				mnd_sprintf(&amp;p, 0, "%s via TCP/IP", conn-&gt;host);</span>
<span class='curline'><a href='../S/780.html#L1040'>conn</a>             1040 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1043'>conn</a>             1043 ext/mysqlnd/mysqlnd.c 				conn-&gt;host_info =  mnd_pestrdup(p, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1045'>conn</a>             1045 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/780.html#L1046'>conn</a>             1046 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1051'>conn</a>             1051 ext/mysqlnd/mysqlnd.c 			conn-&gt;unix_socket = mnd_pestrdup(socket_or_pipe, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1053'>conn</a>             1053 ext/mysqlnd/mysqlnd.c 				conn-&gt;host_info = mnd_pestrdup("Localhost via UNIX socket", conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1056'>conn</a>             1056 ext/mysqlnd/mysqlnd.c 				mnd_sprintf(&amp;p, 0, "%s via named pipe", conn-&gt;unix_socket);</span>
<span class='curline'><a href='../S/780.html#L1058'>conn</a>             1058 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1061'>conn</a>             1061 ext/mysqlnd/mysqlnd.c 				conn-&gt;host_info =  mnd_pestrdup(p, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1063'>conn</a>             1063 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/780.html#L1064'>conn</a>             1064 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1070'>conn</a>             1070 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;unix_socket || !conn-&gt;host_info) {</span>
<span class='curline'><a href='../S/780.html#L1071'>conn</a>             1071 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1074'>conn</a>             1074 ext/mysqlnd/mysqlnd.c 			conn-&gt;unix_socket_len = strlen(conn-&gt;unix_socket);</span>
<span class='curline'><a href='../S/780.html#L1076'>conn</a>             1076 ext/mysqlnd/mysqlnd.c 		conn-&gt;max_packet_size	= MYSQLND_ASSEMBLED_PACKET_MAX_SIZE;</span>
<span class='curline'><a href='../S/780.html#L1079'>conn</a>             1079 ext/mysqlnd/mysqlnd.c 		SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1081'>conn</a>             1081 ext/mysqlnd/mysqlnd.c 		mysqlnd_local_infile_default(conn);</span>
<span class='curline'><a href='../S/780.html#L1083'>conn</a>             1083 ext/mysqlnd/mysqlnd.c 		if (FAIL == conn-&gt;m-&gt;execute_init_commands(conn TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1087'>conn</a>             1087 ext/mysqlnd/mysqlnd.c 		MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, STAT_CONNECT_SUCCESS, 1, STAT_OPENED_CONNECTIONS, 1);</span>
<span class='curline'><a href='../S/780.html#L1091'>conn</a>             1091 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/780.html#L1092'>conn</a>             1092 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, STAT_PCONNECT_SUCCESS, 1, STAT_OPENED_PERSISTENT_CONNECTIONS, 1);</span>
<span class='curline'><a href='../S/780.html#L1095'>conn</a>             1095 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("connection_id=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L1097'>conn</a>             1097 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, PASS TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1102'>conn</a>             1102 ext/mysqlnd/mysqlnd.c 	DBG_ERR_FMT("[%u] %.128s (trying to connect via %s)", conn-&gt;error_info-&gt;error_no, conn-&gt;error_info-&gt;error, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/780.html#L1103'>conn</a>             1103 ext/mysqlnd/mysqlnd.c 	if (!conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/780.html#L1104'>conn</a>             1104 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_CONNECTION_ERROR, UNKNOWN_SQLSTATE, conn-&gt;error_info-&gt;error? conn-&gt;error_info-&gt;error:"Unknown error");</span>
<span class='curline'><a href='../S/780.html#L1106'>conn</a>             1106 ext/mysqlnd/mysqlnd.c 						 conn-&gt;error_info-&gt;error_no, conn-&gt;error_info-&gt;error, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/780.html#L1109'>conn</a>             1109 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;free_contents(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1110'>conn</a>             1110 ext/mysqlnd/mysqlnd.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CONNECT_FAILURE);</span>
<span class='curline'><a href='../S/780.html#L1112'>conn</a>             1112 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1133'>conn</a>             1133 ext/mysqlnd/mysqlnd.c 	MYSQLND_CONN_DATA * conn = conn_handle-&gt;data;</span>
<span class='curline'><a href='../S/780.html#L1137'>conn</a>             1137 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1139'>conn</a>             1139 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;connect(conn, host, user, passwd, passwd_len, db, db_len, port, socket_or_pipe, mysql_flags TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1141'>conn</a>             1141 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1196'>conn</a>             1196 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, query)(MYSQLND_CONN_DATA * conn, const char * query, unsigned int query_len TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1201'>conn</a>             1201 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%p conn=%llu query=%s", conn, conn-&gt;thread_id, query);</span>
<span class='curline'><a href='../S/780.html#L1203'>conn</a>             1203 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1204'>conn</a>             1204 ext/mysqlnd/mysqlnd.c 		if (PASS == conn-&gt;m-&gt;send_query(conn, query, query_len TSRMLS_CC) &amp;&amp;</span>
<span class='curline'><a href='../S/780.html#L1205'>conn</a>             1205 ext/mysqlnd/mysqlnd.c 			PASS == conn-&gt;m-&gt;reap_query(conn TSRMLS_CC))</span>
<span class='curline'><a href='../S/780.html#L1208'>conn</a>             1208 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type == QUERY_UPSERT &amp;&amp; conn-&gt;upsert_status-&gt;affected_rows) {</span>
<span class='curline'><a href='../S/780.html#L1209'>conn</a>             1209 ext/mysqlnd/mysqlnd.c 				MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats, STAT_ROWS_AFFECTED_NORMAL, conn-&gt;upsert_status-&gt;affected_rows);</span>
<span class='curline'><a href='../S/780.html#L1212'>conn</a>             1212 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1221'>conn</a>             1221 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, send_query)(MYSQLND_CONN_DATA * conn, const char * query, unsigned int query_len TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1226'>conn</a>             1226 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu query=%s", conn-&gt;thread_id, query);</span>
<span class='curline'><a href='../S/780.html#L1227'>conn</a>             1227 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/780.html#L1229'>conn</a>             1229 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1230'>conn</a>             1230 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_QUERY, (zend_uchar *) query, query_len,</span>
<span class='curline'><a href='../S/780.html#L1234'>conn</a>             1234 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUERY_SENT);</span>
<span class='curline'><a href='../S/780.html#L1236'>conn</a>             1236 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1238'>conn</a>             1238 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/780.html#L1246'>conn</a>             1246 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, reap_query)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1249'>conn</a>             1249 ext/mysqlnd/mysqlnd.c 	enum_mysqlnd_connection_state state = CONN_GET_STATE(conn);</span>
<span class='curline'><a href='../S/780.html#L1252'>conn</a>             1252 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L1254'>conn</a>             1254 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/780.html#L1255'>conn</a>             1255 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1261'>conn</a>             1261 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;query_read_result_set_header(conn, NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1263'>conn</a>             1263 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1265'>conn</a>             1265 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/780.html#L1470'>conn</a>             1470 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, list_fields)(MYSQLND_CONN_DATA * conn, const char *table, const char *achtung_wild TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1478'>conn</a>             1478 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu table=%s wild=%s", conn-&gt;thread_id, table? table:"",achtung_wild? achtung_wild:"");</span>
<span class='curline'><a href='../S/780.html#L1480'>conn</a>             1480 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1497'>conn</a>             1497 ext/mysqlnd/mysqlnd.c 			if (PASS != conn-&gt;m-&gt;simple_command(conn, COM_FIELD_LIST, buff, p - buff,</span>
<span class='curline'><a href='../S/780.html#L1500'>conn</a>             1500 ext/mysqlnd/mysqlnd.c 				conn-&gt;m-&gt;local_tx_end(conn, 0, FAIL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1508'>conn</a>             1508 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;m-&gt;result_init(5000, conn-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1513'>conn</a>             1513 ext/mysqlnd/mysqlnd.c 			if (FAIL == result-&gt;m.read_result_metadata(result, conn TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1524'>conn</a>             1524 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1531'>conn</a>             1531 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1541'>conn</a>             1541 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, list_method)(MYSQLND_CONN_DATA * conn, const char * query, const char *achtung_wild, char *par1 TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1549'>conn</a>             1549 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu query=%s wild=%u", conn-&gt;thread_id, query, achtung_wild);</span>
<span class='curline'><a href='../S/780.html#L1551'>conn</a>             1551 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1566'>conn</a>             1566 ext/mysqlnd/mysqlnd.c 		if (PASS == conn-&gt;m-&gt;query(conn, show_query, show_query_len TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1567'>conn</a>             1567 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;m-&gt;store_result(conn, MYSQLND_STORE_NO_COPY TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1572'>conn</a>             1572 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1581'>conn</a>             1581 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, errno)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1583'>conn</a>             1583 ext/mysqlnd/mysqlnd.c 	return conn-&gt;error_info-&gt;error_no;</span>
<span class='curline'><a href='../S/780.html#L1590'>conn</a>             1590 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, error)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1592'>conn</a>             1592 ext/mysqlnd/mysqlnd.c 	return conn-&gt;error_info-&gt;error;</span>
<span class='curline'><a href='../S/780.html#L1599'>conn</a>             1599 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, sqlstate)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1601'>conn</a>             1601 ext/mysqlnd/mysqlnd.c 	return conn-&gt;error_info-&gt;sqlstate[0] ? conn-&gt;error_info-&gt;sqlstate:MYSQLND_SQLSTATE_NULL;</span>
<span class='curline'><a href='../S/780.html#L1618'>conn</a>             1618 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, ssl_set)(MYSQLND_CONN_DATA * const conn, const char * key, const char * const cert,</span>
<span class='curline'><a href='../S/780.html#L1623'>conn</a>             1623 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/780.html#L1626'>conn</a>             1626 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1633'>conn</a>             1633 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1642'>conn</a>             1642 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, escape_string)(MYSQLND_CONN_DATA * const conn, char * newstr, const char * escapestr, size_t escapestr_len TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1647'>conn</a>             1647 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L1649'>conn</a>             1649 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1650'>conn</a>             1650 ext/mysqlnd/mysqlnd.c 		DBG_INF_FMT("server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/780.html#L1651'>conn</a>             1651 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;upsert_status-&gt;server_status &amp; SERVER_STATUS_NO_BACKSLASH_ESCAPES) {</span>
<span class='curline'><a href='../S/780.html#L1652'>conn</a>             1652 ext/mysqlnd/mysqlnd.c 			ret = mysqlnd_cset_escape_quotes(conn-&gt;charset, newstr, escapestr, escapestr_len TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1654'>conn</a>             1654 ext/mysqlnd/mysqlnd.c 			ret = mysqlnd_cset_escape_slashes(conn-&gt;charset, newstr, escapestr, escapestr_len TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1656'>conn</a>             1656 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, PASS TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1665'>conn</a>             1665 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, dump_debug_info)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1670'>conn</a>             1670 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L1671'>conn</a>             1671 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1672'>conn</a>             1672 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_DEBUG, NULL, 0, PROT_EOF_PACKET, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1674'>conn</a>             1674 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1684'>conn</a>             1684 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, select_db)(MYSQLND_CONN_DATA * const conn, const char * const db, unsigned int db_len TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1690'>conn</a>             1690 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu db=%s", conn-&gt;thread_id, db);</span>
<span class='curline'><a href='../S/780.html#L1692'>conn</a>             1692 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1693'>conn</a>             1693 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_INIT_DB, (zend_uchar*) db, db_len, PROT_OK_PACKET, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1698'>conn</a>             1698 ext/mysqlnd/mysqlnd.c 		SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L1700'>conn</a>             1700 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/780.html#L1701'>conn</a>             1701 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;connect_or_select_db, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1703'>conn</a>             1703 ext/mysqlnd/mysqlnd.c 			conn-&gt;connect_or_select_db = mnd_pestrndup(db, db_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L1704'>conn</a>             1704 ext/mysqlnd/mysqlnd.c 			conn-&gt;connect_or_select_db_len = db_len;</span>
<span class='curline'><a href='../S/780.html#L1705'>conn</a>             1705 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;connect_or_select_db) {</span>
<span class='curline'><a href='../S/780.html#L1707'>conn</a>             1707 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1711'>conn</a>             1711 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1720'>conn</a>             1720 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, ping)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1726'>conn</a>             1726 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L1728'>conn</a>             1728 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1729'>conn</a>             1729 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_PING, NULL, 0, PROT_OK_PACKET, TRUE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1734'>conn</a>             1734 ext/mysqlnd/mysqlnd.c 		SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L1736'>conn</a>             1736 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1746'>conn</a>             1746 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, statistic)(MYSQLND_CONN_DATA * conn, char **message, unsigned int * message_len TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1753'>conn</a>             1753 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L1755'>conn</a>             1755 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1757'>conn</a>             1757 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;simple_command(conn, COM_STATISTICS, NULL, 0, PROT_LAST, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1761'>conn</a>             1761 ext/mysqlnd/mysqlnd.c 			stats_header = conn-&gt;protocol-&gt;m.get_stats_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1763'>conn</a>             1763 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L1767'>conn</a>             1767 ext/mysqlnd/mysqlnd.c 			if (PASS == (ret = PACKET_READ(stats_header, conn))) {</span>
<span class='curline'><a href='../S/780.html#L1776'>conn</a>             1776 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1785'>conn</a>             1785 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, kill)(MYSQLND_CONN_DATA * conn, unsigned int pid TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1792'>conn</a>             1792 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu pid=%u", conn-&gt;thread_id, pid);</span>
<span class='curline'><a href='../S/780.html#L1794'>conn</a>             1794 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1798'>conn</a>             1798 ext/mysqlnd/mysqlnd.c 		if (pid != conn-&gt;thread_id) {</span>
<span class='curline'><a href='../S/780.html#L1799'>conn</a>             1799 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;simple_command(conn, COM_PROCESS_KILL, buff, 4, PROT_OK_PACKET, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1804'>conn</a>             1804 ext/mysqlnd/mysqlnd.c 			SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L1805'>conn</a>             1805 ext/mysqlnd/mysqlnd.c 		} else if (PASS == (ret = conn-&gt;m-&gt;simple_command(conn, COM_PROCESS_KILL, buff, 4, PROT_LAST, FALSE, TRUE TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/780.html#L1806'>conn</a>             1806 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/780.html#L1807'>conn</a>             1807 ext/mysqlnd/mysqlnd.c 			conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1810'>conn</a>             1810 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1819'>conn</a>             1819 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_charset)(MYSQLND_CONN_DATA * const conn, const char * const csname TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1826'>conn</a>             1826 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu cs=%s", conn-&gt;thread_id, csname);</span>
<span class='curline'><a href='../S/780.html#L1829'>conn</a>             1829 ext/mysqlnd/mysqlnd.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_CANT_FIND_CHARSET, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/780.html#L1834'>conn</a>             1834 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1838'>conn</a>             1838 ext/mysqlnd/mysqlnd.c 		if (FAIL == (ret = conn-&gt;m-&gt;query(conn, query, query_len TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/780.html#L1840'>conn</a>             1840 ext/mysqlnd/mysqlnd.c 		} else if (conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/780.html#L1843'>conn</a>             1843 ext/mysqlnd/mysqlnd.c 			conn-&gt;charset = charset;</span>
<span class='curline'><a href='../S/780.html#L1847'>conn</a>             1847 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1858'>conn</a>             1858 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, refresh)(MYSQLND_CONN_DATA * const conn, uint8_t options TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1864'>conn</a>             1864 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu options=%lu", conn-&gt;thread_id, options);</span>
<span class='curline'><a href='../S/780.html#L1866'>conn</a>             1866 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1869'>conn</a>             1869 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_REFRESH, bits, 1, PROT_OK_PACKET, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1871'>conn</a>             1871 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1880'>conn</a>             1880 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, shutdown)(MYSQLND_CONN_DATA * const conn, uint8_t level TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1886'>conn</a>             1886 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu level=%lu", conn-&gt;thread_id, level);</span>
<span class='curline'><a href='../S/780.html#L1888'>conn</a>             1888 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L1891'>conn</a>             1891 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;simple_command(conn, COM_SHUTDOWN, bits, 1, PROT_OK_PACKET, FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1893'>conn</a>             1893 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1902'>conn</a>             1902 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, send_close)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1905'>conn</a>             1905 ext/mysqlnd/mysqlnd.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/780.html#L1910'>conn</a>             1910 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu net-&gt;data-&gt;stream-&gt;abstract=%p", conn-&gt;thread_id, net_stream? net_stream-&gt;abstract:NULL);</span>
<span class='curline'><a href='../S/780.html#L1912'>conn</a>             1912 ext/mysqlnd/mysqlnd.c 	if (CONN_GET_STATE(conn) &gt;= CONN_READY) {</span>
<span class='curline'><a href='../S/780.html#L1913'>conn</a>             1913 ext/mysqlnd/mysqlnd.c 		MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_CONNECTIONS);</span>
<span class='curline'><a href='../S/780.html#L1914'>conn</a>             1914 ext/mysqlnd/mysqlnd.c 		if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/780.html#L1915'>conn</a>             1915 ext/mysqlnd/mysqlnd.c 			MYSQLND_DEC_CONN_STATISTIC(conn-&gt;stats, STAT_OPENED_PERSISTENT_CONNECTIONS);</span>
<span class='curline'><a href='../S/780.html#L1918'>conn</a>             1918 ext/mysqlnd/mysqlnd.c 	state = CONN_GET_STATE(conn);</span>
<span class='curline'><a href='../S/780.html#L1924'>conn</a>             1924 ext/mysqlnd/mysqlnd.c 				ret = conn-&gt;m-&gt;simple_command(conn, COM_QUIT, NULL, 0, PROT_LAST, TRUE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1925'>conn</a>             1925 ext/mysqlnd/mysqlnd.c 				net-&gt;data-&gt;m.close_stream(net, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1927'>conn</a>             1927 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/780.html#L1938'>conn</a>             1938 ext/mysqlnd/mysqlnd.c 			DBG_ERR_FMT("Brutally closing connection [%p][%s]", conn, conn-&gt;scheme);</span>
<span class='curline'><a href='../S/780.html#L1951'>conn</a>             1951 ext/mysqlnd/mysqlnd.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/780.html#L1955'>conn</a>             1955 ext/mysqlnd/mysqlnd.c 			net-&gt;data-&gt;m.close_stream(net, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1966'>conn</a>             1966 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, get_reference)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1969'>conn</a>             1969 ext/mysqlnd/mysqlnd.c 	++conn-&gt;refcount;</span>
<span class='curline'><a href='../S/780.html#L1970'>conn</a>             1970 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu new_refcount=%u", conn-&gt;thread_id, conn-&gt;refcount);</span>
<span class='curline'><a href='../S/780.html#L1971'>conn</a>             1971 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn);</span>
<span class='curline'><a href='../S/780.html#L1978'>conn</a>             1978 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, free_reference)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L1982'>conn</a>             1982 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu old_refcount=%u", conn-&gt;thread_id, conn-&gt;refcount);</span>
<span class='curline'><a href='../S/780.html#L1983'>conn</a>             1983 ext/mysqlnd/mysqlnd.c 	if (!(--conn-&gt;refcount)) {</span>
<span class='curline'><a href='../S/780.html#L1989'>conn</a>             1989 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1990'>conn</a>             1990 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;dtor(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L1999'>conn</a>             1999 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, get_state)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2002'>conn</a>             2002 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn-&gt;state);</span>
<span class='curline'><a href='../S/780.html#L2009'>conn</a>             2009 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn_data, set_state)(MYSQLND_CONN_DATA * const conn, enum mysqlnd_connection_state new_state TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2013'>conn</a>             2013 ext/mysqlnd/mysqlnd.c 	conn-&gt;state = new_state;</span>
<span class='curline'><a href='../S/780.html#L2021'>conn</a>             2021 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, field_count)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2023'>conn</a>             2023 ext/mysqlnd/mysqlnd.c 	return conn-&gt;field_count;</span>
<span class='curline'><a href='../S/780.html#L2030'>conn</a>             2030 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, server_status)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2032'>conn</a>             2032 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;server_status;</span>
<span class='curline'><a href='../S/780.html#L2039'>conn</a>             2039 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, insert_id)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2041'>conn</a>             2041 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;last_insert_id;</span>
<span class='curline'><a href='../S/780.html#L2048'>conn</a>             2048 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, affected_rows)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2050'>conn</a>             2050 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;affected_rows;</span>
<span class='curline'><a href='../S/780.html#L2057'>conn</a>             2057 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, warning_count)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2059'>conn</a>             2059 ext/mysqlnd/mysqlnd.c 	return conn-&gt;upsert_status-&gt;warning_count;</span>
<span class='curline'><a href='../S/780.html#L2066'>conn</a>             2066 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, info)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2068'>conn</a>             2068 ext/mysqlnd/mysqlnd.c 	return conn-&gt;last_message;</span>
<span class='curline'><a href='../S/780.html#L2090'>conn</a>             2090 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_server_info)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2092'>conn</a>             2092 ext/mysqlnd/mysqlnd.c 	return conn-&gt;server_version;</span>
<span class='curline'><a href='../S/780.html#L2099'>conn</a>             2099 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_host_info)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2101'>conn</a>             2101 ext/mysqlnd/mysqlnd.c 	return conn-&gt;host_info;</span>
<span class='curline'><a href='../S/780.html#L2108'>conn</a>             2108 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_proto_info)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2110'>conn</a>             2110 ext/mysqlnd/mysqlnd.c 	return conn-&gt;protocol_version;</span>
<span class='curline'><a href='../S/780.html#L2117'>conn</a>             2117 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, charset_name)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2119'>conn</a>             2119 ext/mysqlnd/mysqlnd.c 	return conn-&gt;charset-&gt;name;</span>
<span class='curline'><a href='../S/780.html#L2126'>conn</a>             2126 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, thread_id)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2128'>conn</a>             2128 ext/mysqlnd/mysqlnd.c 	return conn-&gt;thread_id;</span>
<span class='curline'><a href='../S/780.html#L2135'>conn</a>             2135 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_server_version)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2140'>conn</a>             2140 ext/mysqlnd/mysqlnd.c 	if (!(p = conn-&gt;server_version)) {</span>
<span class='curline'><a href='../S/780.html#L2157'>conn</a>             2157 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, more_results)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2161'>conn</a>             2161 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS? TRUE:FALSE);</span>
<span class='curline'><a href='../S/780.html#L2168'>conn</a>             2168 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, next_result)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2174'>conn</a>             2174 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L2176'>conn</a>             2176 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2178'>conn</a>             2178 ext/mysqlnd/mysqlnd.c 			if (CONN_GET_STATE(conn) != CONN_NEXT_RESULT_PENDING) {</span>
<span class='curline'><a href='../S/780.html#L2182'>conn</a>             2182 ext/mysqlnd/mysqlnd.c 			SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2183'>conn</a>             2183 ext/mysqlnd/mysqlnd.c 			SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L2188'>conn</a>             2188 ext/mysqlnd/mysqlnd.c 			if (FAIL == (ret = conn-&gt;m-&gt;query_read_result_set_header(conn, NULL TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/780.html#L2193'>conn</a>             2193 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/780.html#L2196'>conn</a>             2196 ext/mysqlnd/mysqlnd.c 					CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/780.html#L2197'>conn</a>             2197 ext/mysqlnd/mysqlnd.c 					conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2199'>conn</a>             2199 ext/mysqlnd/mysqlnd.c 					DBG_INF_FMT("Error from the server : (%u) %s", conn-&gt;error_info-&gt;error_no, conn-&gt;error_info-&gt;error);</span>
<span class='curline'><a href='../S/780.html#L2203'>conn</a>             2203 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type == QUERY_UPSERT &amp;&amp; conn-&gt;upsert_status-&gt;affected_rows) {</span>
<span class='curline'><a href='../S/780.html#L2204'>conn</a>             2204 ext/mysqlnd/mysqlnd.c 				MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats, STAT_ROWS_AFFECTED_NORMAL, conn-&gt;upsert_status-&gt;affected_rows);</span>
<span class='curline'><a href='../S/780.html#L2207'>conn</a>             2207 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2270'>conn</a>             2270 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, change_user)(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/780.html#L2283'>conn</a>             2283 ext/mysqlnd/mysqlnd.c 				conn-&gt;thread_id, user?user:"", passwd?"***":"null", db?db:"", (silent == TRUE)?1:0 );</span>
<span class='curline'><a href='../S/780.html#L2285'>conn</a>             2285 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2289'>conn</a>             2289 ext/mysqlnd/mysqlnd.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2290'>conn</a>             2290 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L2303'>conn</a>             2303 ext/mysqlnd/mysqlnd.c 	ret = mysqlnd_run_authentication(conn, user, passwd, strlen(passwd), db, strlen(db),</span>
<span class='curline'><a href='../S/780.html#L2304'>conn</a>             2304 ext/mysqlnd/mysqlnd.c 									conn-&gt;auth_plugin_data, conn-&gt;auth_plugin_data_len, conn-&gt;options-&gt;auth_protocol,</span>
<span class='curline'><a href='../S/780.html#L2305'>conn</a>             2305 ext/mysqlnd/mysqlnd.c 									0 /*charset not used*/, conn-&gt;options, conn-&gt;server_capabilities, silent, TRUE/*is_change*/ TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2311'>conn</a>             2311 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);	</span>
<span class='curline'><a href='../S/780.html#L2321'>conn</a>             2321 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_client_option)(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/780.html#L2329'>conn</a>             2329 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu option=%u", conn-&gt;thread_id, option);</span>
<span class='curline'><a href='../S/780.html#L2331'>conn</a>             2331 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2350'>conn</a>             2350 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;net-&gt;data-&gt;m.set_client_option(conn-&gt;net, option, value TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2354'>conn</a>             2354 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;int_and_float_native = *(unsigned int*) value;</span>
<span class='curline'><a href='../S/780.html#L2359'>conn</a>             2359 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags |= CLIENT_LOCAL_FILES;</span>
<span class='curline'><a href='../S/780.html#L2361'>conn</a>             2361 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags &amp;= ~CLIENT_LOCAL_FILES;</span>
<span class='curline'><a href='../S/780.html#L2370'>conn</a>             2370 ext/mysqlnd/mysqlnd.c 			new_init_commands = mnd_perealloc(conn-&gt;options-&gt;init_commands, sizeof(char *) * (conn-&gt;options-&gt;num_commands + 1), conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2374'>conn</a>             2374 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;init_commands = new_init_commands;</span>
<span class='curline'><a href='../S/780.html#L2375'>conn</a>             2375 ext/mysqlnd/mysqlnd.c 			new_command = mnd_pestrdup(value, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2379'>conn</a>             2379 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;init_commands[conn-&gt;options-&gt;num_commands] = new_command;</span>
<span class='curline'><a href='../S/780.html#L2380'>conn</a>             2380 ext/mysqlnd/mysqlnd.c 			++conn-&gt;options-&gt;num_commands;</span>
<span class='curline'><a href='../S/780.html#L2395'>conn</a>             2395 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_CANT_FIND_CHARSET, UNKNOWN_SQLSTATE, "Unknown character set");</span>
<span class='curline'><a href='../S/780.html#L2400'>conn</a>             2400 ext/mysqlnd/mysqlnd.c 			new_charset_name = mnd_pestrdup(value, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2404'>conn</a>             2404 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;charset_name) {</span>
<span class='curline'><a href='../S/780.html#L2405'>conn</a>             2405 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;options-&gt;charset_name, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2407'>conn</a>             2407 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;charset_name = new_charset_name;</span>
<span class='curline'><a href='../S/780.html#L2408'>conn</a>             2408 ext/mysqlnd/mysqlnd.c 			DBG_INF_FMT("charset=%s", conn-&gt;options-&gt;charset_name);</span>
<span class='curline'><a href='../S/780.html#L2412'>conn</a>             2412 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;protocol = MYSQL_PROTOCOL_PIPE;</span>
<span class='curline'><a href='../S/780.html#L2416'>conn</a>             2416 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;protocol = *(unsigned int*) value;</span>
<span class='curline'><a href='../S/780.html#L2433'>conn</a>             2433 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;max_allowed_packet = *(unsigned int*) value;</span>
<span class='curline'><a href='../S/780.html#L2438'>conn</a>             2438 ext/mysqlnd/mysqlnd.c 			char * new_auth_protocol = value? mnd_pestrdup(value, conn-&gt;persistent) : NULL;</span>
<span class='curline'><a href='../S/780.html#L2442'>conn</a>             2442 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;auth_protocol) {</span>
<span class='curline'><a href='../S/780.html#L2443'>conn</a>             2443 ext/mysqlnd/mysqlnd.c 				mnd_pefree(conn-&gt;options-&gt;auth_protocol, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2445'>conn</a>             2445 ext/mysqlnd/mysqlnd.c 			conn-&gt;options-&gt;auth_protocol = new_auth_protocol;</span>
<span class='curline'><a href='../S/780.html#L2446'>conn</a>             2446 ext/mysqlnd/mysqlnd.c 			DBG_INF_FMT("auth_protocol=%s", conn-&gt;options-&gt;auth_protocol);</span>
<span class='curline'><a href='../S/780.html#L2451'>conn</a>             2451 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags |= CLIENT_CAN_HANDLE_EXPIRED_PASSWORDS;</span>
<span class='curline'><a href='../S/780.html#L2453'>conn</a>             2453 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;flags &amp;= ~CLIENT_CAN_HANDLE_EXPIRED_PASSWORDS;</span>
<span class='curline'><a href='../S/780.html#L2457'>conn</a>             2457 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/780.html#L2458'>conn</a>             2458 ext/mysqlnd/mysqlnd.c 				DBG_INF_FMT("Before reset %d attribute(s)", zend_hash_num_elements(conn-&gt;options-&gt;connect_attr));</span>
<span class='curline'><a href='../S/780.html#L2459'>conn</a>             2459 ext/mysqlnd/mysqlnd.c 				zend_hash_clean(conn-&gt;options-&gt;connect_attr);</span>
<span class='curline'><a href='../S/780.html#L2463'>conn</a>             2463 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;options-&gt;connect_attr &amp;&amp; value) {</span>
<span class='curline'><a href='../S/780.html#L2464'>conn</a>             2464 ext/mysqlnd/mysqlnd.c 				DBG_INF_FMT("Before delete %d attribute(s)", zend_hash_num_elements(conn-&gt;options-&gt;connect_attr));</span>
<span class='curline'><a href='../S/780.html#L2465'>conn</a>             2465 ext/mysqlnd/mysqlnd.c 				zend_hash_del(conn-&gt;options-&gt;connect_attr, value, strlen(value));</span>
<span class='curline'><a href='../S/780.html#L2466'>conn</a>             2466 ext/mysqlnd/mysqlnd.c 				DBG_INF_FMT("%d left", zend_hash_num_elements(conn-&gt;options-&gt;connect_attr));</span>
<span class='curline'><a href='../S/780.html#L2478'>conn</a>             2478 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2481'>conn</a>             2481 ext/mysqlnd/mysqlnd.c 	SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2482'>conn</a>             2482 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2519'>conn</a>             2519 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_client_option_2d)(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/780.html#L2528'>conn</a>             2528 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu option=%u", conn-&gt;thread_id, option);</span>
<span class='curline'><a href='../S/780.html#L2530'>conn</a>             2530 ext/mysqlnd/mysqlnd.c 	if (PASS != conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2535'>conn</a>             2535 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/780.html#L2537'>conn</a>             2537 ext/mysqlnd/mysqlnd.c 				conn-&gt;options-&gt;connect_attr = mnd_pemalloc(sizeof(HashTable), conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2538'>conn</a>             2538 ext/mysqlnd/mysqlnd.c 				if (!conn-&gt;options-&gt;connect_attr) {</span>
<span class='curline'><a href='../S/780.html#L2541'>conn</a>             2541 ext/mysqlnd/mysqlnd.c 				zend_hash_init(conn-&gt;options-&gt;connect_attr, 0, NULL, conn-&gt;persistent? connect_attr_item_pdtor:connect_attr_item_edtor, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2545'>conn</a>             2545 ext/mysqlnd/mysqlnd.c 				const char * copyv = mnd_pestrdup(value, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L2549'>conn</a>             2549 ext/mysqlnd/mysqlnd.c 				zend_hash_update(conn-&gt;options-&gt;connect_attr, key, strlen(key), &amp;copyv, sizeof(char *), NULL);</span>
<span class='curline'><a href='../S/780.html#L2555'>conn</a>             2555 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);	</span>
<span class='curline'><a href='../S/780.html#L2558'>conn</a>             2558 ext/mysqlnd/mysqlnd.c 	SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2559'>conn</a>             2559 ext/mysqlnd/mysqlnd.c 	conn-&gt;m-&gt;local_tx_end(conn, this_func, FAIL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2568'>conn</a>             2568 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, use_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2574'>conn</a>             2574 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L2576'>conn</a>             2576 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2578'>conn</a>             2578 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/780.html#L2583'>conn</a>             2583 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type != QUERY_SELECT || CONN_GET_STATE(conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/780.html#L2584'>conn</a>             2584 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/780.html#L2589'>conn</a>             2589 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_UNBUFFERED_SETS);</span>
<span class='curline'><a href='../S/780.html#L2591'>conn</a>             2591 ext/mysqlnd/mysqlnd.c 			conn-&gt;current_result-&gt;conn = conn-&gt;m-&gt;get_reference(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2592'>conn</a>             2592 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;current_result-&gt;m.use_result(conn-&gt;current_result, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2595'>conn</a>             2595 ext/mysqlnd/mysqlnd.c 				conn-&gt;current_result-&gt;m.free_result(conn-&gt;current_result, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2597'>conn</a>             2597 ext/mysqlnd/mysqlnd.c 			conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/780.html#L2600'>conn</a>             2600 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2610'>conn</a>             2610 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, store_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2616'>conn</a>             2616 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu conn=%p", conn-&gt;thread_id, conn);</span>
<span class='curline'><a href='../S/780.html#L2618'>conn</a>             2618 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2621'>conn</a>             2621 ext/mysqlnd/mysqlnd.c 			if (!conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/780.html#L2626'>conn</a>             2626 ext/mysqlnd/mysqlnd.c 			if (conn-&gt;last_query_type != QUERY_SELECT || CONN_GET_STATE(conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/780.html#L2627'>conn</a>             2627 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/780.html#L2632'>conn</a>             2632 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_BUFFERED_SETS);</span>
<span class='curline'><a href='../S/780.html#L2635'>conn</a>             2635 ext/mysqlnd/mysqlnd.c 			if ((conn-&gt;m-&gt;get_client_api_capabilities(conn TSRMLS_CC) &amp; MYSQLND_CLIENT_KNOWS_RSET_COPY_DATA)) {</span>
<span class='curline'><a href='../S/780.html#L2647'>conn</a>             2647 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "Unknown fetch mode");</span>
<span class='curline'><a href='../S/780.html#L2651'>conn</a>             2651 ext/mysqlnd/mysqlnd.c 			result = conn-&gt;current_result-&gt;m.store_result(conn-&gt;current_result, conn, f TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2653'>conn</a>             2653 ext/mysqlnd/mysqlnd.c 				conn-&gt;current_result-&gt;m.free_result(conn-&gt;current_result, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2655'>conn</a>             2655 ext/mysqlnd/mysqlnd.c 			conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/780.html#L2658'>conn</a>             2658 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, result == NULL? FAIL:PASS TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2667'>conn</a>             2667 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_connection_stats)(const MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/780.html#L2671'>conn</a>             2671 ext/mysqlnd/mysqlnd.c 	mysqlnd_fill_stats_hash(conn-&gt;stats, mysqlnd_stats_values_names, return_value TSRMLS_CC ZEND_FILE_LINE_CC);</span>
<span class='curline'><a href='../S/780.html#L2679'>conn</a>             2679 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, set_autocommit)(MYSQLND_CONN_DATA * conn, unsigned int mode TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2685'>conn</a>             2685 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2686'>conn</a>             2686 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;query(conn, (mode) ? "SET AUTOCOMMIT=1":"SET AUTOCOMMIT=0", sizeof("SET AUTOCOMMIT=1") - 1 TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2687'>conn</a>             2687 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2697'>conn</a>             2697 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_commit)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2699'>conn</a>             2699 ext/mysqlnd/mysqlnd.c 	return conn-&gt;m-&gt;tx_commit_or_rollback(conn, TRUE, TRANS_COR_NO_OPT, NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2706'>conn</a>             2706 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_rollback)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2708'>conn</a>             2708 ext/mysqlnd/mysqlnd.c 	return conn-&gt;m-&gt;tx_commit_or_rollback(conn, FALSE, TRANS_COR_NO_OPT, NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2715'>conn</a>             2715 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_cor_options_to_string)(const MYSQLND_CONN_DATA * const conn, smart_str * str, const unsigned int mode TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2790'>conn</a>             2790 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_commit_or_rollback)(MYSQLND_CONN_DATA * conn, const zend_bool commit, const unsigned int flags, const char * const name TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2796'>conn</a>             2796 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2799'>conn</a>             2799 ext/mysqlnd/mysqlnd.c 			conn-&gt;m-&gt;tx_cor_options_to_string(conn, &amp;tmp_str, flags TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2816'>conn</a>             2816 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2820'>conn</a>             2820 ext/mysqlnd/mysqlnd.c 				ret = conn-&gt;m-&gt;query(conn, query, query_len TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2824'>conn</a>             2824 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);	</span>
<span class='curline'><a href='../S/780.html#L2834'>conn</a>             2834 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_begin)(MYSQLND_CONN_DATA * conn, const unsigned int mode, const char * const name TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2840'>conn</a>             2840 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2850'>conn</a>             2850 ext/mysqlnd/mysqlnd.c 				unsigned long server_version = conn-&gt;m-&gt;get_server_version(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2879'>conn</a>             2879 ext/mysqlnd/mysqlnd.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2882'>conn</a>             2882 ext/mysqlnd/mysqlnd.c 				ret = conn-&gt;m-&gt;query(conn, query, query_len TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2886'>conn</a>             2886 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);	</span>
<span class='curline'><a href='../S/780.html#L2896'>conn</a>             2896 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_savepoint)(MYSQLND_CONN_DATA * conn, const char * const name TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2902'>conn</a>             2902 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2907'>conn</a>             2907 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "Savepoint name not provided");</span>
<span class='curline'><a href='../S/780.html#L2912'>conn</a>             2912 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2915'>conn</a>             2915 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;query(conn, query, query_len TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2918'>conn</a>             2918 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);	</span>
<span class='curline'><a href='../S/780.html#L2928'>conn</a>             2928 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, tx_savepoint_release)(MYSQLND_CONN_DATA * conn, const char * const name TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2934'>conn</a>             2934 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L2939'>conn</a>             2939 ext/mysqlnd/mysqlnd.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "Savepoint name not provided");</span>
<span class='curline'><a href='../S/780.html#L2944'>conn</a>             2944 ext/mysqlnd/mysqlnd.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/780.html#L2947'>conn</a>             2947 ext/mysqlnd/mysqlnd.c 			ret = conn-&gt;m-&gt;query(conn, query, query_len TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L2950'>conn</a>             2950 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);	</span>
<span class='curline'><a href='../S/780.html#L2960'>conn</a>             2960 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, negotiate_client_api_capabilities)(MYSQLND_CONN_DATA * const conn, const unsigned int flags TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2964'>conn</a>             2964 ext/mysqlnd/mysqlnd.c 	if (conn) {</span>
<span class='curline'><a href='../S/780.html#L2965'>conn</a>             2965 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;client_api_capabilities;</span>
<span class='curline'><a href='../S/780.html#L2966'>conn</a>             2966 ext/mysqlnd/mysqlnd.c 		conn-&gt;client_api_capabilities = flags;</span>
<span class='curline'><a href='../S/780.html#L2976'>conn</a>             2976 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, get_client_api_capabilities)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2979'>conn</a>             2979 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn? conn-&gt;client_api_capabilities : 0);</span>
<span class='curline'><a href='../S/780.html#L2986'>conn</a>             2986 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, local_tx_start)(MYSQLND_CONN_DATA * conn, size_t this_func TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L2997'>conn</a>             2997 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, local_tx_end)(MYSQLND_CONN_DATA * conn, size_t this_func, enum_func_status status TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L3007'>conn</a>             3007 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn_data, init)(MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L3010'>conn</a>             3010 ext/mysqlnd/mysqlnd.c 	mysqlnd_stats_init(&amp;conn-&gt;stats, STAT_LAST);</span>
<span class='curline'><a href='../S/780.html#L3011'>conn</a>             3011 ext/mysqlnd/mysqlnd.c 	SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/780.html#L3013'>conn</a>             3013 ext/mysqlnd/mysqlnd.c 	conn-&gt;net = mysqlnd_net_init(conn-&gt;persistent, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L3014'>conn</a>             3014 ext/mysqlnd/mysqlnd.c 	conn-&gt;protocol = mysqlnd_protocol_init(conn-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L3016'>conn</a>             3016 ext/mysqlnd/mysqlnd.c 	DBG_RETURN(conn-&gt;stats &amp;&amp; conn-&gt;net &amp;&amp; conn-&gt;protocol? PASS:FAIL);</span>
<span class='curline'><a href='../S/780.html#L3021'>conn</a>             3021 ext/mysqlnd/mysqlnd.c MYSQLND_STMT * _mysqlnd_stmt_init(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/780.html#L3121'>conn</a>             3121 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD(mysqlnd_conn, clone_object)(MYSQLND * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L3125'>conn</a>             3125 ext/mysqlnd/mysqlnd.c 	ret = MYSQLND_CLASS_METHOD_TABLE_NAME(mysqlnd_object_factory).clone_connection_object(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L3133'>conn</a>             3133 ext/mysqlnd/mysqlnd.c MYSQLND_METHOD_PRIVATE(mysqlnd_conn, dtor)(MYSQLND * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/780.html#L3136'>conn</a>             3136 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;data-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L3138'>conn</a>             3138 ext/mysqlnd/mysqlnd.c 	conn-&gt;data-&gt;m-&gt;free_reference(conn-&gt;data TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L3140'>conn</a>             3140 ext/mysqlnd/mysqlnd.c 	mnd_pefree(conn, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/780.html#L3152'>conn</a>             3152 ext/mysqlnd/mysqlnd.c 	MYSQLND_CONN_DATA * conn = conn_handle-&gt;data;</span>
<span class='curline'><a href='../S/780.html#L3156'>conn</a>             3156 ext/mysqlnd/mysqlnd.c 	DBG_INF_FMT("conn=%llu", conn-&gt;thread_id);</span>
<span class='curline'><a href='../S/780.html#L3158'>conn</a>             3158 ext/mysqlnd/mysqlnd.c 	if (PASS == conn-&gt;m-&gt;local_tx_start(conn, this_func TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/780.html#L3159'>conn</a>             3159 ext/mysqlnd/mysqlnd.c 		if (CONN_GET_STATE(conn) &gt;= CONN_READY) {</span>
<span class='curline'><a href='../S/780.html#L3165'>conn</a>             3165 ext/mysqlnd/mysqlnd.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, close_type_to_stat_map[close_type]);</span>
<span class='curline'><a href='../S/780.html#L3172'>conn</a>             3172 ext/mysqlnd/mysqlnd.c 		ret = conn-&gt;m-&gt;send_close(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/780.html#L3175'>conn</a>             3175 ext/mysqlnd/mysqlnd.c 		conn-&gt;m-&gt;local_tx_end(conn, this_func, ret TSRMLS_CC);</span>
<span class='curline'><a href='../S/781.html#L78'>conn</a>               78 ext/mysqlnd/mysqlnd.h #define mysqlnd_restart_psession(conn)	((conn)-&gt;data)-&gt;m-&gt;restart_psession((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L79'>conn</a>               79 ext/mysqlnd/mysqlnd.h #define mysqlnd_end_psession(conn)		((conn)-&gt;data)-&gt;m-&gt;end_psession((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L90'>conn</a>               90 ext/mysqlnd/mysqlnd.h PHPAPI MYSQLND * mysqlnd_connect(MYSQLND * conn,</span>
<span class='curline'><a href='../S/781.html#L100'>conn</a>              100 ext/mysqlnd/mysqlnd.h #define mysqlnd_change_user(conn, user, passwd, db, silent)		((conn)-&gt;data)-&gt;m-&gt;change_user((conn)-&gt;data, (user), (passwd), (db), (silent), strlen((passwd)) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L101'>conn</a>              101 ext/mysqlnd/mysqlnd.h #define mysqlnd_change_user_ex(conn, user, passwd, db, silent, passwd_len)	((conn)-&gt;data)-&gt;m-&gt;change_user((conn)-&gt;data, (user), (passwd), (db), (silent), (passwd_len) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L111'>conn</a>              111 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_connection_stats(conn, values)		((conn)-&gt;data)-&gt;m-&gt;get_statistics((conn)-&gt;data,  (values) TSRMLS_CC ZEND_FILE_LINE_CC)</span>
<span class='curline'><a href='../S/781.html#L114'>conn</a>              114 ext/mysqlnd/mysqlnd.h #define mysqlnd_close(conn,is_forced)					(conn)-&gt;m-&gt;close((conn), (is_forced) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L115'>conn</a>              115 ext/mysqlnd/mysqlnd.h #define mysqlnd_query(conn, query_str, query_len)		((conn)-&gt;data)-&gt;m-&gt;query((conn)-&gt;data, (query_str), (query_len) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L116'>conn</a>              116 ext/mysqlnd/mysqlnd.h #define mysqlnd_async_query(conn, query_str, query_len)	((conn)-&gt;data)-&gt;m-&gt;send_query((conn)-&gt;data, (query_str), (query_len) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L118'>conn</a>              118 ext/mysqlnd/mysqlnd.h #define mysqlnd_reap_async_query(conn)					((conn)-&gt;data)-&gt;m-&gt;reap_query((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L123'>conn</a>              123 ext/mysqlnd/mysqlnd.h #define mysqlnd_use_result(conn)		((conn)-&gt;data)-&gt;m-&gt;use_result((conn)-&gt;data, 0 TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L124'>conn</a>              124 ext/mysqlnd/mysqlnd.h #define mysqlnd_store_result(conn)		((conn)-&gt;data)-&gt;m-&gt;store_result((conn)-&gt;data, MYSQLND_STORE_NO_COPY TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L125'>conn</a>              125 ext/mysqlnd/mysqlnd.h #define mysqlnd_store_result_ofs(conn)	((conn)-&gt;data)-&gt;m-&gt;store_result((conn)-&gt;data, MYSQLND_STORE_COPY TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L126'>conn</a>              126 ext/mysqlnd/mysqlnd.h #define mysqlnd_next_result(conn)		((conn)-&gt;data)-&gt;m-&gt;next_result((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L127'>conn</a>              127 ext/mysqlnd/mysqlnd.h #define mysqlnd_more_results(conn)		((conn)-&gt;data)-&gt;m-&gt;more_results((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L132'>conn</a>              132 ext/mysqlnd/mysqlnd.h #define mysqlnd_errno(conn)				((conn)-&gt;data)-&gt;m-&gt;get_error_no((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L133'>conn</a>              133 ext/mysqlnd/mysqlnd.h #define mysqlnd_error(conn)				((conn)-&gt;data)-&gt;m-&gt;get_error_str((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L134'>conn</a>              134 ext/mysqlnd/mysqlnd.h #define mysqlnd_sqlstate(conn)			((conn)-&gt;data)-&gt;m-&gt;get_sqlstate((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L137'>conn</a>              137 ext/mysqlnd/mysqlnd.h #define mysqlnd_character_set_name(conn) ((conn)-&gt;data)-&gt;m-&gt;charset_name((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L140'>conn</a>              140 ext/mysqlnd/mysqlnd.h #define mysqlnd_field_count(conn)		((conn)-&gt;data)-&gt;m-&gt;get_field_count((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L141'>conn</a>              141 ext/mysqlnd/mysqlnd.h #define mysqlnd_insert_id(conn)			((conn)-&gt;data)-&gt;m-&gt;get_last_insert_id((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L142'>conn</a>              142 ext/mysqlnd/mysqlnd.h #define mysqlnd_affected_rows(conn)		((conn)-&gt;data)-&gt;m-&gt;get_affected_rows((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L143'>conn</a>              143 ext/mysqlnd/mysqlnd.h #define mysqlnd_warning_count(conn)		((conn)-&gt;data)-&gt;m-&gt;get_warning_count((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L144'>conn</a>              144 ext/mysqlnd/mysqlnd.h #define mysqlnd_info(conn)				((conn)-&gt;data)-&gt;m-&gt;get_last_message((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L145'>conn</a>              145 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_server_info(conn)	((conn)-&gt;data)-&gt;m-&gt;get_server_information((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L146'>conn</a>              146 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_server_version(conn) ((conn)-&gt;data)-&gt;m-&gt;get_server_version((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L147'>conn</a>              147 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_host_info(conn)		((conn)-&gt;data)-&gt;m-&gt;get_host_information((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L148'>conn</a>              148 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_proto_info(conn)	((conn)-&gt;data)-&gt;m-&gt;get_protocol_information((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L149'>conn</a>              149 ext/mysqlnd/mysqlnd.h #define mysqlnd_thread_id(conn)			((conn)-&gt;data)-&gt;m-&gt;get_thread_id((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L150'>conn</a>              150 ext/mysqlnd/mysqlnd.h #define mysqlnd_get_server_status(conn)	((conn)-&gt;data)-&gt;m-&gt;get_server_status((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L167'>conn</a>              167 ext/mysqlnd/mysqlnd.h #define mysqlnd_ssl_set(conn, key, cert, ca, capath, cipher) ((conn)-&gt;data)-&gt;m-&gt;ssl_set((conn)-&gt;data, (key), (cert), (ca), (capath), (cipher) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L191'>conn</a>              191 ext/mysqlnd/mysqlnd.h PHPAPI void mysqlnd_local_infile_default(MYSQLND_CONN_DATA * conn);</span>
<span class='curline'><a href='../S/781.html#L192'>conn</a>              192 ext/mysqlnd/mysqlnd.h PHPAPI void mysqlnd_set_local_infile_handler(MYSQLND_CONN_DATA * const conn, const char * const funcname);</span>
<span class='curline'><a href='../S/781.html#L195'>conn</a>              195 ext/mysqlnd/mysqlnd.h #define mysqlnd_autocommit(conn, mode)		((conn)-&gt;data)-&gt;m-&gt;set_autocommit((conn)-&gt;data, (mode) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L196'>conn</a>              196 ext/mysqlnd/mysqlnd.h #define mysqlnd_begin_transaction(conn,flags,name) ((conn)-&gt;data)-&gt;m-&gt;tx_begin((conn)-&gt;data, (flags), (name) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L197'>conn</a>              197 ext/mysqlnd/mysqlnd.h #define mysqlnd_commit(conn, flags, name)	((conn)-&gt;data)-&gt;m-&gt;tx_commit_or_rollback((conn)-&gt;data, TRUE, (flags), (name) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd.h #define mysqlnd_rollback(conn, flags, name)	((conn)-&gt;data)-&gt;m-&gt;tx_commit_or_rollback((conn)-&gt;data, FALSE, (flags), (name) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L199'>conn</a>              199 ext/mysqlnd/mysqlnd.h #define mysqlnd_savepoint(conn, name)		((conn)-&gt;data)-&gt;m-&gt;tx_savepoint((conn)-&gt;data, (name) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L200'>conn</a>              200 ext/mysqlnd/mysqlnd.h #define mysqlnd_release_savepoint(conn, name) ((conn)-&gt;data)-&gt;m-&gt;tx_savepoint_release((conn)-&gt;data, (name) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L201'>conn</a>              201 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_dbs(conn, wild)		((conn)-&gt;data)-&gt;m-&gt;list_method((conn)-&gt;data, wild? "SHOW DATABASES LIKE %s":"SHOW DATABASES", (wild), NULL TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L202'>conn</a>              202 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_fields(conn, tab,wild)	((conn)-&gt;data)-&gt;m-&gt;list_fields((conn)-&gt;data, (tab), (wild) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L203'>conn</a>              203 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_processes(conn)		((conn)-&gt;data)-&gt;m-&gt;list_method((conn)-&gt;data, "SHOW PROCESSLIST", NULL, NULL TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L204'>conn</a>              204 ext/mysqlnd/mysqlnd.h #define mysqlnd_list_tables(conn, wild)		((conn)-&gt;data)-&gt;m-&gt;list_method((conn)-&gt;data, wild? "SHOW TABLES LIKE %s":"SHOW TABLES", (wild), NULL TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L205'>conn</a>              205 ext/mysqlnd/mysqlnd.h #define mysqlnd_dump_debug_info(conn)		((conn)-&gt;data)-&gt;m-&gt;server_dump_debug_information((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L206'>conn</a>              206 ext/mysqlnd/mysqlnd.h #define mysqlnd_select_db(conn, db, db_len)	((conn)-&gt;data)-&gt;m-&gt;select_db((conn)-&gt;data, (db), (db_len) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L207'>conn</a>              207 ext/mysqlnd/mysqlnd.h #define mysqlnd_ping(conn)					((conn)-&gt;data)-&gt;m-&gt;ping((conn)-&gt;data TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L208'>conn</a>              208 ext/mysqlnd/mysqlnd.h #define mysqlnd_kill(conn, pid)				((conn)-&gt;data)-&gt;m-&gt;kill_connection((conn)-&gt;data, (pid) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L209'>conn</a>              209 ext/mysqlnd/mysqlnd.h #define mysqlnd_refresh(conn, options)		((conn)-&gt;data)-&gt;m-&gt;refresh_server((conn)-&gt;data, (options) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L210'>conn</a>              210 ext/mysqlnd/mysqlnd.h #define mysqlnd_shutdown(conn, level)		((conn)-&gt;data)-&gt;m-&gt;shutdown_server((conn)-&gt;data, (level) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L211'>conn</a>              211 ext/mysqlnd/mysqlnd.h #define mysqlnd_set_character_set(conn, cs)	((conn)-&gt;data)-&gt;m-&gt;set_charset((conn)-&gt;data, (cs) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L212'>conn</a>              212 ext/mysqlnd/mysqlnd.h #define mysqlnd_stat(conn, msg, msg_len)	((conn)-&gt;data)-&gt;m-&gt;get_server_statistics(((conn)-&gt;data), (msg), (msg_len) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L213'>conn</a>              213 ext/mysqlnd/mysqlnd.h #define mysqlnd_options(conn, opt, value)	((conn)-&gt;data)-&gt;m-&gt;set_client_option((conn)-&gt;data, (opt), (value) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L214'>conn</a>              214 ext/mysqlnd/mysqlnd.h #define mysqlnd_options4(conn, opt, k, v)	((conn)-&gt;data)-&gt;m-&gt;set_client_option_2d((conn)-&gt;data, (opt), (k), (v) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L215'>conn</a>              215 ext/mysqlnd/mysqlnd.h #define mysqlnd_set_server_option(conn, op)	((conn)-&gt;data)-&gt;m-&gt;set_server_option((conn)-&gt;data, (op) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L218'>conn</a>              218 ext/mysqlnd/mysqlnd.h #define mysqlnd_real_escape_string(conn, newstr, escapestr, escapestr_len) \</span>
<span class='curline'><a href='../S/781.html#L219'>conn</a>              219 ext/mysqlnd/mysqlnd.h 		((conn)-&gt;data)-&gt;m-&gt;escape_string((conn)-&gt;data, (newstr), (escapestr), (escapestr_len) TSRMLS_CC)</span>
<span class='curline'><a href='../S/781.html#L227'>conn</a>              227 ext/mysqlnd/mysqlnd.h #define mysqlnd_stmt_init(conn)				((conn)-&gt;data)-&gt;m-&gt;stmt_init(((conn)-&gt;data) TSRMLS_CC)</span>
<span class='curline'><a href='../S/784.html#L33'>conn</a>               33 ext/mysqlnd/mysqlnd_auth.c mysqlnd_auth_handshake(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/784.html#L60'>conn</a>               60 ext/mysqlnd/mysqlnd_auth.c 	auth_resp_packet = conn-&gt;protocol-&gt;m.get_auth_response_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L63'>conn</a>               63 ext/mysqlnd/mysqlnd_auth.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L68'>conn</a>               68 ext/mysqlnd/mysqlnd_auth.c 		change_auth_resp_packet = conn-&gt;protocol-&gt;m.get_change_auth_response_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L70'>conn</a>               70 ext/mysqlnd/mysqlnd_auth.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L77'>conn</a>               77 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(change_auth_resp_packet, conn)) {</span>
<span class='curline'><a href='../S/784.html#L78'>conn</a>               78 ext/mysqlnd/mysqlnd_auth.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/784.html#L79'>conn</a>               79 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/784.html#L83'>conn</a>               83 ext/mysqlnd/mysqlnd_auth.c 		auth_packet = conn-&gt;protocol-&gt;m.get_auth_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L102'>conn</a>              102 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;server_capabilities &amp; CLIENT_CONNECT_ATTRS) {</span>
<span class='curline'><a href='../S/784.html#L103'>conn</a>              103 ext/mysqlnd/mysqlnd_auth.c 			auth_packet-&gt;connect_attr = conn-&gt;options-&gt;connect_attr;</span>
<span class='curline'><a href='../S/784.html#L106'>conn</a>              106 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/784.html#L111'>conn</a>              111 ext/mysqlnd/mysqlnd_auth.c 		conn-&gt;charset = mysqlnd_find_charset_nr(auth_packet-&gt;charset_no);</span>
<span class='curline'><a href='../S/784.html#L114'>conn</a>              114 ext/mysqlnd/mysqlnd_auth.c 	if (FAIL == PACKET_READ(auth_resp_packet, conn) || auth_resp_packet-&gt;response_code &gt;= 0xFE) {</span>
<span class='curline'><a href='../S/784.html#L119'>conn</a>              119 ext/mysqlnd/mysqlnd_auth.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, mysqlnd_old_passwd);</span>
<span class='curline'><a href='../S/784.html#L134'>conn</a>              134 ext/mysqlnd/mysqlnd_auth.c 				strlcpy(conn-&gt;error_info-&gt;sqlstate, auth_resp_packet-&gt;sqlstate, sizeof(conn-&gt;error_info-&gt;sqlstate));</span>
<span class='curline'><a href='../S/784.html#L137'>conn</a>              137 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, auth_resp_packet-&gt;error_no, UNKNOWN_SQLSTATE, auth_resp_packet-&gt;error);</span>
<span class='curline'><a href='../S/784.html#L142'>conn</a>              142 ext/mysqlnd/mysqlnd_auth.c 	SET_NEW_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len, auth_resp_packet-&gt;message, auth_resp_packet-&gt;message_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/784.html#L155'>conn</a>              155 ext/mysqlnd/mysqlnd_auth.c mysqlnd_auth_change_user(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/784.html#L174'>conn</a>              174 ext/mysqlnd/mysqlnd_auth.c 	const MYSQLND_CHARSET * old_cs = conn-&gt;charset;</span>
<span class='curline'><a href='../S/784.html#L181'>conn</a>              181 ext/mysqlnd/mysqlnd_auth.c 	chg_user_resp = conn-&gt;protocol-&gt;m.get_change_user_response_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L184'>conn</a>              184 ext/mysqlnd/mysqlnd_auth.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L189'>conn</a>              189 ext/mysqlnd/mysqlnd_auth.c 		change_auth_resp_packet = conn-&gt;protocol-&gt;m.get_change_auth_response_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L191'>conn</a>              191 ext/mysqlnd/mysqlnd_auth.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L198'>conn</a>              198 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(change_auth_resp_packet, conn)) {</span>
<span class='curline'><a href='../S/784.html#L199'>conn</a>              199 ext/mysqlnd/mysqlnd_auth.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/784.html#L200'>conn</a>              200 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/784.html#L204'>conn</a>              204 ext/mysqlnd/mysqlnd_auth.c 		auth_packet = conn-&gt;protocol-&gt;m.get_auth_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L207'>conn</a>              207 ext/mysqlnd/mysqlnd_auth.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L222'>conn</a>              222 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;m-&gt;get_server_version(conn TSRMLS_CC) &gt;= 50123) {</span>
<span class='curline'><a href='../S/784.html#L223'>conn</a>              223 ext/mysqlnd/mysqlnd_auth.c 			auth_packet-&gt;charset_no	= conn-&gt;charset-&gt;nr;</span>
<span class='curline'><a href='../S/784.html#L226'>conn</a>              226 ext/mysqlnd/mysqlnd_auth.c 		if (!PACKET_WRITE(auth_packet, conn)) {</span>
<span class='curline'><a href='../S/784.html#L227'>conn</a>              227 ext/mysqlnd/mysqlnd_auth.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/784.html#L228'>conn</a>              228 ext/mysqlnd/mysqlnd_auth.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);</span>
<span class='curline'><a href='../S/784.html#L233'>conn</a>              233 ext/mysqlnd/mysqlnd_auth.c 	ret = PACKET_READ(chg_user_resp, conn);</span>
<span class='curline'><a href='../S/784.html#L234'>conn</a>              234 ext/mysqlnd/mysqlnd_auth.c 	COPY_CLIENT_ERROR(*conn-&gt;error_info, chg_user_resp-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L240'>conn</a>              240 ext/mysqlnd/mysqlnd_auth.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, mysqlnd_old_passwd);</span>
<span class='curline'><a href='../S/784.html#L255'>conn</a>              255 ext/mysqlnd/mysqlnd_auth.c 	if (conn-&gt;error_info-&gt;error_no) {</span>
<span class='curline'><a href='../S/784.html#L262'>conn</a>              262 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;m-&gt;get_server_version(conn TSRMLS_CC) &gt; 50113L &amp;&amp;conn-&gt;m-&gt;get_server_version(conn TSRMLS_CC) &lt; 50118L) {</span>
<span class='curline'><a href='../S/784.html#L263'>conn</a>              263 ext/mysqlnd/mysqlnd_auth.c 			MYSQLND_PACKET_OK * redundant_error_packet = conn-&gt;protocol-&gt;m.get_ok_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L265'>conn</a>              265 ext/mysqlnd/mysqlnd_auth.c 				PACKET_READ(redundant_error_packet, conn);</span>
<span class='curline'><a href='../S/784.html#L267'>conn</a>              267 ext/mysqlnd/mysqlnd_auth.c 				DBG_INF_FMT("Server is %u, buggy, sends two ERR messages", conn-&gt;m-&gt;get_server_version(conn TSRMLS_CC));</span>
<span class='curline'><a href='../S/784.html#L269'>conn</a>              269 ext/mysqlnd/mysqlnd_auth.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L276'>conn</a>              276 ext/mysqlnd/mysqlnd_auth.c 		tmp = mnd_pestrndup(user, user_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/784.html#L277'>conn</a>              277 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;user) {</span>
<span class='curline'><a href='../S/784.html#L278'>conn</a>              278 ext/mysqlnd/mysqlnd_auth.c 			mnd_pefree(conn-&gt;user, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/784.html#L280'>conn</a>              280 ext/mysqlnd/mysqlnd_auth.c 		conn-&gt;user = tmp;</span>
<span class='curline'><a href='../S/784.html#L282'>conn</a>              282 ext/mysqlnd/mysqlnd_auth.c 		tmp = mnd_pestrdup(passwd, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/784.html#L283'>conn</a>              283 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;passwd) {</span>
<span class='curline'><a href='../S/784.html#L284'>conn</a>              284 ext/mysqlnd/mysqlnd_auth.c 			mnd_pefree(conn-&gt;passwd, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/784.html#L286'>conn</a>              286 ext/mysqlnd/mysqlnd_auth.c 		conn-&gt;passwd = tmp;</span>
<span class='curline'><a href='../S/784.html#L288'>conn</a>              288 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;last_message) {</span>
<span class='curline'><a href='../S/784.html#L289'>conn</a>              289 ext/mysqlnd/mysqlnd_auth.c 			mnd_pefree(conn-&gt;last_message, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/784.html#L290'>conn</a>              290 ext/mysqlnd/mysqlnd_auth.c 			conn-&gt;last_message = NULL;</span>
<span class='curline'><a href='../S/784.html#L292'>conn</a>              292 ext/mysqlnd/mysqlnd_auth.c 		memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/784.html#L294'>conn</a>              294 ext/mysqlnd/mysqlnd_auth.c 		if (conn-&gt;m-&gt;get_server_version(conn TSRMLS_CC) &lt; 50123) {</span>
<span class='curline'><a href='../S/784.html#L295'>conn</a>              295 ext/mysqlnd/mysqlnd_auth.c 			ret = conn-&gt;m-&gt;set_charset(conn, old_cs-&gt;name TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L300'>conn</a>              300 ext/mysqlnd/mysqlnd_auth.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, mysqlnd_old_passwd);</span>
<span class='curline'><a href='../S/784.html#L360'>conn</a>              360 ext/mysqlnd/mysqlnd_auth.c 								  MYSQLND_CONN_DATA * conn, const char * const user, const char * const passwd,</span>
<span class='curline'><a href='../S/784.html#L374'>conn</a>              374 ext/mysqlnd/mysqlnd_auth.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_MALFORMED_PACKET, UNKNOWN_SQLSTATE, "The server sent wrong length for scramble");</span>
<span class='curline'><a href='../S/784.html#L420'>conn</a>              420 ext/mysqlnd/mysqlnd_auth.c 							   MYSQLND_CONN_DATA * conn, const char * const user, const char * const passwd,</span>
<span class='curline'><a href='../S/784.html#L482'>conn</a>              482 ext/mysqlnd/mysqlnd_auth.c mysqlnd_sha256_get_rsa_key(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/784.html#L503'>conn</a>              503 ext/mysqlnd/mysqlnd_auth.c 			pk_req_packet = conn-&gt;protocol-&gt;m.get_sha256_pk_request_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L505'>conn</a>              505 ext/mysqlnd/mysqlnd_auth.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L508'>conn</a>              508 ext/mysqlnd/mysqlnd_auth.c 			pk_resp_packet = conn-&gt;protocol-&gt;m.get_sha256_pk_request_response_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L510'>conn</a>              510 ext/mysqlnd/mysqlnd_auth.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/784.html#L515'>conn</a>              515 ext/mysqlnd/mysqlnd_auth.c 			if (! PACKET_WRITE(pk_req_packet, conn)) {</span>
<span class='curline'><a href='../S/784.html#L518'>conn</a>              518 ext/mysqlnd/mysqlnd_auth.c 				CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/784.html#L521'>conn</a>              521 ext/mysqlnd/mysqlnd_auth.c 			if (FAIL == PACKET_READ(pk_resp_packet, conn) || NULL == pk_resp_packet-&gt;public_key) {</span>
<span class='curline'><a href='../S/784.html#L524'>conn</a>              524 ext/mysqlnd/mysqlnd_auth.c 				CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/784.html#L541'>conn</a>              541 ext/mysqlnd/mysqlnd_auth.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/784.html#L573'>conn</a>              573 ext/mysqlnd/mysqlnd_auth.c 								  MYSQLND_CONN_DATA * conn, const char * const user, const char * const passwd,</span>
<span class='curline'><a href='../S/784.html#L586'>conn</a>              586 ext/mysqlnd/mysqlnd_auth.c 	if (conn-&gt;net-&gt;data-&gt;ssl) {</span>
<span class='curline'><a href='../S/784.html#L594'>conn</a>              594 ext/mysqlnd/mysqlnd_auth.c 		server_public_key = mysqlnd_sha256_get_rsa_key(conn, options, net_options TSRMLS_CC);</span>
<span class='curline'><a href='../S/784.html#L611'>conn</a>              611 ext/mysqlnd/mysqlnd_auth.c 				SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, "password is too long");</span>
<span class='curline'><a href='../S/792.html#L196'>conn</a>              196 ext/mysqlnd/mysqlnd_driver.c MYSQLND_METHOD(mysqlnd_object_factory, get_prepared_statement)(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/792.html#L199'>conn</a>              199 ext/mysqlnd/mysqlnd_driver.c 	MYSQLND_STMT * ret = mnd_pecalloc(1, alloc_size, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L208'>conn</a>              208 ext/mysqlnd/mysqlnd_driver.c 		ret-&gt;persistent = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/792.html#L210'>conn</a>              210 ext/mysqlnd/mysqlnd_driver.c 		stmt = ret-&gt;data = mnd_pecalloc(1, sizeof(MYSQLND_STMT_DATA), conn-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L215'>conn</a>              215 ext/mysqlnd/mysqlnd_driver.c 		stmt-&gt;persistent = conn-&gt;persistent;</span>
<span class='curline'><a href='../S/792.html#L231'>conn</a>              231 ext/mysqlnd/mysqlnd_driver.c 		stmt-&gt;conn = conn-&gt;m-&gt;get_reference(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/792.html#L237'>conn</a>              237 ext/mysqlnd/mysqlnd_driver.c 		zend_llist_init(stmt-&gt;error_info-&gt;error_list, sizeof(MYSQLND_ERROR_LIST_ELEMENT), (llist_dtor_func_t) mysqlnd_error_list_pdtor, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/792.html#L242'>conn</a>              242 ext/mysqlnd/mysqlnd_driver.c 	SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/794.html#L34'>conn</a>               34 ext/mysqlnd/mysqlnd_ext_plugin.c _mysqlnd_plugin_get_plugin_connection_data(const MYSQLND * conn, unsigned int plugin_id TSRMLS_DC)</span>
<span class='curline'><a href='../S/794.html#L38'>conn</a>               38 ext/mysqlnd/mysqlnd_ext_plugin.c 	if (!conn || plugin_id &gt;= mysqlnd_plugin_count()) {</span>
<span class='curline'><a href='../S/794.html#L41'>conn</a>               41 ext/mysqlnd/mysqlnd_ext_plugin.c 	DBG_RETURN((void *)((char *)conn + sizeof(MYSQLND) + plugin_id * sizeof(void *)));</span>
<span class='curline'><a href='../S/794.html#L48'>conn</a>               48 ext/mysqlnd/mysqlnd_ext_plugin.c _mysqlnd_plugin_get_plugin_connection_data_data(const MYSQLND_CONN_DATA * conn, unsigned int plugin_id TSRMLS_DC)</span>
<span class='curline'><a href='../S/794.html#L52'>conn</a>               52 ext/mysqlnd/mysqlnd_ext_plugin.c 	if (!conn || plugin_id &gt;= mysqlnd_plugin_count()) {</span>
<span class='curline'><a href='../S/794.html#L55'>conn</a>               55 ext/mysqlnd/mysqlnd_ext_plugin.c 	DBG_RETURN((void *)((char *)conn + sizeof(MYSQLND_CONN_DATA) + plugin_id * sizeof(void *)));</span>
<span class='curline'><a href='../S/795.html#L25'>conn</a>               25 ext/mysqlnd/mysqlnd_ext_plugin.h PHPAPI void ** _mysqlnd_plugin_get_plugin_connection_data(const MYSQLND * conn, unsigned int plugin_id TSRMLS_DC);</span>
<span class='curline'><a href='../S/795.html#L28'>conn</a>               28 ext/mysqlnd/mysqlnd_ext_plugin.h PHPAPI void ** _mysqlnd_plugin_get_plugin_connection_data_data(const MYSQLND_CONN_DATA * conn, unsigned int plugin_id TSRMLS_DC);</span>
<span class='curline'><a href='../S/796.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd_libmysql_compat.h #define mysql_refresh(conn, options)	mysqlnd_refresh((conn), (options))</span>
<span class='curline'><a href='../S/797.html#L129'>conn</a>              129 ext/mysqlnd/mysqlnd_loaddata.c mysqlnd_local_infile_default(MYSQLND_CONN_DATA * conn)</span>
<span class='curline'><a href='../S/797.html#L131'>conn</a>              131 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_init = mysqlnd_local_infile_init;</span>
<span class='curline'><a href='../S/797.html#L132'>conn</a>              132 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_read = mysqlnd_local_infile_read;</span>
<span class='curline'><a href='../S/797.html#L133'>conn</a>              133 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_error = mysqlnd_local_infile_error;</span>
<span class='curline'><a href='../S/797.html#L134'>conn</a>              134 ext/mysqlnd/mysqlnd_loaddata.c 	conn-&gt;infile.local_infile_end = mysqlnd_local_infile_end;</span>
<span class='curline'><a href='../S/797.html#L141'>conn</a>              141 ext/mysqlnd/mysqlnd_loaddata.c mysqlnd_set_local_infile_handler(MYSQLND_CONN_DATA * const conn, const char * const funcname)</span>
<span class='curline'><a href='../S/797.html#L143'>conn</a>              143 ext/mysqlnd/mysqlnd_loaddata.c 	if (!conn-&gt;infile.callback) {</span>
<span class='curline'><a href='../S/797.html#L144'>conn</a>              144 ext/mysqlnd/mysqlnd_loaddata.c 		MAKE_STD_ZVAL(conn-&gt;infile.callback);</span>
<span class='curline'><a href='../S/797.html#L146'>conn</a>              146 ext/mysqlnd/mysqlnd_loaddata.c 		zval_dtor(conn-&gt;infile.callback);</span>
<span class='curline'><a href='../S/797.html#L148'>conn</a>              148 ext/mysqlnd/mysqlnd_loaddata.c 	ZVAL_STRING(conn-&gt;infile.callback, (char*) funcname, 1);</span>
<span class='curline'><a href='../S/797.html#L158'>conn</a>              158 ext/mysqlnd/mysqlnd_loaddata.c mysqlnd_handle_local_infile(MYSQLND_CONN_DATA * conn, const char * filename, zend_bool * is_warning TSRMLS_DC)</span>
<span class='curline'><a href='../S/797.html#L168'>conn</a>              168 ext/mysqlnd/mysqlnd_loaddata.c 	MYSQLND_NET			* net = conn-&gt;net;</span>
<span class='curline'><a href='../S/797.html#L172'>conn</a>              172 ext/mysqlnd/mysqlnd_loaddata.c 	if (!(conn-&gt;options-&gt;flags &amp; CLIENT_LOCAL_FILES)) {</span>
<span class='curline'><a href='../S/797.html#L175'>conn</a>              175 ext/mysqlnd/mysqlnd_loaddata.c 		ret = net-&gt;data-&gt;m.send_ex(net, empty_packet, 0, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/797.html#L180'>conn</a>              180 ext/mysqlnd/mysqlnd_loaddata.c 	infile = conn-&gt;infile;</span>
<span class='curline'><a href='../S/797.html#L187'>conn</a>              187 ext/mysqlnd/mysqlnd_loaddata.c 	if (infile.local_infile_init(&amp;info, (char *)filename, conn-&gt;infile.userdata TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/797.html#L188'>conn</a>              188 ext/mysqlnd/mysqlnd_loaddata.c 		char tmp_buf[sizeof(conn-&gt;error_info-&gt;error)];</span>
<span class='curline'><a href='../S/797.html#L193'>conn</a>              193 ext/mysqlnd/mysqlnd_loaddata.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, tmp_error_no, UNKNOWN_SQLSTATE, tmp_buf);</span>
<span class='curline'><a href='../S/797.html#L195'>conn</a>              195 ext/mysqlnd/mysqlnd_loaddata.c 		ret = net-&gt;data-&gt;m.send_ex(net, empty_packet, 0, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/797.html#L201'>conn</a>              201 ext/mysqlnd/mysqlnd_loaddata.c 		if ((ret = net-&gt;data-&gt;m.send_ex(net, buf, bufsize, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC)) == 0) {</span>
<span class='curline'><a href='../S/797.html#L203'>conn</a>              203 ext/mysqlnd/mysqlnd_loaddata.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_LOST, UNKNOWN_SQLSTATE, lost_conn);</span>
<span class='curline'><a href='../S/797.html#L209'>conn</a>              209 ext/mysqlnd/mysqlnd_loaddata.c 	if ((ret = net-&gt;data-&gt;m.send_ex(net, empty_packet, 0, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC)) == 0) {</span>
<span class='curline'><a href='../S/797.html#L210'>conn</a>              210 ext/mysqlnd/mysqlnd_loaddata.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_LOST, UNKNOWN_SQLSTATE, lost_conn);</span>
<span class='curline'><a href='../S/797.html#L216'>conn</a>              216 ext/mysqlnd/mysqlnd_loaddata.c 		char tmp_buf[sizeof(conn-&gt;error_info-&gt;error)];</span>
<span class='curline'><a href='../S/797.html#L221'>conn</a>              221 ext/mysqlnd/mysqlnd_loaddata.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, tmp_error_no, UNKNOWN_SQLSTATE, tmp_buf);</span>
<span class='curline'><a href='../S/797.html#L229'>conn</a>              229 ext/mysqlnd/mysqlnd_loaddata.c 	if (FAIL == conn-&gt;m-&gt;simple_command_handle_response(conn, PROT_OK_PACKET, FALSE, COM_QUERY, FALSE TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/797.html#L233'>conn</a>              233 ext/mysqlnd/mysqlnd_loaddata.c 	(*conn-&gt;infile.local_infile_end)(info TSRMLS_CC);</span>
<span class='curline'><a href='../S/802.html#L192'>conn</a>              192 ext/mysqlnd/mysqlnd_priv.h enum_func_status mysqlnd_handle_local_infile(MYSQLND_CONN_DATA * conn, const char * filename, zend_bool * is_warning TSRMLS_DC);</span>
<span class='curline'><a href='../S/802.html#L212'>conn</a>              212 ext/mysqlnd/mysqlnd_priv.h mysqlnd_auth_handshake(MYSQLND_CONN_DATA * conn,</span>
<span class='curline'><a href='../S/802.html#L232'>conn</a>              232 ext/mysqlnd/mysqlnd_priv.h mysqlnd_auth_change_user(MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/803.html#L51'>conn</a>               51 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L55'>conn</a>               55 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/803.html#L60'>conn</a>               60 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L73'>conn</a>               73 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) != CONN_FETCHING_DATA ||</span>
<span class='curline'><a href='../S/803.html#L76'>conn</a>               76 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/803.html#L84'>conn</a>               84 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L85'>conn</a>               85 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_PS_BUFFERED_SETS);</span>
<span class='curline'><a href='../S/803.html#L93'>conn</a>               93 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L97'>conn</a>               97 ext/mysqlnd/mysqlnd_ps.c 	ret = result-&gt;m.store_result_fetch_data(conn, result, result-&gt;meta, &amp;result-&gt;stored_data-&gt;row_buffers, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L108'>conn</a>              108 ext/mysqlnd/mysqlnd_ps.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L114'>conn</a>              114 ext/mysqlnd/mysqlnd_ps.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L130'>conn</a>              130 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*conn-&gt;error_info, result-&gt;stored_data-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L147'>conn</a>              147 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L151'>conn</a>              151 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/803.html#L156'>conn</a>              156 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L169'>conn</a>              169 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) != CONN_FETCHING_DATA || stmt-&gt;state != MYSQLND_STMT_WAITING_USE_OR_STORE) {</span>
<span class='curline'><a href='../S/803.html#L170'>conn</a>              170 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/803.html#L176'>conn</a>              176 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L177'>conn</a>              177 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_BUFFERED_SETS);</span>
<span class='curline'><a href='../S/803.html#L180'>conn</a>              180 ext/mysqlnd/mysqlnd_ps.c 		result = conn-&gt;m-&gt;result_init(stmt-&gt;result-&gt;field_count, stmt-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L182'>conn</a>              182 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L188'>conn</a>              188 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L192'>conn</a>              192 ext/mysqlnd/mysqlnd_ps.c 		if ((result = result-&gt;m.store_result(result, conn, MYSQLND_STORE_PS | MYSQLND_STORE_NO_COPY TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/803.html#L197'>conn</a>              197 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L219'>conn</a>              219 ext/mysqlnd/mysqlnd_ps.c 	DBG_RETURN((stmt &amp;&amp; stmt-&gt;conn &amp;&amp; (stmt-&gt;conn-&gt;m-&gt;get_server_status(stmt-&gt;conn TSRMLS_CC) &amp; SERVER_MORE_RESULTS_EXISTS))?</span>
<span class='curline'><a href='../S/803.html#L231'>conn</a>              231 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L234'>conn</a>              234 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/803.html#L237'>conn</a>              237 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L240'>conn</a>              240 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) != CONN_NEXT_RESULT_PENDING || !(conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS)) {</span>
<span class='curline'><a href='../S/803.html#L267'>conn</a>              267 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/803.html#L272'>conn</a>              272 ext/mysqlnd/mysqlnd_ps.c 	field_packet = stmt-&gt;conn-&gt;protocol-&gt;m.get_result_field_packet(stmt-&gt;conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L275'>conn</a>              275 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L280'>conn</a>              280 ext/mysqlnd/mysqlnd_ps.c 			if (FAIL == PACKET_READ(field_packet, stmt-&gt;conn)) {</span>
<span class='curline'><a href='../S/803.html#L302'>conn</a>              302 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/803.html#L307'>conn</a>              307 ext/mysqlnd/mysqlnd_ps.c 	prepare_resp = stmt-&gt;conn-&gt;protocol-&gt;m.get_prepare_response_packet(stmt-&gt;conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L310'>conn</a>              310 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L314'>conn</a>              314 ext/mysqlnd/mysqlnd_ps.c 	if (FAIL == PACKET_READ(prepare_resp, stmt-&gt;conn)) {</span>
<span class='curline'><a href='../S/803.html#L320'>conn</a>              320 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;conn-&gt;error_info, prepare_resp-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L325'>conn</a>              325 ext/mysqlnd/mysqlnd_ps.c 	stmt-&gt;warning_count = stmt-&gt;conn-&gt;upsert_status-&gt;warning_count = prepare_resp-&gt;warning_count;</span>
<span class='curline'><a href='../S/803.html#L326'>conn</a>              326 ext/mysqlnd/mysqlnd_ps.c 	stmt-&gt;field_count = stmt-&gt;conn-&gt;field_count = prepare_resp-&gt;field_count;</span>
<span class='curline'><a href='../S/803.html#L346'>conn</a>              346 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;conn-&gt;protocol) {</span>
<span class='curline'><a href='../S/803.html#L351'>conn</a>              351 ext/mysqlnd/mysqlnd_ps.c 	fields_eof = stmt-&gt;conn-&gt;protocol-&gt;m.get_eof_packet(stmt-&gt;conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L354'>conn</a>              354 ext/mysqlnd/mysqlnd_ps.c 		SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L356'>conn</a>              356 ext/mysqlnd/mysqlnd_ps.c 		if (FAIL == (ret = PACKET_READ(fields_eof, stmt-&gt;conn))) {</span>
<span class='curline'><a href='../S/803.html#L385'>conn</a>              385 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L392'>conn</a>              392 ext/mysqlnd/mysqlnd_ps.c 	SET_ERROR_AFF_ROWS(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/803.html#L395'>conn</a>              395 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L412'>conn</a>              412 ext/mysqlnd/mysqlnd_ps.c 		s_to_prepare = stmt-&gt;conn-&gt;m-&gt;stmt_init(stmt-&gt;conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L419'>conn</a>              419 ext/mysqlnd/mysqlnd_ps.c 	if (FAIL == stmt_to_prepare-&gt;conn-&gt;m-&gt;simple_command(stmt_to_prepare-&gt;conn, COM_STMT_PREPARE, (const zend_uchar *) query, query_len, PROT_LAST, FALSE, TRUE TSRMLS_CC) ||</span>
<span class='curline'><a href='../S/803.html#L439'>conn</a>              439 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_RES * result = stmt-&gt;conn-&gt;m-&gt;result_init(stmt_to_prepare-&gt;field_count, stmt_to_prepare-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L441'>conn</a>              441 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L447'>conn</a>              447 ext/mysqlnd/mysqlnd_ps.c 		result-&gt;conn = stmt_to_prepare-&gt;conn-&gt;m-&gt;get_reference(stmt_to_prepare-&gt;conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L451'>conn</a>              451 ext/mysqlnd/mysqlnd_ps.c 		if (FAIL == result-&gt;m.read_result_metadata(result, stmt_to_prepare-&gt;conn TSRMLS_CC) ||</span>
<span class='curline'><a href='../S/803.html#L495'>conn</a>              495 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L498'>conn</a>              498 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L501'>conn</a>              501 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L502'>conn</a>              502 ext/mysqlnd/mysqlnd_ps.c 	CONN_SET_STATE(conn, CONN_QUERY_SENT);</span>
<span class='curline'><a href='../S/803.html#L504'>conn</a>              504 ext/mysqlnd/mysqlnd_ps.c 	ret = mysqlnd_query_read_result_set_header(stmt-&gt;conn, s TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L506'>conn</a>              506 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L508'>conn</a>              508 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;upsert_status-&gt;affected_rows = conn-&gt;upsert_status-&gt;affected_rows;</span>
<span class='curline'><a href='../S/803.html#L509'>conn</a>              509 ext/mysqlnd/mysqlnd_ps.c 		if (CONN_GET_STATE(conn) == CONN_QUIT_SENT) {</span>
<span class='curline'><a href='../S/803.html#L523'>conn</a>              523 ext/mysqlnd/mysqlnd_ps.c 		SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L524'>conn</a>              524 ext/mysqlnd/mysqlnd_ps.c 		*stmt-&gt;upsert_status = *conn-&gt;upsert_status; /* copy status */</span>
<span class='curline'><a href='../S/803.html#L526'>conn</a>              526 ext/mysqlnd/mysqlnd_ps.c 		if (conn-&gt;last_query_type == QUERY_UPSERT || conn-&gt;last_query_type == QUERY_LOAD_LOCAL) {</span>
<span class='curline'><a href='../S/803.html#L532'>conn</a>              532 ext/mysqlnd/mysqlnd_ps.c 		if (!stmt-&gt;result-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L537'>conn</a>              537 ext/mysqlnd/mysqlnd_ps.c 			stmt-&gt;result-&gt;conn = stmt-&gt;conn-&gt;m-&gt;get_reference(stmt-&gt;conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L541'>conn</a>              541 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;field_count = stmt-&gt;result-&gt;field_count = conn-&gt;field_count;</span>
<span class='curline'><a href='../S/803.html#L560'>conn</a>              560 ext/mysqlnd/mysqlnd_ps.c 				CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/803.html#L608'>conn</a>              608 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L614'>conn</a>              614 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L617'>conn</a>              617 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L621'>conn</a>              621 ext/mysqlnd/mysqlnd_ps.c 	SET_ERROR_AFF_ROWS(stmt-&gt;conn);</span>
<span class='curline'><a href='../S/803.html#L667'>conn</a>              667 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/803.html#L702'>conn</a>              702 ext/mysqlnd/mysqlnd_ps.c 		ret = stmt-&gt;conn-&gt;m-&gt;simple_command(stmt-&gt;conn, COM_STMT_EXECUTE, request, request_len,</span>
<span class='curline'><a href='../S/803.html#L714'>conn</a>              714 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L724'>conn</a>              724 ext/mysqlnd/mysqlnd_ps.c 	if (ret == PASS &amp;&amp; conn-&gt;last_query_type == QUERY_UPSERT &amp;&amp; stmt-&gt;upsert_status-&gt;affected_rows) {</span>
<span class='curline'><a href='../S/803.html#L725'>conn</a>              725 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats, STAT_ROWS_AFFECTED_PS, stmt-&gt;upsert_status-&gt;affected_rows);</span>
<span class='curline'><a href='../S/803.html#L762'>conn</a>              762 ext/mysqlnd/mysqlnd_ps.c 													result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/803.html#L763'>conn</a>              763 ext/mysqlnd/mysqlnd_ps.c 													result-&gt;conn-&gt;stats TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L852'>conn</a>              852 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(result-&gt;conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/803.html#L853'>conn</a>              853 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/803.html#L869'>conn</a>              869 ext/mysqlnd/mysqlnd_ps.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/803.html#L873'>conn</a>              873 ext/mysqlnd/mysqlnd_ps.c 			result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L884'>conn</a>              884 ext/mysqlnd/mysqlnd_ps.c 									result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/803.html#L885'>conn</a>              885 ext/mysqlnd/mysqlnd_ps.c 									result-&gt;conn-&gt;stats TSRMLS_CC))</span>
<span class='curline'><a href='../S/803.html#L910'>conn</a>              910 ext/mysqlnd/mysqlnd_ps.c 			MYSQLND_INC_CONN_STATISTIC(stmt-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_PS_UNBUF);</span>
<span class='curline'><a href='../S/803.html#L927'>conn</a>              927 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;conn-&gt;error_info, row_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L930'>conn</a>              930 ext/mysqlnd/mysqlnd_ps.c 		CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/803.html#L936'>conn</a>              936 ext/mysqlnd/mysqlnd_ps.c 		memset(result-&gt;conn-&gt;upsert_status, 0, sizeof(*result-&gt;conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/803.html#L937'>conn</a>              937 ext/mysqlnd/mysqlnd_ps.c 		result-&gt;conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/803.html#L938'>conn</a>              938 ext/mysqlnd/mysqlnd_ps.c 		result-&gt;conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/803.html#L943'>conn</a>              943 ext/mysqlnd/mysqlnd_ps.c 		if (result-&gt;conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/803.html#L944'>conn</a>              944 ext/mysqlnd/mysqlnd_ps.c 			CONN_SET_STATE(result-&gt;conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/803.html#L946'>conn</a>              946 ext/mysqlnd/mysqlnd_ps.c 			CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/803.html#L962'>conn</a>              962 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L965'>conn</a>              965 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !stmt-&gt;result) {</span>
<span class='curline'><a href='../S/803.html#L970'>conn</a>              970 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L973'>conn</a>              973 ext/mysqlnd/mysqlnd_ps.c 		(!stmt-&gt;cursor_exists &amp;&amp; CONN_GET_STATE(conn) != CONN_FETCHING_DATA) ||</span>
<span class='curline'><a href='../S/803.html#L974'>conn</a>              974 ext/mysqlnd/mysqlnd_ps.c 		(stmt-&gt;cursor_exists &amp;&amp; CONN_GET_STATE(conn) != CONN_READY) ||</span>
<span class='curline'><a href='../S/803.html#L977'>conn</a>              977 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC,</span>
<span class='curline'><a href='../S/803.html#L985'>conn</a>              985 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_INC_CONN_STATISTIC(stmt-&gt;conn-&gt;stats, STAT_PS_UNBUFFERED_SETS);</span>
<span class='curline'><a href='../S/803.html#L1013'>conn</a>             1013 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn || !result || !result-&gt;conn || !result-&gt;unbuf) {</span>
<span class='curline'><a href='../S/803.html#L1022'>conn</a>             1022 ext/mysqlnd/mysqlnd_ps.c 		SET_CLIENT_ERROR(*stmt-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE,</span>
<span class='curline'><a href='../S/803.html#L1032'>conn</a>             1032 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1037'>conn</a>             1037 ext/mysqlnd/mysqlnd_ps.c 	if (FAIL == stmt-&gt;conn-&gt;m-&gt;simple_command(stmt-&gt;conn, COM_STMT_FETCH, buf, sizeof(buf),</span>
<span class='curline'><a href='../S/803.html#L1040'>conn</a>             1040 ext/mysqlnd/mysqlnd_ps.c 		COPY_CLIENT_ERROR(*stmt-&gt;error_info, *stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1047'>conn</a>             1047 ext/mysqlnd/mysqlnd_ps.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/803.html#L1052'>conn</a>             1052 ext/mysqlnd/mysqlnd_ps.c 			result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L1063'>conn</a>             1063 ext/mysqlnd/mysqlnd_ps.c 									  result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/803.html#L1064'>conn</a>             1064 ext/mysqlnd/mysqlnd_ps.c 									  result-&gt;conn-&gt;stats TSRMLS_CC))</span>
<span class='curline'><a href='../S/803.html#L1104'>conn</a>             1104 ext/mysqlnd/mysqlnd_ps.c 		ret = PACKET_READ(row_packet, result-&gt;conn);</span>
<span class='curline'><a href='../S/803.html#L1109'>conn</a>             1109 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_INC_CONN_STATISTIC(stmt-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_PS_CURSOR);</span>
<span class='curline'><a href='../S/803.html#L1117'>conn</a>             1117 ext/mysqlnd/mysqlnd_ps.c 			stmt-&gt;conn-&gt;upsert_status-&gt;warning_count =</span>
<span class='curline'><a href='../S/803.html#L1121'>conn</a>             1121 ext/mysqlnd/mysqlnd_ps.c 			stmt-&gt;conn-&gt;upsert_status-&gt;server_status =</span>
<span class='curline'><a href='../S/803.html#L1127'>conn</a>             1127 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn-&gt;upsert_status-&gt;warning_count =</span>
<span class='curline'><a href='../S/803.html#L1130'>conn</a>             1130 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn-&gt;upsert_status-&gt;server_status =</span>
<span class='curline'><a href='../S/803.html#L1149'>conn</a>             1149 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1168'>conn</a>             1168 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1205'>conn</a>             1205 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1211'>conn</a>             1211 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1214'>conn</a>             1214 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_CONN_DATA * conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L1235'>conn</a>             1235 ext/mysqlnd/mysqlnd_ps.c 		if (CONN_GET_STATE(conn) == CONN_READY &amp;&amp;</span>
<span class='curline'><a href='../S/803.html#L1236'>conn</a>             1236 ext/mysqlnd/mysqlnd_ps.c 			FAIL == (ret = conn-&gt;m-&gt;simple_command(conn, COM_STMT_RESET, cmd_buf,</span>
<span class='curline'><a href='../S/803.html#L1239'>conn</a>             1239 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1241'>conn</a>             1241 ext/mysqlnd/mysqlnd_ps.c 		*stmt-&gt;upsert_status = *conn-&gt;upsert_status;</span>
<span class='curline'><a href='../S/803.html#L1257'>conn</a>             1257 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1294'>conn</a>             1294 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L1299'>conn</a>             1299 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1304'>conn</a>             1304 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L1307'>conn</a>             1307 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1340'>conn</a>             1340 ext/mysqlnd/mysqlnd_ps.c 	if (CONN_GET_STATE(conn) == CONN_READY) {</span>
<span class='curline'><a href='../S/803.html#L1351'>conn</a>             1351 ext/mysqlnd/mysqlnd_ps.c 			ret = conn-&gt;m-&gt;simple_command(conn, cmd, cmd_buf, packet_len, PROT_LAST , FALSE, TRUE TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L1354'>conn</a>             1354 ext/mysqlnd/mysqlnd_ps.c 				COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1359'>conn</a>             1359 ext/mysqlnd/mysqlnd_ps.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1381'>conn</a>             1381 ext/mysqlnd/mysqlnd_ps.c 		if ((packet_len = conn-&gt;net-&gt;m.consume_uneaten_data(conn-&gt;net, cmd TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/803.html#L1405'>conn</a>             1405 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1420'>conn</a>             1420 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1476'>conn</a>             1476 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1493'>conn</a>             1493 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1532'>conn</a>             1532 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1544'>conn</a>             1544 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1561'>conn</a>             1561 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1576'>conn</a>             1576 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1615'>conn</a>             1615 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1633'>conn</a>             1633 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1796'>conn</a>             1796 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt-&gt;field_count || !stmt-&gt;conn || !stmt-&gt;result || !stmt-&gt;result-&gt;meta) {</span>
<span class='curline'><a href='../S/803.html#L1803'>conn</a>             1803 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;result-&gt;stored_data-&gt;m.initialize_result_set_rest(stmt-&gt;result-&gt;stored_data, stmt-&gt;result-&gt;meta, stmt-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/803.html#L1804'>conn</a>             1804 ext/mysqlnd/mysqlnd_ps.c 																stmt-&gt;conn-&gt;options-&gt;int_and_float_native TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L1816'>conn</a>             1816 ext/mysqlnd/mysqlnd_ps.c 		result = stmt-&gt;conn-&gt;m-&gt;result_init(stmt-&gt;field_count, stmt-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L1835'>conn</a>             1835 ext/mysqlnd/mysqlnd_ps.c 	SET_OOM_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L1938'>conn</a>             1938 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L1979'>conn</a>             1979 ext/mysqlnd/mysqlnd_ps.c 	CONN_SET_STATE(stmt-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/803.html#L2166'>conn</a>             2166 ext/mysqlnd/mysqlnd_ps.c 	MYSQLND_CONN_DATA * conn;</span>
<span class='curline'><a href='../S/803.html#L2171'>conn</a>             2171 ext/mysqlnd/mysqlnd_ps.c 	if (!stmt || !stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L2176'>conn</a>             2176 ext/mysqlnd/mysqlnd_ps.c 	conn = stmt-&gt;conn;</span>
<span class='curline'><a href='../S/803.html#L2179'>conn</a>             2179 ext/mysqlnd/mysqlnd_ps.c 	SET_EMPTY_ERROR(*stmt-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L2208'>conn</a>             2208 ext/mysqlnd/mysqlnd_ps.c 		if (CONN_GET_STATE(conn) == CONN_READY &amp;&amp;</span>
<span class='curline'><a href='../S/803.html#L2209'>conn</a>             2209 ext/mysqlnd/mysqlnd_ps.c 			FAIL == conn-&gt;m-&gt;simple_command(conn, COM_STMT_CLOSE, cmd_buf, sizeof(cmd_buf),</span>
<span class='curline'><a href='../S/803.html#L2212'>conn</a>             2212 ext/mysqlnd/mysqlnd_ps.c 			COPY_CLIENT_ERROR(*stmt-&gt;error_info, *conn-&gt;error_info);</span>
<span class='curline'><a href='../S/803.html#L2227'>conn</a>             2227 ext/mysqlnd/mysqlnd_ps.c 		MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, statistic);</span>
<span class='curline'><a href='../S/803.html#L2237'>conn</a>             2237 ext/mysqlnd/mysqlnd_ps.c 	if (stmt-&gt;conn) {</span>
<span class='curline'><a href='../S/803.html#L2238'>conn</a>             2238 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn-&gt;m-&gt;free_reference(stmt-&gt;conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/803.html#L2239'>conn</a>             2239 ext/mysqlnd/mysqlnd_ps.c 		stmt-&gt;conn = NULL;</span>
<span class='curline'><a href='../S/803.html#L2381'>conn</a>             2381 ext/mysqlnd/mysqlnd_ps.c _mysqlnd_stmt_init(MYSQLND_CONN_DATA * const conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/803.html#L2385'>conn</a>             2385 ext/mysqlnd/mysqlnd_ps.c 	ret = MYSQLND_CLASS_METHOD_TABLE_NAME(mysqlnd_object_factory).get_prepared_statement(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L373'>conn</a>              373 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_result(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L413'>conn</a>              413 ext/mysqlnd/mysqlnd_result.c 	if (result-&gt;conn) {</span>
<span class='curline'><a href='../S/805.html#L414'>conn</a>              414 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;m-&gt;free_reference(result-&gt;conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L415'>conn</a>              415 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn = NULL;</span>
<span class='curline'><a href='../S/805.html#L427'>conn</a>              427 ext/mysqlnd/mysqlnd_result.c MYSQLND_METHOD(mysqlnd_res, read_result_metadata)(MYSQLND_RES * result, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/805.html#L444'>conn</a>              444 ext/mysqlnd/mysqlnd_result.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L451'>conn</a>              451 ext/mysqlnd/mysqlnd_result.c 	if (FAIL == result-&gt;meta-&gt;m-&gt;read_metadata(result-&gt;meta, conn TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/805.html#L472'>conn</a>              472 ext/mysqlnd/mysqlnd_result.c mysqlnd_query_read_result_set_header(MYSQLND_CONN_DATA * conn, MYSQLND_STMT * s TSRMLS_DC)</span>
<span class='curline'><a href='../S/805.html#L484'>conn</a>              484 ext/mysqlnd/mysqlnd_result.c 		rset_header = conn-&gt;protocol-&gt;m.get_rset_header_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L486'>conn</a>              486 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L491'>conn</a>              491 ext/mysqlnd/mysqlnd_result.c 		SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/805.html#L493'>conn</a>              493 ext/mysqlnd/mysqlnd_result.c 		if (FAIL == (ret = PACKET_READ(rset_header, conn))) {</span>
<span class='curline'><a href='../S/805.html#L508'>conn</a>              508 ext/mysqlnd/mysqlnd_result.c 			conn-&gt;upsert_status-&gt;server_status &amp;= ~SERVER_MORE_RESULTS_EXISTS;</span>
<span class='curline'><a href='../S/805.html#L513'>conn</a>              513 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*conn-&gt;error_info, rset_header-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L517'>conn</a>              517 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L520'>conn</a>              520 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;error_info-&gt;error_no = 0;</span>
<span class='curline'><a href='../S/805.html#L526'>conn</a>              526 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;last_query_type = QUERY_LOAD_LOCAL;</span>
<span class='curline'><a href='../S/805.html#L527'>conn</a>              527 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;field_count = 0; /* overwrite previous value, or the last value could be used and lead to bug#53503 */</span>
<span class='curline'><a href='../S/805.html#L528'>conn</a>              528 ext/mysqlnd/mysqlnd_result.c 				CONN_SET_STATE(conn, CONN_SENDING_LOAD_DATA);</span>
<span class='curline'><a href='../S/805.html#L529'>conn</a>              529 ext/mysqlnd/mysqlnd_result.c 				ret = mysqlnd_handle_local_infile(conn, rset_header-&gt;info_or_local_file, &amp;is_warning TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L530'>conn</a>              530 ext/mysqlnd/mysqlnd_result.c 				CONN_SET_STATE(conn,  (ret == PASS || is_warning == TRUE)? CONN_READY:CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/805.html#L531'>conn</a>              531 ext/mysqlnd/mysqlnd_result.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_NON_RSET_QUERY);</span>
<span class='curline'><a href='../S/805.html#L536'>conn</a>              536 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;last_query_type = QUERY_UPSERT;</span>
<span class='curline'><a href='../S/805.html#L537'>conn</a>              537 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;field_count = rset_header-&gt;field_count;</span>
<span class='curline'><a href='../S/805.html#L538'>conn</a>              538 ext/mysqlnd/mysqlnd_result.c 				memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/805.html#L539'>conn</a>              539 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;warning_count = rset_header-&gt;warning_count;</span>
<span class='curline'><a href='../S/805.html#L540'>conn</a>              540 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;server_status = rset_header-&gt;server_status;</span>
<span class='curline'><a href='../S/805.html#L541'>conn</a>              541 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;affected_rows = rset_header-&gt;affected_rows;</span>
<span class='curline'><a href='../S/805.html#L542'>conn</a>              542 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;upsert_status-&gt;last_insert_id = rset_header-&gt;last_insert_id;</span>
<span class='curline'><a href='../S/805.html#L543'>conn</a>              543 ext/mysqlnd/mysqlnd_result.c 				SET_NEW_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len,</span>
<span class='curline'><a href='../S/805.html#L545'>conn</a>              545 ext/mysqlnd/mysqlnd_result.c 								conn-&gt;persistent);</span>
<span class='curline'><a href='../S/805.html#L547'>conn</a>              547 ext/mysqlnd/mysqlnd_result.c 				if (conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/805.html#L548'>conn</a>              548 ext/mysqlnd/mysqlnd_result.c 					CONN_SET_STATE(conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/805.html#L550'>conn</a>              550 ext/mysqlnd/mysqlnd_result.c 					CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L553'>conn</a>              553 ext/mysqlnd/mysqlnd_result.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_NON_RSET_QUERY);</span>
<span class='curline'><a href='../S/805.html#L560'>conn</a>              560 ext/mysqlnd/mysqlnd_result.c 				SET_EMPTY_MESSAGE(conn-&gt;last_message, conn-&gt;last_message_len, conn-&gt;persistent);</span>
<span class='curline'><a href='../S/805.html#L562'>conn</a>              562 ext/mysqlnd/mysqlnd_result.c 				MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_RSET_QUERY);</span>
<span class='curline'><a href='../S/805.html#L563'>conn</a>              563 ext/mysqlnd/mysqlnd_result.c 				memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/805.html#L565'>conn</a>              565 ext/mysqlnd/mysqlnd_result.c 				SET_ERROR_AFF_ROWS(conn);</span>
<span class='curline'><a href='../S/805.html#L567'>conn</a>              567 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;last_query_type = QUERY_SELECT;</span>
<span class='curline'><a href='../S/805.html#L568'>conn</a>              568 ext/mysqlnd/mysqlnd_result.c 				CONN_SET_STATE(conn, CONN_FETCHING_DATA);</span>
<span class='curline'><a href='../S/805.html#L570'>conn</a>              570 ext/mysqlnd/mysqlnd_result.c 				conn-&gt;field_count = rset_header-&gt;field_count;</span>
<span class='curline'><a href='../S/805.html#L572'>conn</a>              572 ext/mysqlnd/mysqlnd_result.c 					result = conn-&gt;current_result = conn-&gt;m-&gt;result_init(rset_header-&gt;field_count, conn-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L581'>conn</a>              581 ext/mysqlnd/mysqlnd_result.c 						result = stmt-&gt;result = conn-&gt;m-&gt;result_init(rset_header-&gt;field_count, stmt-&gt;persistent TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L599'>conn</a>              599 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L604'>conn</a>              604 ext/mysqlnd/mysqlnd_result.c 				if (FAIL == (ret = result-&gt;m.read_result_metadata(result, conn TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/805.html#L606'>conn</a>              606 ext/mysqlnd/mysqlnd_result.c 					if (!stmt &amp;&amp; conn-&gt;current_result) {</span>
<span class='curline'><a href='../S/805.html#L607'>conn</a>              607 ext/mysqlnd/mysqlnd_result.c 						mnd_efree(conn-&gt;current_result);</span>
<span class='curline'><a href='../S/805.html#L608'>conn</a>              608 ext/mysqlnd/mysqlnd_result.c 						conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/805.html#L615'>conn</a>              615 ext/mysqlnd/mysqlnd_result.c 				fields_eof = conn-&gt;protocol-&gt;m.get_eof_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L617'>conn</a>              617 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L621'>conn</a>              621 ext/mysqlnd/mysqlnd_result.c 				if (FAIL == (ret = PACKET_READ(fields_eof, conn))) {</span>
<span class='curline'><a href='../S/805.html#L626'>conn</a>              626 ext/mysqlnd/mysqlnd_result.c 						conn-&gt;current_result = NULL;</span>
<span class='curline'><a href='../S/805.html#L636'>conn</a>              636 ext/mysqlnd/mysqlnd_result.c 					conn-&gt;upsert_status-&gt;warning_count = fields_eof-&gt;warning_count;</span>
<span class='curline'><a href='../S/805.html#L644'>conn</a>              644 ext/mysqlnd/mysqlnd_result.c 					conn-&gt;upsert_status-&gt;server_status = fields_eof-&gt;server_status;</span>
<span class='curline'><a href='../S/805.html#L659'>conn</a>              659 ext/mysqlnd/mysqlnd_result.c 					MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, statistic);</span>
<span class='curline'><a href='../S/805.html#L772'>conn</a>              772 ext/mysqlnd/mysqlnd_result.c 	if (CONN_GET_STATE(result-&gt;conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/805.html#L773'>conn</a>              773 ext/mysqlnd/mysqlnd_result.c 		SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/805.html#L787'>conn</a>              787 ext/mysqlnd/mysqlnd_result.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/805.html#L788'>conn</a>              788 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L795'>conn</a>              795 ext/mysqlnd/mysqlnd_result.c 		MYSQLND_INC_CONN_STATISTIC(result-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_NORMAL_UNBUF);</span>
<span class='curline'><a href='../S/805.html#L804'>conn</a>              804 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/805.html#L805'>conn</a>              805 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;stats TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L837'>conn</a>              837 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L845'>conn</a>              845 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, row_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L848'>conn</a>              848 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L854'>conn</a>              854 ext/mysqlnd/mysqlnd_result.c 		memset(result-&gt;conn-&gt;upsert_status, 0, sizeof(*result-&gt;conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/805.html#L855'>conn</a>              855 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/805.html#L856'>conn</a>              856 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/805.html#L861'>conn</a>              861 ext/mysqlnd/mysqlnd_result.c 		if (result-&gt;conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/805.html#L862'>conn</a>              862 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/805.html#L864'>conn</a>              864 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L866'>conn</a>              866 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L891'>conn</a>              891 ext/mysqlnd/mysqlnd_result.c 	if (CONN_GET_STATE(result-&gt;conn) != CONN_FETCHING_DATA) {</span>
<span class='curline'><a href='../S/805.html#L892'>conn</a>              892 ext/mysqlnd/mysqlnd_result.c 		SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_COMMANDS_OUT_OF_SYNC, UNKNOWN_SQLSTATE, mysqlnd_out_of_sync);</span>
<span class='curline'><a href='../S/805.html#L906'>conn</a>              906 ext/mysqlnd/mysqlnd_result.c 	if (PASS == (ret = PACKET_READ(row_packet, result-&gt;conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/805.html#L907'>conn</a>              907 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L914'>conn</a>              914 ext/mysqlnd/mysqlnd_result.c 		MYSQLND_INC_CONN_STATISTIC(result-&gt;conn-&gt;stats, STAT_ROWS_FETCHED_FROM_CLIENT_NORMAL_UNBUF);</span>
<span class='curline'><a href='../S/805.html#L923'>conn</a>              923 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/805.html#L924'>conn</a>              924 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;stats TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L975'>conn</a>              975 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, row_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L978'>conn</a>              978 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L984'>conn</a>              984 ext/mysqlnd/mysqlnd_result.c 		memset(result-&gt;conn-&gt;upsert_status, 0, sizeof(*result-&gt;conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/805.html#L985'>conn</a>              985 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/805.html#L986'>conn</a>              986 ext/mysqlnd/mysqlnd_result.c 		result-&gt;conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/805.html#L991'>conn</a>              991 ext/mysqlnd/mysqlnd_result.c 		if (result-&gt;conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/805.html#L992'>conn</a>              992 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/805.html#L994'>conn</a>              994 ext/mysqlnd/mysqlnd_result.c 			CONN_SET_STATE(result-&gt;conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L996'>conn</a>              996 ext/mysqlnd/mysqlnd_result.c 		result-&gt;unbuf-&gt;m.free_last_data(result-&gt;unbuf, result-&gt;conn? result-&gt;conn-&gt;stats : NULL TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1011'>conn</a>             1011 ext/mysqlnd/mysqlnd_result.c 	SET_EMPTY_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1030'>conn</a>             1030 ext/mysqlnd/mysqlnd_result.c 	result-&gt;unbuf-&gt;row_packet = result-&gt;conn-&gt;protocol-&gt;m.get_row_packet(result-&gt;conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1043'>conn</a>             1043 ext/mysqlnd/mysqlnd_result.c 	SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1075'>conn</a>             1075 ext/mysqlnd/mysqlnd_result.c 												result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/805.html#L1076'>conn</a>             1076 ext/mysqlnd/mysqlnd_result.c 												result-&gt;conn-&gt;stats TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1115'>conn</a>             1115 ext/mysqlnd/mysqlnd_result.c 				SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);			</span>
<span class='curline'><a href='../S/805.html#L1166'>conn</a>             1166 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/805.html#L1167'>conn</a>             1167 ext/mysqlnd/mysqlnd_result.c 											result-&gt;conn-&gt;stats TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1255'>conn</a>             1255 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*result-&gt;conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1263'>conn</a>             1263 ext/mysqlnd/mysqlnd_result.c 										result-&gt;conn-&gt;options-&gt;int_and_float_native,</span>
<span class='curline'><a href='../S/805.html#L1264'>conn</a>             1264 ext/mysqlnd/mysqlnd_result.c 										result-&gt;conn-&gt;stats TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1364'>conn</a>             1364 ext/mysqlnd/mysqlnd_result.c MYSQLND_METHOD(mysqlnd_res, store_result_fetch_data)(MYSQLND_CONN_DATA * const conn, MYSQLND_RES * result,</span>
<span class='curline'><a href='../S/805.html#L1385'>conn</a>             1385 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1393'>conn</a>             1393 ext/mysqlnd/mysqlnd_result.c 	row_packet = conn-&gt;protocol-&gt;m.get_row_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1395'>conn</a>             1395 ext/mysqlnd/mysqlnd_result.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1408'>conn</a>             1408 ext/mysqlnd/mysqlnd_result.c 	while (FAIL != (ret = PACKET_READ(row_packet, conn)) &amp;&amp; !row_packet-&gt;eof) {</span>
<span class='curline'><a href='../S/805.html#L1416'>conn</a>             1416 ext/mysqlnd/mysqlnd_result.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1422'>conn</a>             1422 ext/mysqlnd/mysqlnd_result.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1445'>conn</a>             1445 ext/mysqlnd/mysqlnd_result.c 	MYSQLND_INC_CONN_STATISTIC_W_VALUE(conn-&gt;stats,</span>
<span class='curline'><a href='../S/805.html#L1452'>conn</a>             1452 ext/mysqlnd/mysqlnd_result.c 		memset(conn-&gt;upsert_status, 0, sizeof(*conn-&gt;upsert_status));</span>
<span class='curline'><a href='../S/805.html#L1453'>conn</a>             1453 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;upsert_status-&gt;warning_count = row_packet-&gt;warning_count;</span>
<span class='curline'><a href='../S/805.html#L1454'>conn</a>             1454 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;upsert_status-&gt;server_status = row_packet-&gt;server_status;</span>
<span class='curline'><a href='../S/805.html#L1460'>conn</a>             1460 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1467'>conn</a>             1467 ext/mysqlnd/mysqlnd_result.c 	if (conn-&gt;upsert_status-&gt;server_status &amp; SERVER_MORE_RESULTS_EXISTS) {</span>
<span class='curline'><a href='../S/805.html#L1468'>conn</a>             1468 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(conn, CONN_NEXT_RESULT_PENDING);</span>
<span class='curline'><a href='../S/805.html#L1470'>conn</a>             1470 ext/mysqlnd/mysqlnd_result.c 		CONN_SET_STATE(conn, CONN_READY);</span>
<span class='curline'><a href='../S/805.html#L1477'>conn</a>             1477 ext/mysqlnd/mysqlnd_result.c 		conn-&gt;upsert_status-&gt;affected_rows = set-&gt;row_count;</span>
<span class='curline'><a href='../S/805.html#L1480'>conn</a>             1480 ext/mysqlnd/mysqlnd_result.c 				ret == PASS? "PASS":"FAIL", (uint) set-&gt;row_count, conn-&gt;upsert_status-&gt;warning_count, conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/805.html#L1492'>conn</a>             1492 ext/mysqlnd/mysqlnd_result.c 										  MYSQLND_CONN_DATA * const conn,</span>
<span class='curline'><a href='../S/805.html#L1502'>conn</a>             1502 ext/mysqlnd/mysqlnd_result.c 	result-&gt;conn = conn-&gt;m-&gt;get_reference(conn TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1505'>conn</a>             1505 ext/mysqlnd/mysqlnd_result.c 	CONN_SET_STATE(conn, CONN_FETCHING_DATA);</span>
<span class='curline'><a href='../S/805.html#L1510'>conn</a>             1510 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1517'>conn</a>             1517 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1522'>conn</a>             1522 ext/mysqlnd/mysqlnd_result.c 	ret = result-&gt;m.store_result_fetch_data(conn, result, result-&gt;meta, row_buffers, flags &amp; MYSQLND_STORE_PS TSRMLS_CC);</span>
<span class='curline'><a href='../S/805.html#L1526'>conn</a>             1526 ext/mysqlnd/mysqlnd_result.c 			COPY_CLIENT_ERROR(*conn-&gt;error_info, result-&gt;stored_data-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1528'>conn</a>             1528 ext/mysqlnd/mysqlnd_result.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1539'>conn</a>             1539 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1545'>conn</a>             1545 ext/mysqlnd/mysqlnd_result.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/805.html#L1560'>conn</a>             1560 ext/mysqlnd/mysqlnd_result.c 	conn-&gt;upsert_status-&gt;affected_rows = result-&gt;stored_data-&gt;row_count;</span>
<span class='curline'><a href='../S/805.html#L1582'>conn</a>             1582 ext/mysqlnd/mysqlnd_result.c 		MYSQLND_INC_CONN_STATISTIC(result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/805.html#L1601'>conn</a>             1601 ext/mysqlnd/mysqlnd_result.c 	MYSQLND_INC_CONN_STATISTIC(result-&gt;conn? result-&gt;conn-&gt;stats : NULL,</span>
<span class='curline'><a href='../S/805.html#L1718'>conn</a>             1718 ext/mysqlnd/mysqlnd_result.c 				if (PASS != result-&gt;stored_data-&gt;m.initialize_result_set_rest(result-&gt;stored_data, result-&gt;meta, result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/805.html#L1719'>conn</a>             1719 ext/mysqlnd/mysqlnd_result.c 																			  result-&gt;conn-&gt;options-&gt;int_and_float_native TSRMLS_CC))</span>
<span class='curline'><a href='../S/805.html#L1752'>conn</a>             1752 ext/mysqlnd/mysqlnd_result.c 				if (PASS != result-&gt;stored_data-&gt;m.initialize_result_set_rest(result-&gt;stored_data, result-&gt;meta, result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/805.html#L1753'>conn</a>             1753 ext/mysqlnd/mysqlnd_result.c 																			  result-&gt;conn-&gt;options-&gt;int_and_float_native TSRMLS_CC))</span>
<span class='curline'><a href='../S/805.html#L1776'>conn</a>             1776 ext/mysqlnd/mysqlnd_result.c 				if (PASS != result-&gt;stored_data-&gt;m.initialize_result_set_rest(result-&gt;stored_data, result-&gt;meta, result-&gt;conn-&gt;stats,</span>
<span class='curline'><a href='../S/805.html#L1777'>conn</a>             1777 ext/mysqlnd/mysqlnd_result.c 																			  result-&gt;conn-&gt;options-&gt;int_and_float_native TSRMLS_CC))</span>
<span class='curline'><a href='../S/805.html#L1881'>conn</a>             1881 ext/mysqlnd/mysqlnd_result.c 		if (result-&gt;conn) {</span>
<span class='curline'><a href='../S/805.html#L1882'>conn</a>             1882 ext/mysqlnd/mysqlnd_result.c 			SET_CLIENT_ERROR(*result-&gt;conn-&gt;error_info, CR_NOT_IMPLEMENTED, UNKNOWN_SQLSTATE, "fetch_all can be used only with buffered sets");</span>
<span class='curline'><a href='../S/806.html#L31'>conn</a>               31 ext/mysqlnd/mysqlnd_result.h enum_func_status mysqlnd_query_read_result_set_header(MYSQLND_CONN_DATA * conn, MYSQLND_STMT * stmt TSRMLS_DC);</span>
<span class='curline'><a href='../S/807.html#L97'>conn</a>               97 ext/mysqlnd/mysqlnd_result_meta.c MYSQLND_METHOD(mysqlnd_res_meta, read_metadata)(MYSQLND_RES_METADATA * const meta, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/807.html#L104'>conn</a>              104 ext/mysqlnd/mysqlnd_result_meta.c 	field_packet = conn-&gt;protocol-&gt;m.get_result_field_packet(conn-&gt;protocol, FALSE TSRMLS_CC);</span>
<span class='curline'><a href='../S/807.html#L106'>conn</a>              106 ext/mysqlnd/mysqlnd_result_meta.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/807.html#L120'>conn</a>              120 ext/mysqlnd/mysqlnd_result_meta.c 		if (FAIL == PACKET_READ(field_packet, conn)) {</span>
<span class='curline'><a href='../S/807.html#L125'>conn</a>              125 ext/mysqlnd/mysqlnd_result_meta.c 			COPY_CLIENT_ERROR(*conn-&gt;error_info, field_packet-&gt;error_info);</span>
<span class='curline'><a href='../S/813.html#L407'>conn</a>              407 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND * (*func_mysqlnd_object_factory__clone_connection_object)(MYSQLND * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L408'>conn</a>              408 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_STMT * (*func_mysqlnd_object_factory__get_prepared_statement)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L423'>conn</a>              423 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__init)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L424'>conn</a>              424 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__connect)(MYSQLND_CONN_DATA * conn, const char * host, const char * user, const char * passwd, unsigned int passwd_len, const char * db, unsigned int db_len, unsigned int port, const char * socket_or_pipe, unsigned int mysql_flags TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L425'>conn</a>              425 ext/mysqlnd/mysqlnd_structs.h typedef ulong				(*func_mysqlnd_conn_data__escape_string)(MYSQLND_CONN_DATA * const conn, char *newstr, const char *escapestr, size_t escapestr_len TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L426'>conn</a>              426 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__set_charset)(MYSQLND_CONN_DATA * const conn, const char * const charset TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L427'>conn</a>              427 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__query)(MYSQLND_CONN_DATA * conn, const char * query, unsigned int query_len TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L428'>conn</a>              428 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__send_query)(MYSQLND_CONN_DATA * conn, const char *query, unsigned int query_len TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L429'>conn</a>              429 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__reap_query)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L430'>conn</a>              430 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__use_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L431'>conn</a>              431 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__store_result)(MYSQLND_CONN_DATA * const conn, const unsigned int flags TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L432'>conn</a>              432 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__next_result)(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L433'>conn</a>              433 ext/mysqlnd/mysqlnd_structs.h typedef zend_bool			(*func_mysqlnd_conn_data__more_results)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L435'>conn</a>              435 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_STMT *		(*func_mysqlnd_conn_data__stmt_init)(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L437'>conn</a>              437 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__shutdown_server)(MYSQLND_CONN_DATA * const conn, uint8_t level TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L438'>conn</a>              438 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__refresh_server)(MYSQLND_CONN_DATA * const conn, uint8_t options TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L440'>conn</a>              440 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__ping)(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L441'>conn</a>              441 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__kill_connection)(MYSQLND_CONN_DATA * conn, unsigned int pid TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L442'>conn</a>              442 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__select_db)(MYSQLND_CONN_DATA * const conn, const char * const db, unsigned int db_len TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L443'>conn</a>              443 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__server_dump_debug_information)(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L444'>conn</a>              444 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__change_user)(MYSQLND_CONN_DATA * const conn, const char * user, const char * passwd, const char * db, zend_bool silent, size_t passwd_len TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L446'>conn</a>              446 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_error_no)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L447'>conn</a>              447 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_error_str)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L448'>conn</a>              448 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_sqlstate)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L449'>conn</a>              449 ext/mysqlnd/mysqlnd_structs.h typedef uint64_t			(*func_mysqlnd_conn_data__get_thread_id)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L450'>conn</a>              450 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__get_statistics)(const MYSQLND_CONN_DATA * const conn, zval *return_value TSRMLS_DC ZEND_FILE_LINE_DC);</span>
<span class='curline'><a href='../S/813.html#L452'>conn</a>              452 ext/mysqlnd/mysqlnd_structs.h typedef unsigned long		(*func_mysqlnd_conn_data__get_server_version)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L453'>conn</a>              453 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_server_information)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L454'>conn</a>              454 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__get_server_statistics)(MYSQLND_CONN_DATA * conn, char **message, unsigned int * message_len TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L455'>conn</a>              455 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_host_information)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L456'>conn</a>              456 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_protocol_information)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L457'>conn</a>              457 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__get_last_message)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L458'>conn</a>              458 ext/mysqlnd/mysqlnd_structs.h typedef const char *		(*func_mysqlnd_conn_data__charset_name)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L459'>conn</a>              459 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__list_fields)(MYSQLND_CONN_DATA * conn, const char * table, const char * achtung_wild TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L460'>conn</a>              460 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_RES *		(*func_mysqlnd_conn_data__list_method)(MYSQLND_CONN_DATA * conn, const char * query, const char * achtung_wild, char *par1 TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L462'>conn</a>              462 ext/mysqlnd/mysqlnd_structs.h typedef uint64_t			(*func_mysqlnd_conn_data__get_last_insert_id)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L463'>conn</a>              463 ext/mysqlnd/mysqlnd_structs.h typedef uint64_t			(*func_mysqlnd_conn_data__get_affected_rows)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L464'>conn</a>              464 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_warning_count)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L466'>conn</a>              466 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_field_count)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L468'>conn</a>              468 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_server_status)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L469'>conn</a>              469 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__set_server_option)(MYSQLND_CONN_DATA * const conn, enum_mysqlnd_server_option option TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L470'>conn</a>              470 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__set_client_option)(MYSQLND_CONN_DATA * const conn, enum_mysqlnd_option option, const char * const value TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L471'>conn</a>              471 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__free_contents)(MYSQLND_CONN_DATA * conn TSRMLS_DC);/* private */</span>
<span class='curline'><a href='../S/813.html#L472'>conn</a>              472 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__free_options)(MYSQLND_CONN_DATA * conn TSRMLS_DC);	/* private */</span>
<span class='curline'><a href='../S/813.html#L473'>conn</a>              473 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn_data__dtor)(MYSQLND_CONN_DATA * conn TSRMLS_DC);	/* private */</span>
<span class='curline'><a href='../S/813.html#L475'>conn</a>              475 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__query_read_result_set_header)(MYSQLND_CONN_DATA * conn, MYSQLND_STMT * stmt TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L477'>conn</a>              477 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND_CONN_DATA *	(*func_mysqlnd_conn_data__get_reference)(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L478'>conn</a>              478 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__free_reference)(MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L479'>conn</a>              479 ext/mysqlnd/mysqlnd_structs.h typedef enum mysqlnd_connection_state (*func_mysqlnd_conn_data__get_state)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L485'>conn</a>              485 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__restart_psession)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L486'>conn</a>              486 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__end_psession)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L487'>conn</a>              487 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__send_close)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L494'>conn</a>              494 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__tx_commit)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L495'>conn</a>              495 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__tx_rollback)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L504'>conn</a>              504 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_conn_data__execute_init_commands)(MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L514'>conn</a>              514 ext/mysqlnd/mysqlnd_structs.h typedef unsigned int		(*func_mysqlnd_conn_data__get_client_api_capabilities)(const MYSQLND_CONN_DATA * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L615'>conn</a>              615 ext/mysqlnd/mysqlnd_structs.h typedef MYSQLND *			(*func_mysqlnd_conn__clone_object)(MYSQLND * const conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L616'>conn</a>              616 ext/mysqlnd/mysqlnd_structs.h typedef void				(*func_mysqlnd_conn__dtor)(MYSQLND * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L649'>conn</a>              649 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status	(*func_mysqlnd_res__read_result_metadata)(MYSQLND_RES * result, MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/813.html#L739'>conn</a>              739 ext/mysqlnd/mysqlnd_structs.h typedef enum_func_status		(*func_mysqlnd_res_meta__read_metadata)(MYSQLND_RES_METADATA * const meta, MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/814.html#L35'>conn</a>               35 ext/mysqlnd/mysqlnd_wireprotocol.c #define	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_size, packet_type_as_text, packet_type) \</span>
<span class='curline'><a href='../S/814.html#L38'>conn</a>               38 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (FAIL == mysqlnd_read_header((conn)-&gt;net, &amp;((packet)-&gt;header), (conn)-&gt;stats, ((conn)-&gt;error_info) TSRMLS_CC)) {\</span>
<span class='curline'><a href='../S/814.html#L39'>conn</a>               39 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT); \</span>
<span class='curline'><a href='../S/814.html#L40'>conn</a>               40 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);\</span>
<span class='curline'><a href='../S/814.html#L50'>conn</a>               50 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (FAIL == conn-&gt;net-&gt;data-&gt;m.receive_ex((conn)-&gt;net, (buf), (packet)-&gt;header.size, (conn)-&gt;stats, ((conn)-&gt;error_info) TSRMLS_CC)) { \</span>
<span class='curline'><a href='../S/814.html#L51'>conn</a>               51 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT); \</span>
<span class='curline'><a href='../S/814.html#L52'>conn</a>               52 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_SERVER_GONE_ERROR, UNKNOWN_SQLSTATE, mysqlnd_server_gone);\</span>
<span class='curline'><a href='../S/814.html#L57'>conn</a>               57 ext/mysqlnd/mysqlnd_wireprotocol.c 		MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, packet_type_to_statistic_byte_count[packet_type], \</span>
<span class='curline'><a href='../S/814.html#L323'>conn</a>              323 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_greet_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L333'>conn</a>              333 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, sizeof(buf), "greeting", PROT_GREET_PACKET);</span>
<span class='curline'><a href='../S/814.html#L485'>conn</a>              485 ext/mysqlnd/mysqlnd_wireprotocol.c size_t php_mysqlnd_auth_write(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L521'>conn</a>              521 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_CLIENT_ERROR(*conn-&gt;error_info, CR_UNKNOWN_ERROR, UNKNOWN_SQLSTATE, msg);</span>
<span class='curline'><a href='../S/814.html#L580'>conn</a>              580 ext/mysqlnd/mysqlnd_wireprotocol.c 				zend_hash_move_forward_ex(conn-&gt;options-&gt;connect_attr, &amp;pos_value);</span>
<span class='curline'><a href='../S/814.html#L602'>conn</a>              602 ext/mysqlnd/mysqlnd_wireprotocol.c 					zend_hash_move_forward_ex(conn-&gt;options-&gt;connect_attr, &amp;pos_value);</span>
<span class='curline'><a href='../S/814.html#L610'>conn</a>              610 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (PASS != conn-&gt;m-&gt;simple_command(conn, COM_CHANGE_USER, buffer + MYSQLND_HEADER_SIZE, p - buffer - MYSQLND_HEADER_SIZE,</span>
<span class='curline'><a href='../S/814.html#L617'>conn</a>              617 ext/mysqlnd/mysqlnd_wireprotocol.c 		size_t sent = conn-&gt;net-&gt;data-&gt;m.send_ex(conn-&gt;net, buffer, p - buffer - MYSQLND_HEADER_SIZE, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/814.html#L619'>conn</a>              619 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/814.html#L643'>conn</a>              643 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_auth_response_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L646'>conn</a>              646 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.buffer? conn-&gt;net-&gt;cmd_buffer.length: AUTH_RESP_BUFFER_SIZE;</span>
<span class='curline'><a href='../S/814.html#L647'>conn</a>              647 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = conn-&gt;net-&gt;cmd_buffer.buffer? (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer : local_buf;</span>
<span class='curline'><a href='../S/814.html#L657'>conn</a>              657 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "OK", PROT_OK_PACKET);</span>
<span class='curline'><a href='../S/814.html#L763'>conn</a>              763 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_change_auth_response_write(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L766'>conn</a>              766 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar * buffer = conn-&gt;net-&gt;cmd_buffer.length &gt;= packet-&gt;auth_data_len? conn-&gt;net-&gt;cmd_buffer.buffer : mnd_emalloc(packet-&gt;auth_data_len);</span>
<span class='curline'><a href='../S/814.html#L777'>conn</a>              777 ext/mysqlnd/mysqlnd_wireprotocol.c 		size_t sent = conn-&gt;net-&gt;data-&gt;m.send_ex(conn-&gt;net, buffer, p - buffer - MYSQLND_HEADER_SIZE, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/814.html#L778'>conn</a>              778 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (buffer != conn-&gt;net-&gt;cmd_buffer.buffer) {</span>
<span class='curline'><a href='../S/814.html#L782'>conn</a>              782 ext/mysqlnd/mysqlnd_wireprotocol.c 			CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/814.html#L806'>conn</a>              806 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_ok_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L809'>conn</a>              809 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.buffer? conn-&gt;net-&gt;cmd_buffer.length : OK_BUFFER_SIZE;</span>
<span class='curline'><a href='../S/814.html#L810'>conn</a>              810 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = conn-&gt;net-&gt;cmd_buffer.buffer? (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer : local_buf;</span>
<span class='curline'><a href='../S/814.html#L818'>conn</a>              818 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "OK", PROT_OK_PACKET);</span>
<span class='curline'><a href='../S/814.html#L831'>conn</a>              831 ext/mysqlnd/mysqlnd_wireprotocol.c 		DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/814.html#L892'>conn</a>              892 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_eof_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L901'>conn</a>              901 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/814.html#L902'>conn</a>              902 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/814.html#L908'>conn</a>              908 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "EOF", PROT_EOF_PACKET);</span>
<span class='curline'><a href='../S/814.html#L969'>conn</a>              969 ext/mysqlnd/mysqlnd_wireprotocol.c size_t php_mysqlnd_cmd_write(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L973'>conn</a>              973 ext/mysqlnd/mysqlnd_wireprotocol.c 	MYSQLND_NET * net = conn-&gt;net;</span>
<span class='curline'><a href='../S/814.html#L989'>conn</a>              989 ext/mysqlnd/mysqlnd_wireprotocol.c 	MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_PACKETS_SENT_CMD);</span>
<span class='curline'><a href='../S/814.html#L999'>conn</a>              999 ext/mysqlnd/mysqlnd_wireprotocol.c 		sent = net-&gt;data-&gt;m.send_ex(net, buffer, 1, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/814.html#L1014'>conn</a>             1014 ext/mysqlnd/mysqlnd_wireprotocol.c 		sent = net-&gt;data-&gt;m.send_ex(net, tmp, tmp_len - MYSQLND_HEADER_SIZE, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/814.html#L1016'>conn</a>             1016 ext/mysqlnd/mysqlnd_wireprotocol.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats, STAT_CMD_BUFFER_TOO_SMALL);</span>
<span class='curline'><a href='../S/814.html#L1026'>conn</a>             1026 ext/mysqlnd/mysqlnd_wireprotocol.c 		CONN_SET_STATE(conn, CONN_QUIT_SENT);</span>
<span class='curline'><a href='../S/814.html#L1047'>conn</a>             1047 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_rset_header_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L1050'>conn</a>             1050 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/814.html#L1051'>conn</a>             1051 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/814.html#L1059'>conn</a>             1059 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "resultset header", PROT_RSET_HEADER_PACKET);</span>
<span class='curline'><a href='../S/814.html#L1074'>conn</a>             1074 ext/mysqlnd/mysqlnd_wireprotocol.c 		DBG_INF_FMT("conn-&gt;server_status=%u", conn-&gt;upsert_status-&gt;server_status);</span>
<span class='curline'><a href='../S/814.html#L1098'>conn</a>             1098 ext/mysqlnd/mysqlnd_wireprotocol.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/814.html#L1125'>conn</a>             1125 ext/mysqlnd/mysqlnd_wireprotocol.c 					SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/814.html#L1186'>conn</a>             1186 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_rset_field_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L1190'>conn</a>             1190 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length, total_len = 0;</span>
<span class='curline'><a href='../S/814.html#L1191'>conn</a>             1191 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/814.html#L1201'>conn</a>             1201 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "field", PROT_RSET_FLD_PACKET);</span>
<span class='curline'><a href='../S/814.html#L1302'>conn</a>             1302 ext/mysqlnd/mysqlnd_wireprotocol.c 			SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/814.html#L1314'>conn</a>             1314 ext/mysqlnd/mysqlnd_wireprotocol.c 		SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/814.html#L1396'>conn</a>             1396 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_read_row_ex(MYSQLND_CONN_DATA * conn, MYSQLND_MEMORY_POOL * result_set_memory_pool,</span>
<span class='curline'><a href='../S/814.html#L1418'>conn</a>             1418 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (FAIL == mysqlnd_read_header(conn-&gt;net, &amp;header, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/814.html#L1450'>conn</a>             1450 ext/mysqlnd/mysqlnd_wireprotocol.c 				SET_OOM_ERROR(*conn-&gt;error_info);</span>
<span class='curline'><a href='../S/814.html#L1458'>conn</a>             1458 ext/mysqlnd/mysqlnd_wireprotocol.c 		if (PASS != (ret = conn-&gt;net-&gt;data-&gt;m.receive_ex(conn-&gt;net, p, header.size, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC))) {</span>
<span class='curline'><a href='../S/814.html#L1798'>conn</a>             1798 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_rowp_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L1813'>conn</a>             1813 ext/mysqlnd/mysqlnd_wireprotocol.c 	ret = php_mysqlnd_read_row_ex(conn, packet-&gt;result_set_memory_pool, &amp;packet-&gt;row_buffer, &amp;data_size,</span>
<span class='curline'><a href='../S/814.html#L1819'>conn</a>             1819 ext/mysqlnd/mysqlnd_wireprotocol.c 	MYSQLND_INC_CONN_STATISTIC_W_VALUE2(conn-&gt;stats, packet_type_to_statistic_byte_count[PROT_ROW_PACKET],</span>
<span class='curline'><a href='../S/814.html#L1852'>conn</a>             1852 ext/mysqlnd/mysqlnd_wireprotocol.c 		MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats,</span>
<span class='curline'><a href='../S/814.html#L1876'>conn</a>             1876 ext/mysqlnd/mysqlnd_wireprotocol.c 			MYSQLND_INC_CONN_STATISTIC(conn-&gt;stats,</span>
<span class='curline'><a href='../S/814.html#L1918'>conn</a>             1918 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_stats_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L1921'>conn</a>             1921 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/814.html#L1922'>conn</a>             1922 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/814.html#L1926'>conn</a>             1926 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "statistics", PROT_STATS_PACKET);</span>
<span class='curline'><a href='../S/814.html#L1960'>conn</a>             1960 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_prepare_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L1963'>conn</a>             1963 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/814.html#L1964'>conn</a>             1964 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/814.html#L1972'>conn</a>             1972 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "prepare", PROT_PREPARE_RESP_PACKET);</span>
<span class='curline'><a href='../S/814.html#L2048'>conn</a>             2048 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_chg_user_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L2051'>conn</a>             2051 ext/mysqlnd/mysqlnd_wireprotocol.c 	size_t buf_len = conn-&gt;net-&gt;cmd_buffer.length;</span>
<span class='curline'><a href='../S/814.html#L2052'>conn</a>             2052 ext/mysqlnd/mysqlnd_wireprotocol.c 	zend_uchar *buf = (zend_uchar *) conn-&gt;net-&gt;cmd_buffer.buffer;</span>
<span class='curline'><a href='../S/814.html#L2059'>conn</a>             2059 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, buf_len, "change user response", PROT_CHG_USER_RESP_PACKET);</span>
<span class='curline'><a href='../S/814.html#L2136'>conn</a>             2136 ext/mysqlnd/mysqlnd_wireprotocol.c size_t php_mysqlnd_sha256_pk_request_write(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L2144'>conn</a>             2144 ext/mysqlnd/mysqlnd_wireprotocol.c 	sent = conn-&gt;net-&gt;data-&gt;m.send_ex(conn-&gt;net, buffer, 1, conn-&gt;stats, conn-&gt;error_info TSRMLS_CC);</span>
<span class='curline'><a href='../S/814.html#L2167'>conn</a>             2167 ext/mysqlnd/mysqlnd_wireprotocol.c php_mysqlnd_sha256_pk_request_response_read(void * _packet, MYSQLND_CONN_DATA * conn TSRMLS_DC)</span>
<span class='curline'><a href='../S/814.html#L2177'>conn</a>             2177 ext/mysqlnd/mysqlnd_wireprotocol.c 	PACKET_READ_HEADER_AND_BODY(packet, conn, buf, sizeof(buf), "SHA256_PK_REQUEST_RESPONSE", PROT_SHA256_PK_REQUEST_RESPONSE_PACKET);</span>
<span class='curline'><a href='../S/815.html#L39'>conn</a>               39 ext/mysqlnd/mysqlnd_wireprotocol.h #define PACKET_WRITE(packet, conn)	((packet)-&gt;header.m-&gt;write_to_net((packet), (conn) TSRMLS_CC))</span>
<span class='curline'><a href='../S/815.html#L40'>conn</a>               40 ext/mysqlnd/mysqlnd_wireprotocol.h #define PACKET_READ(packet, conn)	((packet)-&gt;header.m-&gt;read_from_net((packet), (conn) TSRMLS_CC))</span>
<span class='curline'><a href='../S/815.html#L54'>conn</a>               54 ext/mysqlnd/mysqlnd_wireprotocol.h 	enum_func_status	(*read_from_net)(void * packet, MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/815.html#L55'>conn</a>               55 ext/mysqlnd/mysqlnd_wireprotocol.h 	size_t				(*write_to_net)(void * packet, MYSQLND_CONN_DATA * conn TSRMLS_DC);</span>
<span class='curline'><a href='../S/825.html#L163'>conn</a>              163 ext/odbc/birdstep.c #define PHP_BIRDSTEP_CHK_LNK(id) if (!(conn = birdstep_find_conn(list, id))) { php_error_docref(NULL TSRMLS_CC, E_WARNING, "Birdstep: Not connection index (%ld)", id); RETURN_FALSE; }</span>
<span class='curline'><a href='../S/825.html#L168'>conn</a>              168 ext/odbc/birdstep.c 	VConn *conn = (VConn *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/825.html#L170'>conn</a>              170 ext/odbc/birdstep.c 	if ( conn ) {</span>
<span class='curline'><a href='../S/825.html#L171'>conn</a>              171 ext/odbc/birdstep.c 		efree(conn);</span>
<span class='curline'><a href='../S/825.html#L227'>conn</a>              227 ext/odbc/birdstep.c static int birdstep_add_conn(HashTable *list,VConn *conn,HDBC hdbc TSRMLS_DC)</span>
<span class='curline'><a href='../S/825.html#L231'>conn</a>              231 ext/odbc/birdstep.c 	ind = zend_list_insert(conn,php_birdstep_module.le_link TSRMLS_CC);</span>
<span class='curline'><a href='../S/825.html#L232'>conn</a>              232 ext/odbc/birdstep.c 	conn-&gt;hdbc = hdbc;</span>
<span class='curline'><a href='../S/825.html#L233'>conn</a>              233 ext/odbc/birdstep.c 	conn-&gt;index = ind;</span>
<span class='curline'><a href='../S/825.html#L240'>conn</a>              240 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L243'>conn</a>              243 ext/odbc/birdstep.c 	conn = zend_list_find(ind,&amp;type);</span>
<span class='curline'><a href='../S/825.html#L244'>conn</a>              244 ext/odbc/birdstep.c 	if ( !conn || type != php_birdstep_module.le_link ) {</span>
<span class='curline'><a href='../S/825.html#L247'>conn</a>              247 ext/odbc/birdstep.c 	return(conn);</span>
<span class='curline'><a href='../S/825.html#L255'>conn</a>              255 ext/odbc/birdstep.c static int birdstep_add_result(HashTable *list,Vresult *res,VConn *conn)</span>
<span class='curline'><a href='../S/825.html#L260'>conn</a>              260 ext/odbc/birdstep.c 	res-&gt;conn = conn;</span>
<span class='curline'><a href='../S/825.html#L328'>conn</a>              328 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L336'>conn</a>              336 ext/odbc/birdstep.c 	SQLDisconnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/825.html#L337'>conn</a>              337 ext/odbc/birdstep.c 	SQLFreeConnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/825.html#L351'>conn</a>              351 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L364'>conn</a>              364 ext/odbc/birdstep.c 	stat = SQLAllocStmt(conn-&gt;hdbc,&amp;res-&gt;hstmt);</span>
<span class='curline'><a href='../S/825.html#L420'>conn</a>              420 ext/odbc/birdstep.c 	indx = birdstep_add_result(list,res,conn);</span>
<span class='curline'><a href='../S/825.html#L577'>conn</a>              577 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L585'>conn</a>              585 ext/odbc/birdstep.c 	stat = SQLSetConnectOption(conn-&gt;hdbc,SQL_AUTOCOMMIT,SQL_AUTOCOMMIT_ON);</span>
<span class='curline'><a href='../S/825.html#L600'>conn</a>              600 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L608'>conn</a>              608 ext/odbc/birdstep.c 	stat = SQLSetConnectOption(conn-&gt;hdbc,SQL_AUTOCOMMIT,SQL_AUTOCOMMIT_OFF);</span>
<span class='curline'><a href='../S/825.html#L623'>conn</a>              623 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L631'>conn</a>              631 ext/odbc/birdstep.c 	stat = SQLTransact(NULL,conn-&gt;hdbc,SQL_COMMIT);</span>
<span class='curline'><a href='../S/825.html#L646'>conn</a>              646 ext/odbc/birdstep.c 	VConn *conn;</span>
<span class='curline'><a href='../S/825.html#L654'>conn</a>              654 ext/odbc/birdstep.c 	stat = SQLTransact(NULL,conn-&gt;hdbc,SQL_ROLLBACK);</span>
<span class='curline'><a href='../S/826.html#L43'>conn</a>               43 ext/odbc/php_birdstep.h 	VConn   *conn; </span>
<span class='curline'><a href='../S/827.html#L477'>conn</a>              477 ext/odbc/php_odbc.c 	odbc_connection *conn = (odbc_connection *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/827.html#L484'>conn</a>              484 ext/odbc/php_odbc.c 			if (res-&gt;conn_ptr == conn) {</span>
<span class='curline'><a href='../S/827.html#L490'>conn</a>              490 ext/odbc/php_odbc.c    	safe_odbc_disconnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/827.html#L491'>conn</a>              491 ext/odbc/php_odbc.c 	SQLFreeConnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/827.html#L492'>conn</a>              492 ext/odbc/php_odbc.c 	SQLFreeEnv(conn-&gt;henv);</span>
<span class='curline'><a href='../S/827.html#L493'>conn</a>              493 ext/odbc/php_odbc.c 	efree(conn);</span>
<span class='curline'><a href='../S/827.html#L505'>conn</a>              505 ext/odbc/php_odbc.c 	odbc_connection *conn = (odbc_connection *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/827.html#L512'>conn</a>              512 ext/odbc/php_odbc.c 			if (res-&gt;conn_ptr == conn) {</span>
<span class='curline'><a href='../S/827.html#L518'>conn</a>              518 ext/odbc/php_odbc.c 	safe_odbc_disconnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/827.html#L519'>conn</a>              519 ext/odbc/php_odbc.c 	SQLFreeConnect(conn-&gt;hdbc);</span>
<span class='curline'><a href='../S/827.html#L520'>conn</a>              520 ext/odbc/php_odbc.c 	SQLFreeEnv(conn-&gt;henv);</span>
<span class='curline'><a href='../S/827.html#L521'>conn</a>              521 ext/odbc/php_odbc.c 	free(conn);</span>
<span class='curline'><a href='../S/827.html#L879'>conn</a>              879 ext/odbc/php_odbc.c 	ODBC_SQL_CONN_T conn;</span>
<span class='curline'><a href='../S/827.html#L884'>conn</a>              884 ext/odbc/php_odbc.c 		conn = conn_resource-&gt;hdbc;</span>
<span class='curline'><a href='../S/827.html#L887'>conn</a>              887 ext/odbc/php_odbc.c 		conn = SQL_NULL_HDBC;</span>
<span class='curline'><a href='../S/827.html#L895'>conn</a>              895 ext/odbc/php_odbc.c 	rc = SQLError(henv, conn, stmt, state, &amp;error, errormsg, sizeof(errormsg)-1, &amp;errormsgsize);</span>
<span class='curline'><a href='../S/827.html#L1043'>conn</a>             1043 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L1051'>conn</a>             1051 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L1053'>conn</a>             1053 ext/odbc/php_odbc.c 	rc = SQLTransact(conn-&gt;henv, conn-&gt;hdbc, (SQLUSMALLINT)((type)?SQL_COMMIT:SQL_ROLLBACK));</span>
<span class='curline'><a href='../S/827.html#L1055'>conn</a>             1055 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLTransact");</span>
<span class='curline'><a href='../S/827.html#L1187'>conn</a>             1187 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L1198'>conn</a>             1198 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L1205'>conn</a>             1205 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L1213'>conn</a>             1213 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L1221'>conn</a>             1221 ext/odbc/php_odbc.c 	rc = SQLGetInfo(conn-&gt;hdbc, SQL_FETCH_DIRECTION, (void *) &amp;scrollopts, sizeof(scrollopts), NULL);</span>
<span class='curline'><a href='../S/827.html#L1239'>conn</a>             1239 ext/odbc/php_odbc.c 			odbc_sql_error(conn, result-&gt;stmt, "SQLPrepare");</span>
<span class='curline'><a href='../S/827.html#L1242'>conn</a>             1242 ext/odbc/php_odbc.c 			odbc_sql_error(conn, result-&gt;stmt, "SQLPrepare");</span>
<span class='curline'><a href='../S/827.html#L1257'>conn</a>             1257 ext/odbc/php_odbc.c 	zend_list_addref(conn-&gt;id);</span>
<span class='curline'><a href='../S/827.html#L1258'>conn</a>             1258 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L1559'>conn</a>             1559 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L1574'>conn</a>             1574 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;zv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L1577'>conn</a>             1577 ext/odbc/php_odbc.c 	rc = SQLDataSources(conn-&gt;henv, </span>
<span class='curline'><a href='../S/827.html#L1588'>conn</a>             1588 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLDataSources");</span>
<span class='curline'><a href='../S/827.html#L1616'>conn</a>             1616 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L1628'>conn</a>             1628 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L1632'>conn</a>             1632 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L1640'>conn</a>             1640 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L1648'>conn</a>             1648 ext/odbc/php_odbc.c 	rc = SQLGetInfo(conn-&gt;hdbc, SQL_FETCH_DIRECTION, (void *) &amp;scrollopts, sizeof(scrollopts), NULL);</span>
<span class='curline'><a href='../S/827.html#L1666'>conn</a>             1666 ext/odbc/php_odbc.c 		odbc_sql_error(conn, result-&gt;stmt, "SQLExecDirect"); </span>
<span class='curline'><a href='../S/827.html#L1683'>conn</a>             1683 ext/odbc/php_odbc.c 	zend_list_addref(conn-&gt;id);</span>
<span class='curline'><a href='../S/827.html#L1684'>conn</a>             1684 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L2411'>conn</a>             2411 ext/odbc/php_odbc.c int odbc_sqlconnect(odbc_connection **conn, char *db, char *uid, char *pwd, int cur_opt, int persistent TSRMLS_DC)</span>
<span class='curline'><a href='../S/827.html#L2415'>conn</a>             2415 ext/odbc/php_odbc.c 	*conn = (odbc_connection *)pemalloc(sizeof(odbc_connection), persistent);</span>
<span class='curline'><a href='../S/827.html#L2416'>conn</a>             2416 ext/odbc/php_odbc.c 	(*conn)-&gt;persistent = persistent;</span>
<span class='curline'><a href='../S/827.html#L2417'>conn</a>             2417 ext/odbc/php_odbc.c 	SQLAllocEnv(&amp;((*conn)-&gt;henv));</span>
<span class='curline'><a href='../S/827.html#L2418'>conn</a>             2418 ext/odbc/php_odbc.c 	SQLAllocConnect((*conn)-&gt;henv, &amp;((*conn)-&gt;hdbc));</span>
<span class='curline'><a href='../S/827.html#L2421'>conn</a>             2421 ext/odbc/php_odbc.c 	SQLSetConnectOption((*conn)-&gt;hdbc, SQL_TRANSLATE_OPTION,</span>
<span class='curline'><a href='../S/827.html#L2458'>conn</a>             2458 ext/odbc/php_odbc.c 		 rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, lpszConnStr, SQL_NTS, lpszConnStr, CONNSTRSIZE, &amp;cbszConnStr, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/827.html#L2468'>conn</a>             2468 ext/odbc/php_odbc.c 		rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, db, SQL_NTS,	dsnbuf, sizeof(dsnbuf) - 1, &amp;dsnbuflen, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/827.html#L2472'>conn</a>             2472 ext/odbc/php_odbc.c 		rc = SQLSetConnectOption((*conn)-&gt;hdbc, SQL_ODBC_CURSORS, cur_opt);</span>
<span class='curline'><a href='../S/827.html#L2474'>conn</a>             2474 ext/odbc/php_odbc.c 			odbc_sql_error(*conn, SQL_NULL_HSTMT, "SQLSetConnectOption");</span>
<span class='curline'><a href='../S/827.html#L2475'>conn</a>             2475 ext/odbc/php_odbc.c 			SQLFreeConnect((*conn)-&gt;hdbc);</span>
<span class='curline'><a href='../S/827.html#L2476'>conn</a>             2476 ext/odbc/php_odbc.c 			pefree(*conn, persistent);</span>
<span class='curline'><a href='../S/827.html#L2504'>conn</a>             2504 ext/odbc/php_odbc.c 			rc = SQLDriverConnect((*conn)-&gt;hdbc, NULL, ldb, strlen(ldb), dsnbuf, sizeof(dsnbuf) - 1, &amp;dsnbuflen, SQL_DRIVER_NOPROMPT);</span>
<span class='curline'><a href='../S/827.html#L2506'>conn</a>             2506 ext/odbc/php_odbc.c 			rc = SQLConnect((*conn)-&gt;hdbc, db, SQL_NTS, uid, SQL_NTS, pwd, SQL_NTS);</span>
<span class='curline'><a href='../S/827.html#L2514'>conn</a>             2514 ext/odbc/php_odbc.c 	rc = SQLConnect((*conn)-&gt;hdbc, db, SQL_NTS, uid, SQL_NTS, pwd, SQL_NTS);</span>
<span class='curline'><a href='../S/827.html#L2519'>conn</a>             2519 ext/odbc/php_odbc.c 		odbc_sql_error(*conn, SQL_NULL_HSTMT, "SQLConnect");</span>
<span class='curline'><a href='../S/827.html#L2520'>conn</a>             2520 ext/odbc/php_odbc.c 		SQLFreeConnect((*conn)-&gt;hdbc);</span>
<span class='curline'><a href='../S/827.html#L2521'>conn</a>             2521 ext/odbc/php_odbc.c 		pefree((*conn), persistent);</span>
<span class='curline'><a href='../S/827.html#L2711'>conn</a>             2711 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L2723'>conn</a>             2723 ext/odbc/php_odbc.c 	conn = (odbc_connection *) zend_fetch_resource(&amp;pv_conn TSRMLS_CC, -1, "ODBC-Link", &amp;found_resource_type, 2, le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L2734'>conn</a>             2734 ext/odbc/php_odbc.c 			if(res-&gt;conn_ptr == conn){</span>
<span class='curline'><a href='../S/827.html#L2954'>conn</a>             2954 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L2963'>conn</a>             2963 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L2966'>conn</a>             2966 ext/odbc/php_odbc.c 		rc = SQLSetConnectOption(conn-&gt;hdbc, SQL_AUTOCOMMIT, (pv_onoff) ? SQL_AUTOCOMMIT_ON : SQL_AUTOCOMMIT_OFF);</span>
<span class='curline'><a href='../S/827.html#L2968'>conn</a>             2968 ext/odbc/php_odbc.c 			odbc_sql_error(conn, SQL_NULL_HSTMT, "Set autocommit");</span>
<span class='curline'><a href='../S/827.html#L2975'>conn</a>             2975 ext/odbc/php_odbc.c 		rc = SQLGetConnectOption(conn-&gt;hdbc, SQL_AUTOCOMMIT, (PTR)&amp;status);</span>
<span class='curline'><a href='../S/827.html#L2977'>conn</a>             2977 ext/odbc/php_odbc.c 			odbc_sql_error(conn, SQL_NULL_HSTMT, "Get commit status");</span>
<span class='curline'><a href='../S/827.html#L3004'>conn</a>             3004 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3020'>conn</a>             3020 ext/odbc/php_odbc.c 		ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_handle, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3023'>conn</a>             3023 ext/odbc/php_odbc.c 			strlcpy(ptr, conn-&gt;laststate, len+1);</span>
<span class='curline'><a href='../S/827.html#L3025'>conn</a>             3025 ext/odbc/php_odbc.c 			strlcpy(ptr, conn-&gt;lasterrormsg, len+1);</span>
<span class='curline'><a href='../S/827.html#L3065'>conn</a>             3065 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3077'>conn</a>             3077 ext/odbc/php_odbc.c 			ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_handle, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3079'>conn</a>             3079 ext/odbc/php_odbc.c 			if (conn-&gt;persistent) {</span>
<span class='curline'><a href='../S/827.html#L3083'>conn</a>             3083 ext/odbc/php_odbc.c 			rc = SQLSetConnectOption(conn-&gt;hdbc, (unsigned short) pv_opt, pv_val);</span>
<span class='curline'><a href='../S/827.html#L3085'>conn</a>             3085 ext/odbc/php_odbc.c 				odbc_sql_error(conn, SQL_NULL_HSTMT, "SetConnectOption");</span>
<span class='curline'><a href='../S/827.html#L3119'>conn</a>             3119 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3129'>conn</a>             3129 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3133'>conn</a>             3133 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3141'>conn</a>             3141 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3158'>conn</a>             3158 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLTables");</span>
<span class='curline'><a href='../S/827.html#L3174'>conn</a>             3174 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3186'>conn</a>             3186 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3196'>conn</a>             3196 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3200'>conn</a>             3200 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3208'>conn</a>             3208 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3227'>conn</a>             3227 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLColumns");</span>
<span class='curline'><a href='../S/827.html#L3243'>conn</a>             3243 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3256'>conn</a>             3256 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3266'>conn</a>             3266 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3270'>conn</a>             3270 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3278'>conn</a>             3278 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3290'>conn</a>             3290 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLColumnPrivileges");</span>
<span class='curline'><a href='../S/827.html#L3306'>conn</a>             3306 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3320'>conn</a>             3320 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3342'>conn</a>             3342 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3346'>conn</a>             3346 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3354'>conn</a>             3354 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3368'>conn</a>             3368 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLForeignKeys");</span>
<span class='curline'><a href='../S/827.html#L3384'>conn</a>             3384 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3398'>conn</a>             3398 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3408'>conn</a>             3408 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3412'>conn</a>             3412 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3420'>conn</a>             3420 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3428'>conn</a>             3428 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLGetTypeInfo");</span>
<span class='curline'><a href='../S/827.html#L3444'>conn</a>             3444 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3456'>conn</a>             3456 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3465'>conn</a>             3465 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3469'>conn</a>             3469 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3477'>conn</a>             3477 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3488'>conn</a>             3488 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLPrimaryKeys");</span>
<span class='curline'><a href='../S/827.html#L3504'>conn</a>             3504 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3517'>conn</a>             3517 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3531'>conn</a>             3531 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3535'>conn</a>             3535 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3543'>conn</a>             3543 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3555'>conn</a>             3555 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLProcedureColumns");</span>
<span class='curline'><a href='../S/827.html#L3571'>conn</a>             3571 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3585'>conn</a>             3585 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3598'>conn</a>             3598 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3602'>conn</a>             3602 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3610'>conn</a>             3610 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3621'>conn</a>             3621 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLProcedures");</span>
<span class='curline'><a href='../S/827.html#L3637'>conn</a>             3637 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3651'>conn</a>             3651 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3666'>conn</a>             3666 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3670'>conn</a>             3670 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3678'>conn</a>             3678 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3692'>conn</a>             3692 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLSpecialColumns");</span>
<span class='curline'><a href='../S/827.html#L3708'>conn</a>             3708 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3721'>conn</a>             3721 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3735'>conn</a>             3735 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3739'>conn</a>             3739 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3747'>conn</a>             3747 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3760'>conn</a>             3760 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLStatistics");</span>
<span class='curline'><a href='../S/827.html#L3776'>conn</a>             3776 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/827.html#L3789'>conn</a>             3789 ext/odbc/php_odbc.c 	odbc_connection *conn;</span>
<span class='curline'><a href='../S/827.html#L3798'>conn</a>             3798 ext/odbc/php_odbc.c 	ZEND_FETCH_RESOURCE2(conn, odbc_connection *, &amp;pv_conn, -1, "ODBC-Link", le_conn, le_pconn);</span>
<span class='curline'><a href='../S/827.html#L3802'>conn</a>             3802 ext/odbc/php_odbc.c 	rc = PHP_ODBC_SQLALLOCSTMT(conn-&gt;hdbc, &amp;(result-&gt;stmt));</span>
<span class='curline'><a href='../S/827.html#L3810'>conn</a>             3810 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLAllocStmt");</span>
<span class='curline'><a href='../S/827.html#L3821'>conn</a>             3821 ext/odbc/php_odbc.c 		odbc_sql_error(conn, SQL_NULL_HSTMT, "SQLTablePrivileges");</span>
<span class='curline'><a href='../S/827.html#L3837'>conn</a>             3837 ext/odbc/php_odbc.c 	result-&gt;conn_ptr = conn;</span>
<span class='curline'><a href='../S/829.html#L281'>conn</a>              281 ext/odbc/php_odbc_includes.h int odbc_add_conn(HashTable *list, HDBC conn);</span>
<span class='curline'><a href='../S/958.html#L140'>conn</a>              140 ext/pdo_pgsql/pgsql_driver.c 	return lo_write(self-&gt;conn, self-&gt;lfd, (char*)buf, count);</span>
<span class='curline'><a href='../S/958.html#L146'>conn</a>              146 ext/pdo_pgsql/pgsql_driver.c 	return lo_read(self-&gt;conn, self-&gt;lfd, buf, count);</span>
<span class='curline'><a href='../S/958.html#L155'>conn</a>              155 ext/pdo_pgsql/pgsql_driver.c 		lo_close(self-&gt;conn, self-&gt;lfd);</span>
<span class='curline'><a href='../S/958.html#L171'>conn</a>              171 ext/pdo_pgsql/pgsql_driver.c 	int pos = lo_lseek(self-&gt;conn, self-&gt;lfd, offset, whence);</span>
<span class='curline'><a href='../S/958.html#L197'>conn</a>              197 ext/pdo_pgsql/pgsql_driver.c 	self-&gt;conn = H-&gt;server;</span>
<span class='curline'><a href='../S/961.html#L99'>conn</a>               99 ext/pdo_pgsql/php_pdo_pgsql_int.h 	PGconn *conn;</span>
<span class='curline'><a href='../S/967.html#L786'>conn</a>              786 ext/pgsql/pgsql.c #define PQescapeStringConn(conn, to, from, len, error) PQescapeString(to, from, len)</span>
<span class='curline'><a href='../S/967.html#L790'>conn</a>              790 ext/pgsql/pgsql.c #define PGSQLescapeLiteral(conn, str, len) PQescapeLiteral(conn, str, len)</span>
<span class='curline'><a href='../S/967.html#L791'>conn</a>              791 ext/pgsql/pgsql.c #define PGSQLescapeIdentifier(conn, str, len) PQescapeIdentifier(conn, str, len)</span>
<span class='curline'><a href='../S/967.html#L794'>conn</a>              794 ext/pgsql/pgsql.c #define PGSQLescapeLiteral(conn, str, len) php_pgsql_PQescapeInternal(conn, str, len, 1, 0)</span>
<span class='curline'><a href='../S/967.html#L795'>conn</a>              795 ext/pgsql/pgsql.c #define PGSQLescapeLiteral2(conn, str, len) php_pgsql_PQescapeInternal(conn, str, len, 1, 1)</span>
<span class='curline'><a href='../S/967.html#L796'>conn</a>              796 ext/pgsql/pgsql.c #define PGSQLescapeIdentifier(conn, str, len) php_pgsql_PQescapeInternal(conn, str, len, 0, 0)</span>
<span class='curline'><a href='../S/967.html#L800'>conn</a>              800 ext/pgsql/pgsql.c static char* php_pgsql_PQescapeInternal(PGconn *conn, const char *str, size_t len, int escape_literal, int safe) {</span>
<span class='curline'><a href='../S/967.html#L804'>conn</a>              804 ext/pgsql/pgsql.c 	if (!conn) {</span>
<span class='curline'><a href='../S/967.html#L819'>conn</a>              819 ext/pgsql/pgsql.c 			new_len = PQescapeStringConn(conn, tmp, str, len, NULL);</span>
<span class='curline'><a href='../S/967.html#L828'>conn</a>              828 ext/pgsql/pgsql.c 			encoding = (char *) pg_encoding_to_char(PQclientEncoding(conn));</span>
<span class='curline'><a href='../S/967.html#L1887'>conn</a>             1887 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L2027'>conn</a>             2027 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L2110'>conn</a>             2110 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L2234'>conn</a>             2234 ext/pgsql/pgsql.c 				pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L2459'>conn</a>             2459 ext/pgsql/pgsql.c 		if ((tmp_res = PQexec(pg_result-&gt;conn, querystr.c)) == NULL || PQresultStatus(tmp_res) != PGRES_TUPLES_OK) {</span>
<span class='curline'><a href='../S/967.html#L2529'>conn</a>             2529 ext/pgsql/pgsql.c 			Z_STRVAL_P(return_value) = get_field_name(pg_result-&gt;conn, PQftype(pgsql_result, field), &amp;EG(regular_list) TSRMLS_CC);</span>
<span class='curline'><a href='../S/967.html#L3419'>conn</a>             3419 ext/pgsql/pgsql.c 					pgsql_lofp-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L3431'>conn</a>             3431 ext/pgsql/pgsql.c 		pgsql_lofp-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L3451'>conn</a>             3451 ext/pgsql/pgsql.c 	if (lo_close((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd) &lt; 0) {</span>
<span class='curline'><a href='../S/967.html#L3486'>conn</a>             3486 ext/pgsql/pgsql.c 	if ((nbytes = lo_read((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, buf, buf_len))&lt;0) {</span>
<span class='curline'><a href='../S/967.html#L3529'>conn</a>             3529 ext/pgsql/pgsql.c 	if ((nbytes = lo_write((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, str, len)) == -1) {</span>
<span class='curline'><a href='../S/967.html#L3554'>conn</a>             3554 ext/pgsql/pgsql.c 	while ((nbytes = lo_read((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, buf, PGSQL_LO_READ_BUF_SIZE))&gt;0) {</span>
<span class='curline'><a href='../S/967.html#L3761'>conn</a>             3761 ext/pgsql/pgsql.c 	if (PQserverVersion((PGconn *)pgsql-&gt;conn) &gt;= 90300) {</span>
<span class='curline'><a href='../S/967.html#L3762'>conn</a>             3762 ext/pgsql/pgsql.c 		result = lo_lseek64((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, offset, whence);</span>
<span class='curline'><a href='../S/967.html#L3764'>conn</a>             3764 ext/pgsql/pgsql.c 		result = lo_lseek((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, offset, whence);</span>
<span class='curline'><a href='../S/967.html#L3767'>conn</a>             3767 ext/pgsql/pgsql.c 	result = lo_lseek((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, offset, whence);</span>
<span class='curline'><a href='../S/967.html#L3793'>conn</a>             3793 ext/pgsql/pgsql.c 	if (PQserverVersion((PGconn *)pgsql-&gt;conn) &gt;= 90300) {</span>
<span class='curline'><a href='../S/967.html#L3794'>conn</a>             3794 ext/pgsql/pgsql.c 		offset = lo_tell64((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd);</span>
<span class='curline'><a href='../S/967.html#L3796'>conn</a>             3796 ext/pgsql/pgsql.c 		offset = lo_tell((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd);</span>
<span class='curline'><a href='../S/967.html#L3799'>conn</a>             3799 ext/pgsql/pgsql.c 	offset = lo_tell((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd);</span>
<span class='curline'><a href='../S/967.html#L3823'>conn</a>             3823 ext/pgsql/pgsql.c 	if (PQserverVersion((PGconn *)pgsql-&gt;conn) &gt;= 90300) {</span>
<span class='curline'><a href='../S/967.html#L3824'>conn</a>             3824 ext/pgsql/pgsql.c 		result = lo_truncate64((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, size);</span>
<span class='curline'><a href='../S/967.html#L3826'>conn</a>             3826 ext/pgsql/pgsql.c 		result = lo_truncate((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, size);</span>
<span class='curline'><a href='../S/967.html#L3829'>conn</a>             3829 ext/pgsql/pgsql.c 	result = lo_truncate((PGconn *)pgsql-&gt;conn, pgsql-&gt;lofd, size);</span>
<span class='curline'><a href='../S/967.html#L5209'>conn</a>             5209 ext/pgsql/pgsql.c 	pg_result-&gt;conn = pgsql;</span>
<span class='curline'><a href='../S/967.html#L6726'>conn</a>             6726 ext/pgsql/pgsql.c 					pgsql_handle-&gt;conn = pg_link;</span>
<span class='curline'><a href='../S/968.html#L284'>conn</a>              284 ext/pgsql/php_pgsql.h 	PGconn *conn;</span>
<span class='curline'><a href='../S/968.html#L289'>conn</a>              289 ext/pgsql/php_pgsql.h 	PGconn *conn;</span>
<span class='curline'><a href='../S/1426.html#L44'>conn</a>               44 netware/start.c 	int		(*readRoutineP)( int conn, void *fileHandle, size_t offset,</span>
<span class='curline'><a href='../S/1427.html#L70'>conn</a>               70 sapi/aolserver/aolserver.c 	Ns_Conn *conn;</span>
<span class='curline'><a href='../S/1427.html#L95'>conn</a>               95 sapi/aolserver/aolserver.c 		n = Ns_ConnWrite(NSG(conn), (void *) str, str_length);</span>
<span class='curline'><a href='../S/1427.html#L129'>conn</a>              129 sapi/aolserver/aolserver.c 			Ns_ConnSetTypeHeader(NSG(conn), header_content);</span>
<span class='curline'><a href='../S/1427.html#L131'>conn</a>              131 sapi/aolserver/aolserver.c 			Ns_ConnSetHeaders(NSG(conn), header_name, header_content);</span>
<span class='curline'><a href='../S/1427.html#L151'>conn</a>              151 sapi/aolserver/aolserver.c 		Ns_ConnSetRequiredHeaders(NSG(conn), "text/html", 0);</span>
<span class='curline'><a href='../S/1427.html#L154'>conn</a>              154 sapi/aolserver/aolserver.c 	Ns_ConnFlushHeaders(NSG(conn), SG(sapi_headers).http_response_code);</span>
<span class='curline'><a href='../S/1427.html#L172'>conn</a>              172 sapi/aolserver/aolserver.c 	total_read = Ns_ConnRead(NSG(conn), buf, max_read);</span>
<span class='curline'><a href='../S/1427.html#L193'>conn</a>              193 sapi/aolserver/aolserver.c 	i = Ns_SetIFind(NSG(conn-&gt;headers), "cookie");</span>
<span class='curline'><a href='../S/1427.html#L195'>conn</a>              195 sapi/aolserver/aolserver.c 		http_cookie = Ns_SetValue(NSG(conn-&gt;headers), i);</span>
<span class='curline'><a href='../S/1427.html#L229'>conn</a>              229 sapi/aolserver/aolserver.c 	php_info_print_table_row(2, "HTTP Request", NSG(conn)-&gt;request-&gt;line);</span>
<span class='curline'><a href='../S/1427.html#L230'>conn</a>              230 sapi/aolserver/aolserver.c 	for (i = 0; i &lt; Ns_SetSize(NSG(conn)-&gt;headers); i++) {</span>
<span class='curline'><a href='../S/1427.html#L231'>conn</a>              231 sapi/aolserver/aolserver.c 		php_info_print_table_row(2, Ns_SetKey(NSG(conn)-&gt;headers, i), Ns_SetValue(NSG(conn)-&gt;headers, i));</span>
<span class='curline'><a href='../S/1427.html#L235'>conn</a>              235 sapi/aolserver/aolserver.c 	for (i = 0; i &lt; Ns_SetSize(NSG(conn)-&gt;outputheaders); i++) {</span>
<span class='curline'><a href='../S/1427.html#L236'>conn</a>              236 sapi/aolserver/aolserver.c 		php_info_print_table_row(2, Ns_SetKey(NSG(conn)-&gt;outputheaders, i), Ns_SetValue(NSG(conn)-&gt;outputheaders, i));</span>
<span class='curline'><a href='../S/1427.html#L272'>conn</a>              272 sapi/aolserver/aolserver.c 	for (i = 0; i &lt; Ns_SetSize(NSG(conn-&gt;headers)); i++) {</span>
<span class='curline'><a href='../S/1427.html#L273'>conn</a>              273 sapi/aolserver/aolserver.c 		char *key = Ns_SetKey(NSG(conn-&gt;headers), i);</span>
<span class='curline'><a href='../S/1427.html#L274'>conn</a>              274 sapi/aolserver/aolserver.c 		char *value = Ns_SetValue(NSG(conn-&gt;headers), i);</span>
<span class='curline'><a href='../S/1427.html#L310'>conn</a>              310 sapi/aolserver/aolserver.c 	for(i = 0; i &lt; Ns_SetSize(NSG(conn-&gt;headers)); i++) {</span>
<span class='curline'><a href='../S/1427.html#L311'>conn</a>              311 sapi/aolserver/aolserver.c 		char *key = Ns_SetKey(NSG(conn-&gt;headers), i);</span>
<span class='curline'><a href='../S/1427.html#L312'>conn</a>              312 sapi/aolserver/aolserver.c 		char *value = Ns_SetValue(NSG(conn-&gt;headers), i);</span>
<span class='curline'><a href='../S/1427.html#L331'>conn</a>              331 sapi/aolserver/aolserver.c 	snprintf(buf, NS_BUF_SIZE, "HTTP/%1.1f", NSG(conn)-&gt;request-&gt;version);</span>
<span class='curline'><a href='../S/1427.html#L334'>conn</a>              334 sapi/aolserver/aolserver.c 	ADD_STRINGX("REQUEST_METHOD", NSG(conn)-&gt;request-&gt;method);</span>
<span class='curline'><a href='../S/1427.html#L336'>conn</a>              336 sapi/aolserver/aolserver.c 	if(NSG(conn)-&gt;request-&gt;query)</span>
<span class='curline'><a href='../S/1427.html#L337'>conn</a>              337 sapi/aolserver/aolserver.c 		ADD_STRINGX("QUERY_STRING", NSG(conn)-&gt;request-&gt;query);</span>
<span class='curline'><a href='../S/1427.html#L341'>conn</a>              341 sapi/aolserver/aolserver.c 	ADD_STRINGX("REMOTE_ADDR", Ns_ConnPeer(NSG(conn)));</span>
<span class='curline'><a href='../S/1427.html#L343'>conn</a>              343 sapi/aolserver/aolserver.c 	snprintf(buf, NS_BUF_SIZE, "%d", Ns_ConnPeerPort(NSG(conn)));</span>
<span class='curline'><a href='../S/1427.html#L346'>conn</a>              346 sapi/aolserver/aolserver.c 	snprintf(buf, NS_BUF_SIZE, "%d", Ns_ConnPort(NSG(conn)));</span>
<span class='curline'><a href='../S/1427.html#L349'>conn</a>              349 sapi/aolserver/aolserver.c 	tmp = Ns_ConnHost(NSG(conn));</span>
<span class='curline'><a href='../S/1427.html#L439'>conn</a>              439 sapi/aolserver/aolserver.c 	server = Ns_ConnServer(NSG(conn));</span>
<span class='curline'><a href='../S/1427.html#L442'>conn</a>              442 sapi/aolserver/aolserver.c 	SG(request_info).query_string = safe_strdup(NSG(conn-&gt;request-&gt;query));</span>
<span class='curline'><a href='../S/1427.html#L445'>conn</a>              445 sapi/aolserver/aolserver.c 	Ns_UrlToFile(&amp;ds, server, NSG(conn-&gt;request-&gt;url));</span>
<span class='curline'><a href='../S/1427.html#L452'>conn</a>              452 sapi/aolserver/aolserver.c 	SG(request_info).request_method = NSG(conn)-&gt;request-&gt;method;</span>
<span class='curline'><a href='../S/1427.html#L453'>conn</a>              453 sapi/aolserver/aolserver.c 	if(NSG(conn)-&gt;request-&gt;version &gt; 1.0) SG(request_info).proto_num = 1001;</span>
<span class='curline'><a href='../S/1427.html#L455'>conn</a>              455 sapi/aolserver/aolserver.c 	SG(request_info).content_length = Ns_ConnContentLength(NSG(conn));</span>
<span class='curline'><a href='../S/1427.html#L456'>conn</a>              456 sapi/aolserver/aolserver.c 	index = Ns_SetIFind(NSG(conn)-&gt;headers, "content-type");</span>
<span class='curline'><a href='../S/1427.html#L458'>conn</a>              458 sapi/aolserver/aolserver.c 		Ns_SetValue(NSG(conn)-&gt;headers, index);</span>
<span class='curline'><a href='../S/1427.html#L461'>conn</a>              461 sapi/aolserver/aolserver.c 	tmp = Ns_ConnAuthUser(NSG(conn));</span>
<span class='curline'><a href='../S/1427.html#L466'>conn</a>              466 sapi/aolserver/aolserver.c 	tmp = Ns_ConnAuthPasswd(NSG(conn));</span>
<span class='curline'><a href='../S/1427.html#L494'>conn</a>              494 sapi/aolserver/aolserver.c php_ns_request_handler(void *context, Ns_Conn *conn)</span>
<span class='curline'><a href='../S/1427.html#L499'>conn</a>              499 sapi/aolserver/aolserver.c 	NSG(conn) = conn;</span>
<span class='curline'><a href='../S/1583.html#L203'>conn</a>              203 sapi/phttpd/phttpd.c     server = Ns_ConnServer(NSG(conn));</span>
<span class='curline'><a href='../S/1583.html#L206'>conn</a>              206 sapi/phttpd/phttpd.c     Ns_UrlToFile(&amp;ds, server, NSG(conn-&gt;request-&gt;url));</span>
<span class='curline'><a href='../S/1583.html#L213'>conn</a>              213 sapi/phttpd/phttpd.c     SG(request_info).content_length = Ns_ConnContentLength(NSG(conn));</span>
<span class='curline'><a href='../S/1583.html#L214'>conn</a>              214 sapi/phttpd/phttpd.c     index = Ns_SetIFind(NSG(conn)-&gt;headers, "content-type");</span>
<span class='curline'><a href='../S/1583.html#L216'>conn</a>              216 sapi/phttpd/phttpd.c         Ns_SetValue(NSG(conn)-&gt;headers, index);</span>
<span class='curline'><a href='../S/1583.html#L218'>conn</a>              218 sapi/phttpd/phttpd.c     tmp = Ns_ConnAuthUser(NSG(conn));</span>
<span class='curline'><a href='../S/1583.html#L224'>conn</a>              224 sapi/phttpd/phttpd.c     tmp = Ns_ConnAuthPasswd(NSG(conn));</span>
<span class='curline'><a href='../S/1591.html#L26'>conn</a>               26 sapi/webjames/php_webjames.h void webjames_php_request(struct connection *conn);</span>
<span class='curline'><a href='../S/1592.html#L33'>conn</a>               33 sapi/webjames/webjames.c 	struct connection *conn; /*structure holding all the details of the current request*/</span>
<span class='curline'><a href='../S/1592.html#L49'>conn</a>               49 sapi/webjames/webjames.c 		bytes = webjames_writebuffer(WG(conn),str,str_length);</span>
<span class='curline'><a href='../S/1592.html#L69'>conn</a>               69 sapi/webjames/webjames.c 	if (WG(conn)-&gt;flags.outputheaders) {</span>
<span class='curline'><a href='../S/1592.html#L72'>conn</a>               72 sapi/webjames/webjames.c 			bytes = webjames_writebuffer(WG(conn), header, len);</span>
<span class='curline'><a href='../S/1592.html#L83'>conn</a>               83 sapi/webjames/webjames.c 		webjames_writestring(WG(conn), "\r\n");</span>
<span class='curline'><a href='../S/1592.html#L90'>conn</a>               90 sapi/webjames/webjames.c 	if (WG(conn)-&gt;body==NULL) return 0;</span>
<span class='curline'><a href='../S/1592.html#L91'>conn</a>               91 sapi/webjames/webjames.c 	if (count_bytes+WG(bodyread)&gt;WG(conn)-&gt;bodysize) count_bytes=WG(conn)-&gt;bodysize-WG(bodyread);</span>
<span class='curline'><a href='../S/1592.html#L92'>conn</a>               92 sapi/webjames/webjames.c 	memcpy(buffer, WG(conn)-&gt;body+WG(bodyread), count_bytes);</span>
<span class='curline'><a href='../S/1592.html#L99'>conn</a>               99 sapi/webjames/webjames.c 	return WG(conn)-&gt;cookie;</span>
<span class='curline'><a href='../S/1592.html#L107'>conn</a>              107 sapi/webjames/webjames.c 	snprintf(buf, BUF_SIZE, "%d", WG(conn)-&gt;field);\</span>
<span class='curline'><a href='../S/1592.html#L112'>conn</a>              112 sapi/webjames/webjames.c 	if (WG(conn)-&gt;field) { \</span>
<span class='curline'><a href='../S/1592.html#L113'>conn</a>              113 sapi/webjames/webjames.c 		php_register_variable(name, WG(conn)-&gt;field, track_vars_array TSRMLS_CC); \</span>
<span class='curline'><a href='../S/1592.html#L130'>conn</a>              130 sapi/webjames/webjames.c 	docroot = __unixify(WG(conn)-&gt;homedir,0,NULL,1024,0);</span>
<span class='curline'><a href='../S/1592.html#L141'>conn</a>              141 sapi/webjames/webjames.c 	snprintf(buf, BUF_SIZE, "%d.%d.%d.%d", WG(conn)-&gt;ipaddr[0], WG(conn)-&gt;ipaddr[1], WG(conn)-&gt;ipaddr[2], WG(conn)-&gt;ipaddr[3]);</span>
<span class='curline'><a href='../S/1592.html#L143'>conn</a>              143 sapi/webjames/webjames.c 	if (WG(conn)-&gt;dnsstatus == DNS_OK) ADD_FIELD("REMOTE_HOST", host);</span>
<span class='curline'><a href='../S/1592.html#L145'>conn</a>              145 sapi/webjames/webjames.c 	if ((WG(conn)-&gt;method == METHOD_POST) || (WG(conn)-&gt;method == METHOD_PUT)) {</span>
<span class='curline'><a href='../S/1592.html#L150'>conn</a>              150 sapi/webjames/webjames.c 	if ((WG(conn)-&gt;method == METHOD_PUT) || (WG(conn)-&gt;method == METHOD_DELETE)) ADD_FIELD("ENTITY_PATH", requesturi);</span>
<span class='curline'><a href='../S/1592.html#L152'>conn</a>              152 sapi/webjames/webjames.c 	if (WG(conn)-&gt;pwd) {</span>
<span class='curline'><a href='../S/1592.html#L174'>conn</a>              174 sapi/webjames/webjames.c 	path = __unixify(WG(conn)-&gt;filename,0,NULL,1024,0);</span>
<span class='curline'><a href='../S/1592.html#L177'>conn</a>              177 sapi/webjames/webjames.c 	SG(request_info).query_string = WG(conn)-&gt;args;</span>
<span class='curline'><a href='../S/1592.html#L178'>conn</a>              178 sapi/webjames/webjames.c 	SG(request_info).request_uri = WG(conn)-&gt;requesturi;</span>
<span class='curline'><a href='../S/1592.html#L179'>conn</a>              179 sapi/webjames/webjames.c 	SG(request_info).request_method = WG(conn)-&gt;methodstr;</span>
<span class='curline'><a href='../S/1592.html#L180'>conn</a>              180 sapi/webjames/webjames.c 	if (WG(conn)-&gt;method==METHOD_HEAD) {</span>
<span class='curline'><a href='../S/1592.html#L186'>conn</a>              186 sapi/webjames/webjames.c 	SG(request_info).content_type = WG(conn)-&gt;type;</span>
<span class='curline'><a href='../S/1592.html#L187'>conn</a>              187 sapi/webjames/webjames.c 	SG(request_info).content_length = WG(conn)-&gt;bodysize;</span>
<span class='curline'><a href='../S/1592.html#L191'>conn</a>              191 sapi/webjames/webjames.c 	if (WG(conn)-&gt;authorization) {</span>
<span class='curline'><a href='../S/1592.html#L192'>conn</a>              192 sapi/webjames/webjames.c 		char *colon=strchr(WG(conn)-&gt;authorization,':');</span>
<span class='curline'><a href='../S/1592.html#L194'>conn</a>              194 sapi/webjames/webjames.c 			SG(request_info).auth_user = emalloc(colon-WG(conn)-&gt;authorization+1);</span>
<span class='curline'><a href='../S/1592.html#L196'>conn</a>              196 sapi/webjames/webjames.c 				memcpy(SG(request_info).auth_user,WG(conn)-&gt;authorization,colon-WG(conn)-&gt;authorization);</span>
<span class='curline'><a href='../S/1592.html#L197'>conn</a>              197 sapi/webjames/webjames.c 				SG(request_info).auth_user[colon-WG(conn)-&gt;authorization]='\0';</span>
<span class='curline'><a href='../S/1592.html#L219'>conn</a>              219 sapi/webjames/webjames.c static void webjames_php_close(struct connection *conn, int force)</span>
<span class='curline'><a href='../S/1592.html#L225'>conn</a>              225 sapi/webjames/webjames.c 	WG(oldclose)(conn,force);</span>
<span class='curline'><a href='../S/1592.html#L228'>conn</a>              228 sapi/webjames/webjames.c void webjames_php_request(struct connection *conn)</span>
<span class='curline'><a href='../S/1592.html#L233'>conn</a>              233 sapi/webjames/webjames.c 	WG(conn) = conn;</span>
<span class='curline'><a href='../S/1592.html#L235'>conn</a>              235 sapi/webjames/webjames.c 	WG(oldclose) = conn-&gt;close;</span>
<span class='curline'><a href='../S/1592.html#L236'>conn</a>              236 sapi/webjames/webjames.c 	conn-&gt;close=webjames_php_close;</span>
<span class='curline'><a href='../S/1592.html#L240'>conn</a>              240 sapi/webjames/webjames.c 	WG(oldclose)(WG(conn), 0);</span>
</pre>
</body>
</html>
