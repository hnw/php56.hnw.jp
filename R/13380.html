<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ZCSG</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/863.html#L120'>ZCSG</a>              120 ext/opcache/ZendAccelerator.c # define INCREMENT(v) InterlockedIncrement(&amp;ZCSG(v))</span>
<span class='curline'><a href='../S/863.html#L121'>ZCSG</a>              121 ext/opcache/ZendAccelerator.c # define DECREMENT(v) InterlockedDecrement(&amp;ZCSG(v))</span>
<span class='curline'><a href='../S/863.html#L122'>ZCSG</a>              122 ext/opcache/ZendAccelerator.c # define LOCKVAL(v)   (ZCSG(v))</span>
<span class='curline'><a href='../S/863.html#L214'>ZCSG</a>              214 ext/opcache/ZendAccelerator.c 			    (ZCG(counted) || ZCSG(accelerator_enabled))) {</span>
<span class='curline'><a href='../S/863.html#L216'>ZCSG</a>              216 ext/opcache/ZendAccelerator.c 				ZCG(include_path_key) = zend_accel_hash_find(&amp;ZCSG(include_paths), ZCG(include_path), ZCG(include_path_len) + 1);</span>
<span class='curline'><a href='../S/863.html#L218'>ZCSG</a>              218 ext/opcache/ZendAccelerator.c 			        !zend_accel_hash_is_full(&amp;ZCSG(include_paths))) {</span>
<span class='curline'><a href='../S/863.html#L222'>ZCSG</a>              222 ext/opcache/ZendAccelerator.c 					ZCG(include_path_key) = zend_accel_hash_find(&amp;ZCSG(include_paths), ZCG(include_path), ZCG(include_path_len) + 1);</span>
<span class='curline'><a href='../S/863.html#L224'>ZCSG</a>              224 ext/opcache/ZendAccelerator.c 					    !zend_accel_hash_is_full(&amp;ZCSG(include_paths))) {</span>
<span class='curline'><a href='../S/863.html#L230'>ZCSG</a>              230 ext/opcache/ZendAccelerator.c 							key[ZCG(include_path_len) + 1] = 'A' + ZCSG(include_paths).num_entries;</span>
<span class='curline'><a href='../S/863.html#L232'>ZCSG</a>              232 ext/opcache/ZendAccelerator.c 							zend_accel_hash_update(&amp;ZCSG(include_paths), key, ZCG(include_path_len) + 1, 0, ZCG(include_path_key));</span>
<span class='curline'><a href='../S/863.html#L282'>ZCSG</a>              282 ext/opcache/ZendAccelerator.c 	for (i = 0; i &lt; ZCSG(interned_strings).nTableSize; i++) {</span>
<span class='curline'><a href='../S/863.html#L283'>ZCSG</a>              283 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).arBuckets[i] = ZCSG(interned_strings_saved_state).arBuckets[i];</span>
<span class='curline'><a href='../S/863.html#L284'>ZCSG</a>              284 ext/opcache/ZendAccelerator.c 		if (ZCSG(interned_strings).arBuckets[i]) {</span>
<span class='curline'><a href='../S/863.html#L285'>ZCSG</a>              285 ext/opcache/ZendAccelerator.c 			ZCSG(interned_strings).arBuckets[i]-&gt;pLast = NULL;</span>
<span class='curline'><a href='../S/863.html#L288'>ZCSG</a>              288 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings).pListHead = ZCSG(interned_strings_saved_state).pListHead;</span>
<span class='curline'><a href='../S/863.html#L289'>ZCSG</a>              289 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings).pListTail = ZCSG(interned_strings_saved_state).pListTail;</span>
<span class='curline'><a href='../S/863.html#L290'>ZCSG</a>              290 ext/opcache/ZendAccelerator.c 	if (ZCSG(interned_strings).pListHead) {</span>
<span class='curline'><a href='../S/863.html#L291'>ZCSG</a>              291 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).pListHead-&gt;pListLast = NULL;</span>
<span class='curline'><a href='../S/863.html#L293'>ZCSG</a>              293 ext/opcache/ZendAccelerator.c 	if (ZCSG(interned_strings).pListTail) {</span>
<span class='curline'><a href='../S/863.html#L294'>ZCSG</a>              294 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).pListTail-&gt;pListNext = NULL;</span>
<span class='curline'><a href='../S/863.html#L296'>ZCSG</a>              296 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_top) = ZCSG(interned_strings_saved_state).top;</span>
<span class='curline'><a href='../S/863.html#L301'>ZCSG</a>              301 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_saved_state).arBuckets = (Bucket**)zend_shared_alloc(ZCSG(interned_strings).nTableSize * sizeof(Bucket *));</span>
<span class='curline'><a href='../S/863.html#L302'>ZCSG</a>              302 ext/opcache/ZendAccelerator.c 	if (!ZCSG(interned_strings_saved_state).arBuckets) {</span>
<span class='curline'><a href='../S/863.html#L305'>ZCSG</a>              305 ext/opcache/ZendAccelerator.c 	memcpy(ZCSG(interned_strings_saved_state).arBuckets, ZCSG(interned_strings).arBuckets, ZCSG(interned_strings).nTableSize * sizeof(Bucket *));</span>
<span class='curline'><a href='../S/863.html#L306'>ZCSG</a>              306 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_saved_state).pListHead = ZCSG(interned_strings).pListHead;</span>
<span class='curline'><a href='../S/863.html#L307'>ZCSG</a>              307 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_saved_state).pListTail = ZCSG(interned_strings).pListTail;</span>
<span class='curline'><a href='../S/863.html#L308'>ZCSG</a>              308 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_saved_state).top = ZCSG(interned_strings_top);</span>
<span class='curline'><a href='../S/863.html#L320'>ZCSG</a>              320 ext/opcache/ZendAccelerator.c 	if (arKey &gt;= ZCSG(interned_strings_start) &amp;&amp; arKey &lt; ZCSG(interned_strings_end)) {</span>
<span class='curline'><a href='../S/863.html#L326'>ZCSG</a>              326 ext/opcache/ZendAccelerator.c 	nIndex = h &amp; ZCSG(interned_strings).nTableMask;</span>
<span class='curline'><a href='../S/863.html#L329'>ZCSG</a>              329 ext/opcache/ZendAccelerator.c 	p = ZCSG(interned_strings).arBuckets[nIndex];</span>
<span class='curline'><a href='../S/863.html#L342'>ZCSG</a>              342 ext/opcache/ZendAccelerator.c 	if (ZCSG(interned_strings_top) + ZEND_MM_ALIGNED_SIZE(sizeof(Bucket) + nKeyLength) &gt;=</span>
<span class='curline'><a href='../S/863.html#L343'>ZCSG</a>              343 ext/opcache/ZendAccelerator.c 	    ZCSG(interned_strings_end)) {</span>
<span class='curline'><a href='../S/863.html#L350'>ZCSG</a>              350 ext/opcache/ZendAccelerator.c 	p = (Bucket *) ZCSG(interned_strings_top);</span>
<span class='curline'><a href='../S/863.html#L351'>ZCSG</a>              351 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_top) += ZEND_MM_ALIGNED_SIZE(sizeof(Bucket) + nKeyLength);</span>
<span class='curline'><a href='../S/863.html#L360'>ZCSG</a>              360 ext/opcache/ZendAccelerator.c 	p-&gt;pNext = ZCSG(interned_strings).arBuckets[nIndex];</span>
<span class='curline'><a href='../S/863.html#L365'>ZCSG</a>              365 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings).arBuckets[nIndex] = p;</span>
<span class='curline'><a href='../S/863.html#L367'>ZCSG</a>              367 ext/opcache/ZendAccelerator.c 	p-&gt;pListLast = ZCSG(interned_strings).pListTail;</span>
<span class='curline'><a href='../S/863.html#L368'>ZCSG</a>              368 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings).pListTail = p;</span>
<span class='curline'><a href='../S/863.html#L373'>ZCSG</a>              373 ext/opcache/ZendAccelerator.c 	if (!ZCSG(interned_strings).pListHead) {</span>
<span class='curline'><a href='../S/863.html#L374'>ZCSG</a>              374 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).pListHead = p;</span>
<span class='curline'><a href='../S/863.html#L377'>ZCSG</a>              377 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings).nNumOfElements++;</span>
<span class='curline'><a href='../S/863.html#L491'>ZCSG</a>              491 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 1;</span>
<span class='curline'><a href='../S/863.html#L497'>ZCSG</a>              497 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/863.html#L502'>ZCSG</a>              502 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/863.html#L511'>ZCSG</a>              511 ext/opcache/ZendAccelerator.c 	if (ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/863.html#L520'>ZCSG</a>              520 ext/opcache/ZendAccelerator.c 			ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/863.html#L582'>ZCSG</a>              582 ext/opcache/ZendAccelerator.c 	ZCSG(force_restart_time) = 0;</span>
<span class='curline'><a href='../S/863.html#L599'>ZCSG</a>              599 ext/opcache/ZendAccelerator.c 			ZCSG(force_restart_time) = time(NULL); /* restore forced restart request */</span>
<span class='curline'><a href='../S/863.html#L638'>ZCSG</a>              638 ext/opcache/ZendAccelerator.c 		&amp;&amp; ZCSG(force_restart_time)</span>
<span class='curline'><a href='../S/863.html#L639'>ZCSG</a>              639 ext/opcache/ZendAccelerator.c 		&amp;&amp; time(NULL) &gt;= ZCSG(force_restart_time)) {</span>
<span class='curline'><a href='../S/863.html#L965'>ZCSG</a>              965 ext/opcache/ZendAccelerator.c 			    (ZCG(counted) || ZCSG(accelerator_enabled)) &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L966'>ZCSG</a>              966 ext/opcache/ZendAccelerator.c 			    !zend_accel_hash_find(&amp;ZCSG(include_paths), ZCG(include_path), ZCG(include_path_len) + 1) &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L967'>ZCSG</a>              967 ext/opcache/ZendAccelerator.c 			    !zend_accel_hash_is_full(&amp;ZCSG(include_paths))) {</span>
<span class='curline'><a href='../S/863.html#L972'>ZCSG</a>              972 ext/opcache/ZendAccelerator.c 				ZCG(include_path_key) = zend_accel_hash_find(&amp;ZCSG(include_paths), ZCG(include_path), ZCG(include_path_len) + 1);</span>
<span class='curline'><a href='../S/863.html#L976'>ZCSG</a>              976 ext/opcache/ZendAccelerator.c 				} else if (!zend_accel_hash_is_full(&amp;ZCSG(include_paths))) {</span>
<span class='curline'><a href='../S/863.html#L982'>ZCSG</a>              982 ext/opcache/ZendAccelerator.c 						key[ZCG(include_path_len) + 1] = 'A' + ZCSG(include_paths).num_entries;</span>
<span class='curline'><a href='../S/863.html#L984'>ZCSG</a>              984 ext/opcache/ZendAccelerator.c 						zend_accel_hash_update(&amp;ZCSG(include_paths), key, ZCG(include_path_len) + 1, 0, ZCG(include_path_key));</span>
<span class='curline'><a href='../S/863.html#L1065'>ZCSG</a>             1065 ext/opcache/ZendAccelerator.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled) || accelerator_shm_read_lock(TSRMLS_C) != SUCCESS) {</span>
<span class='curline'><a href='../S/863.html#L1079'>ZCSG</a>             1079 ext/opcache/ZendAccelerator.c 	persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), realpath, strlen(realpath) + 1);</span>
<span class='curline'><a href='../S/863.html#L1098'>ZCSG</a>             1098 ext/opcache/ZendAccelerator.c 						zend_accel_hash_is_full(&amp;ZCSG(hash)) ? ACCEL_RESTART_HASH : ACCEL_RESTART_OOM;</span>
<span class='curline'><a href='../S/863.html#L1116'>ZCSG</a>             1116 ext/opcache/ZendAccelerator.c 	if (!zend_accel_hash_find(&amp;ZCSG(hash), key, key_length + 1)) {</span>
<span class='curline'><a href='../S/863.html#L1117'>ZCSG</a>             1117 ext/opcache/ZendAccelerator.c 		if (zend_accel_hash_is_full(&amp;ZCSG(hash))) {</span>
<span class='curline'><a href='../S/863.html#L1125'>ZCSG</a>             1125 ext/opcache/ZendAccelerator.c 				if (zend_accel_hash_update(&amp;ZCSG(hash), new_key, key_length + 1, 1, bucket)) {</span>
<span class='curline'><a href='../S/863.html#L1156'>ZCSG</a>             1156 ext/opcache/ZendAccelerator.c 	if (zend_accel_hash_is_full(&amp;ZCSG(hash))) {</span>
<span class='curline'><a href='../S/863.html#L1167'>ZCSG</a>             1167 ext/opcache/ZendAccelerator.c 	bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), new_persistent_script-&gt;full_path, new_persistent_script-&gt;full_path_len + 1);</span>
<span class='curline'><a href='../S/863.html#L1214'>ZCSG</a>             1214 ext/opcache/ZendAccelerator.c 	bucket = zend_accel_hash_update(&amp;ZCSG(hash), new_persistent_script-&gt;full_path, new_persistent_script-&gt;full_path_len + 1, 0, new_persistent_script);</span>
<span class='curline'><a href='../S/863.html#L1223'>ZCSG</a>             1223 ext/opcache/ZendAccelerator.c 			if (zend_accel_hash_update(&amp;ZCSG(hash), key, key_length + 1, 1, bucket)) {</span>
<span class='curline'><a href='../S/863.html#L1334'>ZCSG</a>             1334 ext/opcache/ZendAccelerator.c 		ZCSG(blacklist_misses)++;</span>
<span class='curline'><a href='../S/863.html#L1365'>ZCSG</a>             1365 ext/opcache/ZendAccelerator.c 			ZCSG(blacklist_misses)++;</span>
<span class='curline'><a href='../S/863.html#L1474'>ZCSG</a>             1474 ext/opcache/ZendAccelerator.c 		(!ZCG(counted) &amp;&amp; !ZCSG(accelerator_enabled)) ||</span>
<span class='curline'><a href='../S/863.html#L1476'>ZCSG</a>             1476 ext/opcache/ZendAccelerator.c 	    (ZCSG(restart_in_progress) &amp;&amp; accel_restart_is_active(TSRMLS_C)) ||</span>
<span class='curline'><a href='../S/863.html#L1522'>ZCSG</a>             1522 ext/opcache/ZendAccelerator.c 		persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), key, key_length + 1);</span>
<span class='curline'><a href='../S/863.html#L1552'>ZCSG</a>             1552 ext/opcache/ZendAccelerator.c 			    (bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), file_handle-&gt;opened_path, strlen(file_handle-&gt;opened_path) + 1)) != NULL) {</span>
<span class='curline'><a href='../S/863.html#L1587'>ZCSG</a>             1587 ext/opcache/ZendAccelerator.c 						zend_accel_hash_is_full(&amp;ZCSG(hash)) ? ACCEL_RESTART_HASH : ACCEL_RESTART_OOM;</span>
<span class='curline'><a href='../S/863.html#L1612'>ZCSG</a>             1612 ext/opcache/ZendAccelerator.c 						zend_accel_hash_is_full(&amp;ZCSG(hash)) ? ACCEL_RESTART_HASH : ACCEL_RESTART_OOM;</span>
<span class='curline'><a href='../S/863.html#L1626'>ZCSG</a>             1626 ext/opcache/ZendAccelerator.c 		ZCSG(misses)++;</span>
<span class='curline'><a href='../S/863.html#L1629'>ZCSG</a>             1629 ext/opcache/ZendAccelerator.c 		if (ZSMMG(memory_exhausted) || ZCSG(restart_pending)) {</span>
<span class='curline'><a href='../S/863.html#L1650'>ZCSG</a>             1650 ext/opcache/ZendAccelerator.c 		ZCSG(hits)++; /* TBFixed: may lose one hit */</span>
<span class='curline'><a href='../S/863.html#L1653'>ZCSG</a>             1653 ext/opcache/ZendAccelerator.c 		InterlockedIncrement(&amp;ZCSG(hits));</span>
<span class='curline'><a href='../S/863.html#L1839'>ZCSG</a>             1839 ext/opcache/ZendAccelerator.c 	    (ZCG(counted) || ZCSG(accelerator_enabled)) &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L1841'>ZCSG</a>             1841 ext/opcache/ZendAccelerator.c 	    !ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/863.html#L1868'>ZCSG</a>             1868 ext/opcache/ZendAccelerator.c 				    (persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), (char*)filename, filename_len + 1)) != NULL &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L1884'>ZCSG</a>             1884 ext/opcache/ZendAccelerator.c 					(persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), key, key_length + 1)) != NULL &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L1899'>ZCSG</a>             1899 ext/opcache/ZendAccelerator.c 				    (bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), resolved_path, strlen(resolved_path) + 1)) != NULL) {</span>
<span class='curline'><a href='../S/863.html#L1935'>ZCSG</a>             1935 ext/opcache/ZendAccelerator.c 	    (ZCG(counted) || ZCSG(accelerator_enabled)) &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L1937'>ZCSG</a>             1937 ext/opcache/ZendAccelerator.c 	    !ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/863.html#L1976'>ZCSG</a>             1976 ext/opcache/ZendAccelerator.c 				    (persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), (char*)filename, filename_len + 1)) != NULL &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L2000'>ZCSG</a>             2000 ext/opcache/ZendAccelerator.c 	    (ZCG(counted) || ZCSG(accelerator_enabled)) &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L2002'>ZCSG</a>             2002 ext/opcache/ZendAccelerator.c 	    !ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/863.html#L2029'>ZCSG</a>             2029 ext/opcache/ZendAccelerator.c 			    (bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), (char*)filename, filename_len + 1)) != NULL) {</span>
<span class='curline'><a href='../S/863.html#L2047'>ZCSG</a>             2047 ext/opcache/ZendAccelerator.c 				(persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), key, key_length + 1)) != NULL &amp;&amp;</span>
<span class='curline'><a href='../S/863.html#L2061'>ZCSG</a>             2061 ext/opcache/ZendAccelerator.c 			    (bucket = zend_accel_hash_find_entry(&amp;ZCSG(hash), resolved_path, strlen(resolved_path) + 1)) != NULL) {</span>
<span class='curline'><a href='../S/863.html#L2093'>ZCSG</a>             2093 ext/opcache/ZendAccelerator.c 	ZCSG(hits) = 0;</span>
<span class='curline'><a href='../S/863.html#L2094'>ZCSG</a>             2094 ext/opcache/ZendAccelerator.c 	ZCSG(misses) = 0;</span>
<span class='curline'><a href='../S/863.html#L2095'>ZCSG</a>             2095 ext/opcache/ZendAccelerator.c 	ZCSG(blacklist_misses) = 0;</span>
<span class='curline'><a href='../S/863.html#L2097'>ZCSG</a>             2097 ext/opcache/ZendAccelerator.c 	ZCSG(restart_pending) = 0;</span>
<span class='curline'><a href='../S/863.html#L2098'>ZCSG</a>             2098 ext/opcache/ZendAccelerator.c 	ZCSG(force_restart_time) = 0;</span>
<span class='curline'><a href='../S/863.html#L2126'>ZCSG</a>             2126 ext/opcache/ZendAccelerator.c 	if (ZCSG(restart_pending)) {</span>
<span class='curline'><a href='../S/863.html#L2128'>ZCSG</a>             2128 ext/opcache/ZendAccelerator.c 		if (ZCSG(restart_pending) != 0) { /* check again, to ensure that the cache wasn't already cleaned by another process */</span>
<span class='curline'><a href='../S/863.html#L2131'>ZCSG</a>             2131 ext/opcache/ZendAccelerator.c 				ZCSG(restart_pending) = 0;</span>
<span class='curline'><a href='../S/863.html#L2132'>ZCSG</a>             2132 ext/opcache/ZendAccelerator.c 				switch ZCSG(restart_reason) {</span>
<span class='curline'><a href='../S/863.html#L2134'>ZCSG</a>             2134 ext/opcache/ZendAccelerator.c 						ZCSG(oom_restarts)++;</span>
<span class='curline'><a href='../S/863.html#L2137'>ZCSG</a>             2137 ext/opcache/ZendAccelerator.c 						ZCSG(hash_restarts)++;</span>
<span class='curline'><a href='../S/863.html#L2140'>ZCSG</a>             2140 ext/opcache/ZendAccelerator.c 						ZCSG(manual_restarts)++;</span>
<span class='curline'><a href='../S/863.html#L2146'>ZCSG</a>             2146 ext/opcache/ZendAccelerator.c 				zend_accel_hash_clean(&amp;ZCSG(hash));</span>
<span class='curline'><a href='../S/863.html#L2149'>ZCSG</a>             2149 ext/opcache/ZendAccelerator.c 				if (ZCSG(include_paths).num_entries &gt; 1) {</span>
<span class='curline'><a href='../S/863.html#L2150'>ZCSG</a>             2150 ext/opcache/ZendAccelerator.c 					ZCSG(include_paths).num_entries = 1;</span>
<span class='curline'><a href='../S/863.html#L2151'>ZCSG</a>             2151 ext/opcache/ZendAccelerator.c 					ZCSG(include_paths).num_direct_entries = 1;</span>
<span class='curline'><a href='../S/863.html#L2152'>ZCSG</a>             2152 ext/opcache/ZendAccelerator.c 					memset(ZCSG(include_paths).hash_table, 0, sizeof(zend_accel_hash_entry*) * ZCSG(include_paths).max_num_entries);</span>
<span class='curline'><a href='../S/863.html#L2153'>ZCSG</a>             2153 ext/opcache/ZendAccelerator.c 					ZCSG(include_paths).hash_table[zend_inline_hash_func(ZCSG(include_paths).hash_entries[0].key, ZCSG(include_paths).hash_entries[0].key_length) % ZCSG(include_paths).max_num_entries] = &amp;ZCSG(include_paths).hash_entries[0];</span>
<span class='curline'><a href='../S/863.html#L2163'>ZCSG</a>             2163 ext/opcache/ZendAccelerator.c 				ZCSG(accelerator_enabled) = ZCSG(cache_status_before_restart);</span>
<span class='curline'><a href='../S/863.html#L2164'>ZCSG</a>             2164 ext/opcache/ZendAccelerator.c 				ZCSG(last_restart_time) = ZCG(request_time);</span>
<span class='curline'><a href='../S/863.html#L2467'>ZCSG</a>             2467 ext/opcache/ZendAccelerator.c 	zend_accel_hash_init(&amp;ZCSG(hash), ZCG(accel_directives).max_accelerated_files);</span>
<span class='curline'><a href='../S/863.html#L2468'>ZCSG</a>             2468 ext/opcache/ZendAccelerator.c 	zend_accel_hash_init(&amp;ZCSG(include_paths), 32);</span>
<span class='curline'><a href='../S/863.html#L2472'>ZCSG</a>             2472 ext/opcache/ZendAccelerator.c 	ZCSG(interned_strings_start) = ZCSG(interned_strings_end) = NULL;</span>
<span class='curline'><a href='../S/863.html#L2474'>ZCSG</a>             2474 ext/opcache/ZendAccelerator.c 	zend_hash_init(&amp;ZCSG(interned_strings), (ZCG(accel_directives).interned_strings_buffer * 1024 * 1024) / (sizeof(Bucket) + sizeof(Bucket*) + 8 /* average string length */), NULL, NULL, 1);</span>
<span class='curline'><a href='../S/863.html#L2476'>ZCSG</a>             2476 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).nTableMask = ZCSG(interned_strings).nTableSize - 1;</span>
<span class='curline'><a href='../S/863.html#L2477'>ZCSG</a>             2477 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings).arBuckets = zend_shared_alloc(ZCSG(interned_strings).nTableSize * sizeof(Bucket *));</span>
<span class='curline'><a href='../S/863.html#L2478'>ZCSG</a>             2478 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings_start) = zend_shared_alloc((ZCG(accel_directives).interned_strings_buffer * 1024 * 1024));</span>
<span class='curline'><a href='../S/863.html#L2479'>ZCSG</a>             2479 ext/opcache/ZendAccelerator.c 		if (!ZCSG(interned_strings).arBuckets || !ZCSG(interned_strings_start)) {</span>
<span class='curline'><a href='../S/863.html#L2483'>ZCSG</a>             2483 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings_end)   = ZCSG(interned_strings_start) + (ZCG(accel_directives).interned_strings_buffer * 1024 * 1024);</span>
<span class='curline'><a href='../S/863.html#L2484'>ZCSG</a>             2484 ext/opcache/ZendAccelerator.c 		ZCSG(interned_strings_top)   = ZCSG(interned_strings_start);</span>
<span class='curline'><a href='../S/863.html#L2488'>ZCSG</a>             2488 ext/opcache/ZendAccelerator.c 		CG(interned_strings_start) = ZCSG(interned_strings_start);</span>
<span class='curline'><a href='../S/863.html#L2489'>ZCSG</a>             2489 ext/opcache/ZendAccelerator.c 		CG(interned_strings_end) = ZCSG(interned_strings_end);</span>
<span class='curline'><a href='../S/863.html#L2511'>ZCSG</a>             2511 ext/opcache/ZendAccelerator.c 	ZCSG(oom_restarts) = 0;</span>
<span class='curline'><a href='../S/863.html#L2512'>ZCSG</a>             2512 ext/opcache/ZendAccelerator.c 	ZCSG(hash_restarts) = 0;</span>
<span class='curline'><a href='../S/863.html#L2513'>ZCSG</a>             2513 ext/opcache/ZendAccelerator.c 	ZCSG(manual_restarts) = 0;</span>
<span class='curline'><a href='../S/863.html#L2515'>ZCSG</a>             2515 ext/opcache/ZendAccelerator.c 	ZCSG(accelerator_enabled) = 1;</span>
<span class='curline'><a href='../S/863.html#L2516'>ZCSG</a>             2516 ext/opcache/ZendAccelerator.c 	ZCSG(start_time) = zend_accel_get_time();</span>
<span class='curline'><a href='../S/863.html#L2517'>ZCSG</a>             2517 ext/opcache/ZendAccelerator.c 	ZCSG(last_restart_time) = 0;</span>
<span class='curline'><a href='../S/863.html#L2518'>ZCSG</a>             2518 ext/opcache/ZendAccelerator.c 	ZCSG(restart_in_progress) = 0;</span>
<span class='curline'><a href='../S/863.html#L2599'>ZCSG</a>             2599 ext/opcache/ZendAccelerator.c 			CG(interned_strings_start) = ZCSG(interned_strings_start);</span>
<span class='curline'><a href='../S/863.html#L2600'>ZCSG</a>             2600 ext/opcache/ZendAccelerator.c 			CG(interned_strings_end) = ZCSG(interned_strings_end);</span>
<span class='curline'><a href='../S/863.html#L2652'>ZCSG</a>             2652 ext/opcache/ZendAccelerator.c 			ZCG(include_path_key) = zend_accel_hash_find(&amp;ZCSG(include_paths), ZCG(include_path), ZCG(include_path_len) + 1);</span>
<span class='curline'><a href='../S/863.html#L2654'>ZCSG</a>             2654 ext/opcache/ZendAccelerator.c 			    !zend_accel_hash_is_full(&amp;ZCSG(include_paths))) {</span>
<span class='curline'><a href='../S/863.html#L2661'>ZCSG</a>             2661 ext/opcache/ZendAccelerator.c 					key[ZCG(include_path_len) + 1] = 'A' + ZCSG(include_paths).num_entries;</span>
<span class='curline'><a href='../S/863.html#L2663'>ZCSG</a>             2663 ext/opcache/ZendAccelerator.c 					zend_accel_hash_update(&amp;ZCSG(include_paths), key, ZCG(include_path_len) + 1, 0, ZCG(include_path_key));</span>
<span class='curline'><a href='../S/863.html#L2751'>ZCSG</a>             2751 ext/opcache/ZendAccelerator.c 	if (ZCSG(restart_pending)) {</span>
<span class='curline'><a href='../S/863.html#L2758'>ZCSG</a>             2758 ext/opcache/ZendAccelerator.c 	ZCSG(restart_pending) = 1;</span>
<span class='curline'><a href='../S/863.html#L2759'>ZCSG</a>             2759 ext/opcache/ZendAccelerator.c 	ZCSG(restart_reason) = reason;</span>
<span class='curline'><a href='../S/863.html#L2760'>ZCSG</a>             2760 ext/opcache/ZendAccelerator.c 	ZCSG(cache_status_before_restart) = ZCSG(accelerator_enabled);</span>
<span class='curline'><a href='../S/863.html#L2761'>ZCSG</a>             2761 ext/opcache/ZendAccelerator.c 	ZCSG(accelerator_enabled) = 0;</span>
<span class='curline'><a href='../S/863.html#L2764'>ZCSG</a>             2764 ext/opcache/ZendAccelerator.c 		ZCSG(force_restart_time) = zend_accel_get_time() + ZCG(accel_directives).force_restart_timeout;</span>
<span class='curline'><a href='../S/863.html#L2766'>ZCSG</a>             2766 ext/opcache/ZendAccelerator.c 		ZCSG(force_restart_time) = 0;</span>
<span class='curline'><a href='../S/863.html#L2793'>ZCSG</a>             2793 ext/opcache/ZendAccelerator.c 		if (ZCSG(restart_in_progress)) {</span>
<span class='curline'><a href='../S/854.html#L324'>ZCSG</a>              324 ext/opcache/zend_accelerator_module.c 		persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), filename, filename_len + 1);</span>
<span class='curline'><a href='../S/854.html#L333'>ZCSG</a>              333 ext/opcache/zend_accelerator_module.c 		persistent_script = zend_accel_hash_find(&amp;ZCSG(hash), key, key_length + 1);</span>
<span class='curline'><a href='../S/854.html#L426'>ZCSG</a>              426 ext/opcache/zend_accelerator_module.c 	if (ZCG(enabled) &amp;&amp; accel_startup_ok &amp;&amp; (ZCG(counted) || ZCSG(accelerator_enabled))) {</span>
<span class='curline'><a href='../S/854.html#L431'>ZCSG</a>              431 ext/opcache/zend_accelerator_module.c 	if (ZCG(enabled) &amp;&amp; accel_startup_ok &amp;&amp; ZCSG(accelerator_enabled) &amp;&amp; ZCG(accel_directives).optimization_level) {</span>
<span class='curline'><a href='../S/854.html#L443'>ZCSG</a>              443 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hits));</span>
<span class='curline'><a href='../S/854.html#L445'>ZCSG</a>              445 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZSMMG(memory_exhausted)?ZCSG(misses):ZCSG(misses)-ZCSG(blacklist_misses));</span>
<span class='curline'><a href='../S/854.html#L454'>ZCSG</a>              454 ext/opcache/zend_accelerator_module.c 			if (ZCSG(interned_strings_start) &amp;&amp; ZCSG(interned_strings_end) &amp;&amp; ZCSG(interned_strings_top)) {</span>
<span class='curline'><a href='../S/854.html#L455'>ZCSG</a>              455 ext/opcache/zend_accelerator_module.c 				snprintf(buf, sizeof(buf), "%ld", ZCSG(interned_strings_top) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/854.html#L457'>ZCSG</a>              457 ext/opcache/zend_accelerator_module.c 				snprintf(buf, sizeof(buf), "%ld", ZCSG(interned_strings_end) - ZCSG(interned_strings_top));</span>
<span class='curline'><a href='../S/854.html#L461'>ZCSG</a>              461 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hash).num_direct_entries);</span>
<span class='curline'><a href='../S/854.html#L463'>ZCSG</a>              463 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hash).num_entries);</span>
<span class='curline'><a href='../S/854.html#L465'>ZCSG</a>              465 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hash).max_num_entries);</span>
<span class='curline'><a href='../S/854.html#L467'>ZCSG</a>              467 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(oom_restarts));</span>
<span class='curline'><a href='../S/854.html#L469'>ZCSG</a>              469 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(hash_restarts));</span>
<span class='curline'><a href='../S/854.html#L471'>ZCSG</a>              471 ext/opcache/zend_accelerator_module.c 			snprintf(buf, sizeof(buf), "%ld", ZCSG(manual_restarts));</span>
<span class='curline'><a href='../S/854.html#L509'>ZCSG</a>              509 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled) || accelerator_shm_read_lock(TSRMLS_C) != SUCCESS) {</span>
<span class='curline'><a href='../S/854.html#L515'>ZCSG</a>              515 ext/opcache/zend_accelerator_module.c 	for (i = 0; i&lt;ZCSG(hash).max_num_entries; i++) {</span>
<span class='curline'><a href='../S/854.html#L516'>ZCSG</a>              516 ext/opcache/zend_accelerator_module.c 		for (cache_entry = ZCSG(hash).hash_table[i]; cache_entry; cache_entry = cache_entry-&gt;next) {</span>
<span class='curline'><a href='../S/854.html#L576'>ZCSG</a>              576 ext/opcache/zend_accelerator_module.c 	add_assoc_bool(return_value, "opcache_enabled", ZCG(enabled) &amp;&amp; (ZCG(counted) || ZCSG(accelerator_enabled)));</span>
<span class='curline'><a href='../S/854.html#L578'>ZCSG</a>              578 ext/opcache/zend_accelerator_module.c 	add_assoc_bool(return_value, "restart_pending", ZCSG(restart_pending));</span>
<span class='curline'><a href='../S/854.html#L579'>ZCSG</a>              579 ext/opcache/zend_accelerator_module.c 	add_assoc_bool(return_value, "restart_in_progress", ZCSG(restart_in_progress));</span>
<span class='curline'><a href='../S/854.html#L591'>ZCSG</a>              591 ext/opcache/zend_accelerator_module.c 	if (ZCSG(interned_strings_start) &amp;&amp; ZCSG(interned_strings_end) &amp;&amp; ZCSG(interned_strings_top)) {</span>
<span class='curline'><a href='../S/854.html#L596'>ZCSG</a>              596 ext/opcache/zend_accelerator_module.c 		add_assoc_long(interned_strings_usage, "buffer_size", ZCSG(interned_strings_end) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/854.html#L597'>ZCSG</a>              597 ext/opcache/zend_accelerator_module.c 		add_assoc_long(interned_strings_usage, "used_memory", ZCSG(interned_strings_top) - ZCSG(interned_strings_start));</span>
<span class='curline'><a href='../S/854.html#L598'>ZCSG</a>              598 ext/opcache/zend_accelerator_module.c 		add_assoc_long(interned_strings_usage, "free_memory", ZCSG(interned_strings_end) - ZCSG(interned_strings_top));</span>
<span class='curline'><a href='../S/854.html#L599'>ZCSG</a>              599 ext/opcache/zend_accelerator_module.c 		add_assoc_long(interned_strings_usage, "number_of_strings", ZCSG(interned_strings).nNumOfElements);</span>
<span class='curline'><a href='../S/854.html#L607'>ZCSG</a>              607 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "num_cached_scripts", ZCSG(hash).num_direct_entries);</span>
<span class='curline'><a href='../S/854.html#L608'>ZCSG</a>              608 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "num_cached_keys",    ZCSG(hash).num_entries);</span>
<span class='curline'><a href='../S/854.html#L609'>ZCSG</a>              609 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "max_cached_keys",    ZCSG(hash).max_num_entries);</span>
<span class='curline'><a href='../S/854.html#L610'>ZCSG</a>              610 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "hits", ZCSG(hits));</span>
<span class='curline'><a href='../S/854.html#L611'>ZCSG</a>              611 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "start_time", ZCSG(start_time));</span>
<span class='curline'><a href='../S/854.html#L612'>ZCSG</a>              612 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "last_restart_time", ZCSG(last_restart_time));</span>
<span class='curline'><a href='../S/854.html#L613'>ZCSG</a>              613 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "oom_restarts", ZCSG(oom_restarts));</span>
<span class='curline'><a href='../S/854.html#L614'>ZCSG</a>              614 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "hash_restarts", ZCSG(hash_restarts));</span>
<span class='curline'><a href='../S/854.html#L615'>ZCSG</a>              615 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "manual_restarts", ZCSG(manual_restarts));</span>
<span class='curline'><a href='../S/854.html#L616'>ZCSG</a>              616 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "misses", ZSMMG(memory_exhausted)?ZCSG(misses):ZCSG(misses)-ZCSG(blacklist_misses));</span>
<span class='curline'><a href='../S/854.html#L617'>ZCSG</a>              617 ext/opcache/zend_accelerator_module.c 	add_assoc_long(statistics, "blacklist_misses", ZCSG(blacklist_misses));</span>
<span class='curline'><a href='../S/854.html#L618'>ZCSG</a>              618 ext/opcache/zend_accelerator_module.c 	reqs = ZCSG(hits)+ZCSG(misses);</span>
<span class='curline'><a href='../S/854.html#L619'>ZCSG</a>              619 ext/opcache/zend_accelerator_module.c 	add_assoc_double(statistics, "blacklist_miss_ratio", reqs?(((double) ZCSG(blacklist_misses))/reqs)*100.0:0);</span>
<span class='curline'><a href='../S/854.html#L620'>ZCSG</a>              620 ext/opcache/zend_accelerator_module.c 	add_assoc_double(statistics, "opcache_hit_rate", reqs?(((double) ZCSG(hits))/reqs)*100.0:0);</span>
<span class='curline'><a href='../S/854.html#L725'>ZCSG</a>              725 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled)) {</span>
<span class='curline'><a href='../S/854.html#L768'>ZCSG</a>              768 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled)) {</span>
<span class='curline'><a href='../S/854.html#L808'>ZCSG</a>              808 ext/opcache/zend_accelerator_module.c 	if (!ZCG(enabled) || !accel_startup_ok || !ZCSG(accelerator_enabled)) {</span>
</pre>
</body>
</html>
