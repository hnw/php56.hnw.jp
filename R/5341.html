<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>OCI_G</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/818.html#L1091'>OCI_G</a>            1091 ext/oci8/oci8.c 	errstatus = OCIEnvNlsCreate(&amp;OCI_G(env), PHP_OCI_INIT_MODE, 0, NULL, NULL, NULL, 0, NULL, 0, 0);</span>
<span class='curline'><a href='../S/818.html#L1099'>OCI_G</a>            1099 ext/oci8/oci8.c 		if (OCI_G(env)</span>
<span class='curline'><a href='../S/818.html#L1100'>OCI_G</a>            1100 ext/oci8/oci8.c 			&amp;&amp; OCIErrorGet(OCI_G(env), (ub4)1, NULL, &amp;ora_error_code, tmp_buf, (ub4)OCI_ERROR_MAXMSG_SIZE, (ub4)OCI_HTYPE_ENV) == OCI_SUCCESS</span>
<span class='curline'><a href='../S/818.html#L1105'>OCI_G</a>            1105 ext/oci8/oci8.c 		OCI_G(env) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1106'>OCI_G</a>            1106 ext/oci8/oci8.c 		OCI_G(err) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1110'>OCI_G</a>            1110 ext/oci8/oci8.c 	errstatus = OCIHandleAlloc (OCI_G(env), (dvoid **)&amp;OCI_G(err), OCI_HTYPE_ERROR, 0, NULL);</span>
<span class='curline'><a href='../S/818.html#L1123'>OCI_G</a>            1123 ext/oci8/oci8.c 		PHP_OCI_CALL(OCIHandleAlloc, (OCI_G(env), (dvoid **) &amp;cpoolh, OCI_HTYPE_CPOOL, (size_t) 0, (dvoid **) 0));</span>
<span class='curline'><a href='../S/818.html#L1124'>OCI_G</a>            1124 ext/oci8/oci8.c 		PHP_OCI_CALL(OCIConnectionPoolCreate, (OCI_G(env), OCI_G(err), cpoolh, NULL, 0, NULL, 0, 0, 0, 0, NULL, 0, NULL, 0, cpoolmode));</span>
<span class='curline'><a href='../S/818.html#L1125'>OCI_G</a>            1125 ext/oci8/oci8.c 		PHP_OCI_CALL(OCIConnectionPoolDestroy, (cpoolh, OCI_G(err), OCI_DEFAULT));</span>
<span class='curline'><a href='../S/818.html#L1129'>OCI_G</a>            1129 ext/oci8/oci8.c 		OCIErrorGet(OCI_G(env), (ub4)1, NULL, &amp;ora_error_code, tmp_buf, (ub4)OCI_ERROR_MAXMSG_SIZE, (ub4)OCI_HTYPE_ERROR);</span>
<span class='curline'><a href='../S/818.html#L1143'>OCI_G</a>            1143 ext/oci8/oci8.c 				OCIHandleFree((dvoid *) OCI_G(env), OCI_HTYPE_ENV);</span>
<span class='curline'><a href='../S/818.html#L1145'>OCI_G</a>            1145 ext/oci8/oci8.c 				OCI_G(env) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1146'>OCI_G</a>            1146 ext/oci8/oci8.c 				OCI_G(err) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1159'>OCI_G</a>            1159 ext/oci8/oci8.c 	if (OCI_G(err)) {</span>
<span class='curline'><a href='../S/818.html#L1160'>OCI_G</a>            1160 ext/oci8/oci8.c 		PHP_OCI_CALL(OCIHandleFree, ((dvoid *) OCI_G(err), OCI_HTYPE_ERROR));</span>
<span class='curline'><a href='../S/818.html#L1161'>OCI_G</a>            1161 ext/oci8/oci8.c 		OCI_G(err) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1164'>OCI_G</a>            1164 ext/oci8/oci8.c 	if (OCI_G(env)) {</span>
<span class='curline'><a href='../S/818.html#L1165'>OCI_G</a>            1165 ext/oci8/oci8.c 		PHP_OCI_CALL(OCIHandleFree, ((dvoid *) OCI_G(env), OCI_HTYPE_ENV));</span>
<span class='curline'><a href='../S/818.html#L1166'>OCI_G</a>            1166 ext/oci8/oci8.c 		OCI_G(env) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1304'>OCI_G</a>            1304 ext/oci8/oci8.c 	OCI_G(num_links) = OCI_G(num_persistent);</span>
<span class='curline'><a href='../S/818.html#L1305'>OCI_G</a>            1305 ext/oci8/oci8.c 	OCI_G(errcode) = 0;</span>
<span class='curline'><a href='../S/818.html#L1306'>OCI_G</a>            1306 ext/oci8/oci8.c 	OCI_G(edition) = NULL;</span>
<span class='curline'><a href='../S/818.html#L1313'>OCI_G</a>            1313 ext/oci8/oci8.c 	OCI_G(shutdown) = 1;</span>
<span class='curline'><a href='../S/818.html#L1328'>OCI_G</a>            1328 ext/oci8/oci8.c 	if (OCI_G(edition)) {</span>
<span class='curline'><a href='../S/818.html#L1329'>OCI_G</a>            1329 ext/oci8/oci8.c 		efree(OCI_G(edition));</span>
<span class='curline'><a href='../S/818.html#L1388'>OCI_G</a>            1388 ext/oci8/oci8.c 	snprintf(buf, sizeof(buf), "%ld", OCI_G(num_persistent));</span>
<span class='curline'><a href='../S/818.html#L1390'>OCI_G</a>            1390 ext/oci8/oci8.c 	snprintf(buf, sizeof(buf), "%ld", OCI_G(num_links));</span>
<span class='curline'><a href='../S/818.html#L1408'>OCI_G</a>            1408 ext/oci8/oci8.c 		OCI_G(num_links)--;</span>
<span class='curline'><a href='../S/818.html#L1423'>OCI_G</a>            1423 ext/oci8/oci8.c 		OCI_G(num_persistent)--;</span>
<span class='curline'><a href='../S/818.html#L1424'>OCI_G</a>            1424 ext/oci8/oci8.c 		OCI_G(num_links)--;</span>
<span class='curline'><a href='../S/818.html#L1454'>OCI_G</a>            1454 ext/oci8/oci8.c 		OCI_G(in_call)) {</span>
<span class='curline'><a href='../S/818.html#L1462'>OCI_G</a>            1462 ext/oci8/oci8.c 			OCI_G(num_persistent)--;</span>
<span class='curline'><a href='../S/818.html#L1842'>OCI_G</a>            1842 ext/oci8/oci8.c 			if (!OCI_G(privileged_connect)) {</span>
<span class='curline'><a href='../S/818.html#L1857'>OCI_G</a>            1857 ext/oci8/oci8.c 	if (OCI_G(env) == NULL) {</span>
<span class='curline'><a href='../S/818.html#L1859'>OCI_G</a>            1859 ext/oci8/oci8.c 		if (OCI_G(env) == NULL) {</span>
<span class='curline'><a href='../S/818.html#L1878'>OCI_G</a>            1878 ext/oci8/oci8.c 	if (OCI_G(connection_class)){</span>
<span class='curline'><a href='../S/818.html#L1879'>OCI_G</a>            1879 ext/oci8/oci8.c 		smart_str_appendl_ex(&amp;hashed_details, OCI_G(connection_class), strlen(OCI_G(connection_class)), 0);</span>
<span class='curline'><a href='../S/818.html#L1884'>OCI_G</a>            1884 ext/oci8/oci8.c 	if (OCI_G(edition)){</span>
<span class='curline'><a href='../S/818.html#L1885'>OCI_G</a>            1885 ext/oci8/oci8.c 		smart_str_appendl_ex(&amp;hashed_details, OCI_G(edition), strlen(OCI_G(edition)), 0);</span>
<span class='curline'><a href='../S/818.html#L1902'>OCI_G</a>            1902 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(charsetid, OCINlsCharSetNameToId, (OCI_G(env), (CONST oratext *)charset));</span>
<span class='curline'><a href='../S/818.html#L2015'>OCI_G</a>            2015 ext/oci8/oci8.c 								if (OCI_G(old_oci_close_semantics)) {</span>
<span class='curline'><a href='../S/818.html#L2073'>OCI_G</a>            2073 ext/oci8/oci8.c 		if (OCI_G(max_persistent) != -1 &amp;&amp; OCI_G(num_persistent) &gt;= OCI_G(max_persistent)) {</span>
<span class='curline'><a href='../S/818.html#L2077'>OCI_G</a>            2077 ext/oci8/oci8.c 			if (OCI_G(max_persistent) != -1 &amp;&amp; OCI_G(num_persistent) &gt;= OCI_G(max_persistent)) {</span>
<span class='curline'><a href='../S/818.html#L2079'>OCI_G</a>            2079 ext/oci8/oci8.c 				php_error_docref(NULL TSRMLS_CC, E_NOTICE, "Too many open persistent connections (%ld)", OCI_G(num_persistent));</span>
<span class='curline'><a href='../S/818.html#L2133'>OCI_G</a>            2133 ext/oci8/oci8.c 	connection-&gt;idle_expiry = (OCI_G(persistent_timeout) &gt; 0) ? (timestamp + OCI_G(persistent_timeout)) : 0;</span>
<span class='curline'><a href='../S/818.html#L2176'>OCI_G</a>            2176 ext/oci8/oci8.c 		if (OCI_G(old_oci_close_semantics)) {</span>
<span class='curline'><a href='../S/818.html#L2180'>OCI_G</a>            2180 ext/oci8/oci8.c 		OCI_G(num_persistent)++;</span>
<span class='curline'><a href='../S/818.html#L2181'>OCI_G</a>            2181 ext/oci8/oci8.c 		OCI_G(num_links)++;</span>
<span class='curline'><a href='../S/818.html#L2187'>OCI_G</a>            2187 ext/oci8/oci8.c 		OCI_G(num_links)++;</span>
<span class='curline'><a href='../S/818.html#L2190'>OCI_G</a>            2190 ext/oci8/oci8.c 		OCI_G(num_links)++;</span>
<span class='curline'><a href='../S/818.html#L2195'>OCI_G</a>            2195 ext/oci8/oci8.c 		DTRACE_OCI8_CONNECT_TYPE(connection-&gt;is_persistent ? 1 : 0, exclusive ? 1 : 0, connection, OCI_G(num_persistent), OCI_G(num_links));</span>
<span class='curline'><a href='../S/818.html#L2214'>OCI_G</a>            2214 ext/oci8/oci8.c 	OCI_G(errcode) = 0;  		/* assume ping is successful */</span>
<span class='curline'><a href='../S/818.html#L2222'>OCI_G</a>            2222 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(errstatus, OCIPing, (connection-&gt;svc, OCI_G(err), OCI_DEFAULT));</span>
<span class='curline'><a href='../S/818.html#L2225'>OCI_G</a>            2225 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(errstatus, OCIServerVersion, (connection-&gt;svc, OCI_G(err), (text *)version, sizeof(version), OCI_HTYPE_SVCCTX));</span>
<span class='curline'><a href='../S/818.html#L2235'>OCI_G</a>            2235 ext/oci8/oci8.c 		OCIErrorGet(OCI_G(err), (ub4)1, NULL, &amp;error_code, tmp_buf, (ub4)OCI_ERROR_MAXMSG_SIZE, (ub4)OCI_HTYPE_ERROR);</span>
<span class='curline'><a href='../S/818.html#L2239'>OCI_G</a>            2239 ext/oci8/oci8.c 		OCI_G(errcode) = error_code;</span>
<span class='curline'><a href='../S/818.html#L2256'>OCI_G</a>            2256 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(errstatus, OCIAttrGet, ((dvoid *)connection-&gt;server, OCI_HTYPE_SERVER, (dvoid *)&amp;ss, (ub4 *)0, OCI_ATTR_SERVER_STATUS, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L2316'>OCI_G</a>            2316 ext/oci8/oci8.c 	zend_bool in_call_save = OCI_G(in_call);</span>
<span class='curline'><a href='../S/818.html#L2347'>OCI_G</a>            2347 ext/oci8/oci8.c 			PHP_OCI_CALL(OCIServerDetach, (connection-&gt;server, OCI_G(err), OCI_DEFAULT));</span>
<span class='curline'><a href='../S/818.html#L2378'>OCI_G</a>            2378 ext/oci8/oci8.c 	OCI_G(in_call) = in_call_save;</span>
<span class='curline'><a href='../S/818.html#L2392'>OCI_G</a>            2392 ext/oci8/oci8.c 	zend_bool in_call_save = OCI_G(in_call);</span>
<span class='curline'><a href='../S/818.html#L2413'>OCI_G</a>            2413 ext/oci8/oci8.c 	if (OCI_G(persistent_timeout) &gt; 0) {</span>
<span class='curline'><a href='../S/818.html#L2414'>OCI_G</a>            2414 ext/oci8/oci8.c 		connection-&gt;idle_expiry = timestamp + OCI_G(persistent_timeout);</span>
<span class='curline'><a href='../S/818.html#L2419'>OCI_G</a>            2419 ext/oci8/oci8.c 		if (OCI_G(ping_interval) &gt;= 0) {</span>
<span class='curline'><a href='../S/818.html#L2420'>OCI_G</a>            2420 ext/oci8/oci8.c 			*(connection-&gt;next_pingp) = timestamp + OCI_G(ping_interval);</span>
<span class='curline'><a href='../S/818.html#L2471'>OCI_G</a>            2471 ext/oci8/oci8.c 	OCI_G(in_call) = in_call_save;</span>
<span class='curline'><a href='../S/818.html#L2808'>OCI_G</a>            2808 ext/oci8/oci8.c 		if (!connection-&gt;used_this_request &amp;&amp; OCI_G(persistent_timeout) != -1) {</span>
<span class='curline'><a href='../S/818.html#L2862'>OCI_G</a>            2862 ext/oci8/oci8.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2874'>OCI_G</a>            2874 ext/oci8/oci8.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2891'>OCI_G</a>            2891 ext/oci8/oci8.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2898'>OCI_G</a>            2898 ext/oci8/oci8.c 	if (OCI_G(edition)) {</span>
<span class='curline'><a href='../S/818.html#L2899'>OCI_G</a>            2899 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(errstatus, OCIAttrSet, ((dvoid *) spoolAuth, (ub4) OCI_HTYPE_AUTHINFO, (dvoid *) OCI_G(edition), (ub4)(strlen(OCI_G(edition))), (ub4)OCI_ATTR_EDITION, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L2902'>OCI_G</a>            2902 ext/oci8/oci8.c 			OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2910'>OCI_G</a>            2910 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(errstatus, OCIAttrSet, ((dvoid *) spoolAuth, (ub4) OCI_HTYPE_AUTHINFO, (dvoid *) PHP_OCI8_DRIVER_NAME, (ub4) sizeof(PHP_OCI8_DRIVER_NAME)-1, (ub4) OCI_ATTR_DRIVER_NAME, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L2913'>OCI_G</a>            2913 ext/oci8/oci8.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2920'>OCI_G</a>            2920 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(errstatus, OCIAttrSet, ((dvoid *) (session_pool-&gt;poolh),(ub4) OCI_HTYPE_SPOOL, (dvoid *) spoolAuth, (ub4)0, (ub4)OCI_ATTR_SPOOL_AUTH, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L2923'>OCI_G</a>            2923 ext/oci8/oci8.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2933'>OCI_G</a>            2933 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(errstatus, OCISessionPoolCreate,(session_pool-&gt;env, OCI_G(err), session_pool-&gt;poolh, (OraText **)&amp;session_pool-&gt;poolname, &amp;session_pool-&gt;poolname_len, (OraText *)dbname, (ub4)dbname_len, 0, UB4MAXVAL, 1,(OraText *)username, (ub4)username_len, (OraText *)password,(ub4)password_len, poolmode));</span>
<span class='curline'><a href='../S/818.html#L2936'>OCI_G</a>            2936 ext/oci8/oci8.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L2978'>OCI_G</a>            2978 ext/oci8/oci8.c 	if (OCI_G(edition)){</span>
<span class='curline'><a href='../S/818.html#L2979'>OCI_G</a>            2979 ext/oci8/oci8.c 		smart_str_appendl_ex(&amp;spool_hashed_details, OCI_G(edition), strlen(OCI_G(edition)), 0);</span>
<span class='curline'><a href='../S/818.html#L3042'>OCI_G</a>            3042 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIEnvNlsCreate, (&amp;retenv, OCI_G(events) ? PHP_OCI_INIT_MODE | OCI_EVENTS : PHP_OCI_INIT_MODE, 0, NULL, NULL, NULL, 0, NULL, charsetid, charsetid));</span>
<span class='curline'><a href='../S/818.html#L3044'>OCI_G</a>            3044 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3072'>OCI_G</a>            3072 ext/oci8/oci8.c 	ub4 statement_cache_size = (OCI_G(statement_cache_size) &gt; 0) ? OCI_G(statement_cache_size) : 0;</span>
<span class='curline'><a href='../S/818.html#L3080'>OCI_G</a>            3080 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIHandleAlloc, (connection-&gt;env, (dvoid **)&amp;(connection-&gt;server), OCI_HTYPE_SERVER, 0, NULL));</span>
<span class='curline'><a href='../S/818.html#L3082'>OCI_G</a>            3082 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3083'>OCI_G</a>            3083 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3089'>OCI_G</a>            3089 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIServerAttach, (connection-&gt;server, OCI_G(err), (text *)dbname, dbname_len, (ub4) OCI_DEFAULT));</span>
<span class='curline'><a href='../S/818.html#L3091'>OCI_G</a>            3091 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3092'>OCI_G</a>            3092 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3099'>OCI_G</a>            3099 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIHandleAlloc, (connection-&gt;env, (dvoid **)&amp;(connection-&gt;session), OCI_HTYPE_SESSION, 0, NULL));</span>
<span class='curline'><a href='../S/818.html#L3101'>OCI_G</a>            3101 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3102'>OCI_G</a>            3102 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3108'>OCI_G</a>            3108 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIHandleAlloc, (connection-&gt;env, (dvoid **)&amp;(connection-&gt;err), OCI_HTYPE_ERROR, 0, NULL));</span>
<span class='curline'><a href='../S/818.html#L3110'>OCI_G</a>            3110 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3111'>OCI_G</a>            3111 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3117'>OCI_G</a>            3117 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIHandleAlloc, (connection-&gt;env, (dvoid **)&amp;(connection-&gt;svc), OCI_HTYPE_SVCCTX, 0, NULL));</span>
<span class='curline'><a href='../S/818.html#L3119'>OCI_G</a>            3119 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3120'>OCI_G</a>            3120 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3127'>OCI_G</a>            3127 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;session, (ub4) OCI_HTYPE_SESSION, (dvoid *) username, (ub4) username_len, (ub4) OCI_ATTR_USERNAME, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3129'>OCI_G</a>            3129 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3130'>OCI_G</a>            3130 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3138'>OCI_G</a>            3138 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;session, (ub4) OCI_HTYPE_SESSION, (dvoid *) password, (ub4) password_len, (ub4) OCI_ATTR_PASSWORD, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3140'>OCI_G</a>            3140 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3141'>OCI_G</a>            3141 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3149'>OCI_G</a>            3149 ext/oci8/oci8.c 	if (OCI_G(edition)) {</span>
<span class='curline'><a href='../S/818.html#L3150'>OCI_G</a>            3150 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;session, (ub4) OCI_HTYPE_SESSION, (dvoid *) OCI_G(edition), (ub4) (strlen(OCI_G(edition))), (ub4) OCI_ATTR_EDITION, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3152'>OCI_G</a>            3152 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3153'>OCI_G</a>            3153 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3162'>OCI_G</a>            3162 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;session, (ub4) OCI_HTYPE_SESSION, (dvoid *) PHP_OCI8_DRIVER_NAME, (ub4) sizeof(PHP_OCI8_DRIVER_NAME)-1, (ub4) OCI_ATTR_DRIVER_NAME, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3164'>OCI_G</a>            3164 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3165'>OCI_G</a>            3165 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3172'>OCI_G</a>            3172 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, (connection-&gt;svc, OCI_HTYPE_SVCCTX, connection-&gt;server, 0, OCI_ATTR_SERVER, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3174'>OCI_G</a>            3174 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3175'>OCI_G</a>            3175 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3181'>OCI_G</a>            3181 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, (connection-&gt;svc, OCI_HTYPE_SVCCTX, connection-&gt;session, 0, OCI_ATTR_SESSION, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3183'>OCI_G</a>            3183 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3184'>OCI_G</a>            3184 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3191'>OCI_G</a>            3191 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIPasswordChange, (connection-&gt;svc, OCI_G(err), (text *)username, username_len, (text *)password, password_len, (text *)new_password, new_password_len, OCI_AUTH));</span>
<span class='curline'><a href='../S/818.html#L3193'>OCI_G</a>            3193 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3194'>OCI_G</a>            3194 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3198'>OCI_G</a>            3198 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrGet, ((dvoid *)connection-&gt;svc, OCI_HTYPE_SVCCTX, (dvoid *)&amp;(connection-&gt;session), (ub4 *)0, OCI_ATTR_SESSION, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3200'>OCI_G</a>            3200 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3201'>OCI_G</a>            3201 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3217'>OCI_G</a>            3217 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCISessionBegin, (connection-&gt;svc, OCI_G(err), connection-&gt;session, (ub4) cred_type, (ub4) session_mode));</span>
<span class='curline'><a href='../S/818.html#L3219'>OCI_G</a>            3219 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3220'>OCI_G</a>            3220 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3224'>OCI_G</a>            3224 ext/oci8/oci8.c 			if (OCI_G(errcode) != OCI_SUCCESS_WITH_INFO) {</span>
<span class='curline'><a href='../S/818.html#L3232'>OCI_G</a>            3232 ext/oci8/oci8.c 	if (php_oci_ping_init(connection, OCI_G(err) TSRMLS_CC) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3233'>OCI_G</a>            3233 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3237'>OCI_G</a>            3237 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;svc, (ub4) OCI_HTYPE_SVCCTX, (ub4 *) &amp;statement_cache_size, 0, (ub4) OCI_ATTR_STMTCACHESIZE, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3239'>OCI_G</a>            3239 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3240'>OCI_G</a>            3240 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3260'>OCI_G</a>            3260 ext/oci8/oci8.c 	ub4 statement_cache_size = (OCI_G(statement_cache_size) &gt; 0) ? OCI_G(statement_cache_size) : 0;</span>
<span class='curline'><a href='../S/818.html#L3289'>OCI_G</a>            3289 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIHandleAlloc, (connection-&gt;env, (dvoid **)&amp;(connection-&gt;err), OCI_HTYPE_ERROR, 0, NULL));</span>
<span class='curline'><a href='../S/818.html#L3291'>OCI_G</a>            3291 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3292'>OCI_G</a>            3292 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3299'>OCI_G</a>            3299 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIHandleAlloc, (connection-&gt;env, (dvoid **)&amp;(connection-&gt;authinfo), OCI_HTYPE_AUTHINFO, 0, NULL));</span>
<span class='curline'><a href='../S/818.html#L3301'>OCI_G</a>            3301 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3302'>OCI_G</a>            3302 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3308'>OCI_G</a>            3308 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;authinfo,(ub4) OCI_HTYPE_SESSION, (dvoid *) OCI_G(connection_class), (ub4)(strlen(OCI_G(connection_class))), (ub4)OCI_ATTR_CONNECTION_CLASS, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3310'>OCI_G</a>            3310 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3311'>OCI_G</a>            3311 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3320'>OCI_G</a>            3320 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode),OCIAttrSet, ((dvoid *) connection-&gt;authinfo,(ub4) OCI_HTYPE_AUTHINFO, (dvoid *) &amp;purity, (ub4)0, (ub4)OCI_ATTR_PURITY, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3322'>OCI_G</a>            3322 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3323'>OCI_G</a>            3323 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3334'>OCI_G</a>            3334 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrGet, ((dvoid *)actual_spool-&gt;poolh, OCI_HTYPE_SPOOL, (dvoid *)&amp;numopen, (ub4 *)0, OCI_ATTR_SPOOL_OPEN_COUNT, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3335'>OCI_G</a>            3335 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrGet, ((dvoid *)actual_spool-&gt;poolh, OCI_HTYPE_SPOOL, (dvoid *)&amp;numbusy, (ub4 *)0, OCI_ATTR_SPOOL_BUSY_COUNT, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3350'>OCI_G</a>            3350 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode),OCISessionGet, (connection-&gt;env, OCI_G(err), &amp;(connection-&gt;svc), (OCIAuthInfo *)connection-&gt;authinfo, (OraText *)actual_spool-&gt;poolname, (ub4)actual_spool-&gt;poolname_len, NULL, 0, NULL, NULL, NULL, OCI_SESSGET_SPOOL));</span>
<span class='curline'><a href='../S/818.html#L3352'>OCI_G</a>            3352 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3353'>OCI_G</a>            3353 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3359'>OCI_G</a>            3359 ext/oci8/oci8.c 			if (OCI_G(errcode) != OCI_SUCCESS_WITH_INFO) {</span>
<span class='curline'><a href='../S/818.html#L3365'>OCI_G</a>            3365 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrGet, ((dvoid *)connection-&gt;svc, OCI_HTYPE_SVCCTX, (dvoid *)&amp;(connection-&gt;server), (ub4 *)0, OCI_ATTR_SERVER, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3367'>OCI_G</a>            3367 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrGet, ((dvoid *)connection-&gt;svc, OCI_HTYPE_SVCCTX, (dvoid *)&amp;(connection-&gt;session), (ub4 *)0, OCI_ATTR_SESSION, OCI_G(err))); </span>
<span class='curline'><a href='../S/818.html#L3370'>OCI_G</a>            3370 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIContextGetValue, (connection-&gt;session, OCI_G(err), (ub1 *)"NEXT_PING", (ub1)sizeof("NEXT_PING"), (void **)&amp;(connection-&gt;next_pingp)));</span>
<span class='curline'><a href='../S/818.html#L3371'>OCI_G</a>            3371 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3372'>OCI_G</a>            3372 ext/oci8/oci8.c 			php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3378'>OCI_G</a>            3378 ext/oci8/oci8.c 			if (php_oci_ping_init(connection, OCI_G(err) TSRMLS_CC) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3379'>OCI_G</a>            3379 ext/oci8/oci8.c 				php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3385'>OCI_G</a>            3385 ext/oci8/oci8.c 				*(connection-&gt;next_pingp) = timestamp + OCI_G(ping_interval);</span>
<span class='curline'><a href='../S/818.html#L3396'>OCI_G</a>            3396 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;svc, (ub4) OCI_HTYPE_SVCCTX, (ub4 *) &amp;statement_cache_size, 0, (ub4) OCI_ATTR_STMTCACHESIZE, OCI_G(err)));</span>
<span class='curline'><a href='../S/818.html#L3398'>OCI_G</a>            3398 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3399'>OCI_G</a>            3399 ext/oci8/oci8.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/818.html#L3468'>OCI_G</a>            3468 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIContextGetValue, (connection-&gt;session, errh, (ub1 *)"NEXT_PING", (ub1)sizeof("NEXT_PING"), (void **)&amp;next_pingp));</span>
<span class='curline'><a href='../S/818.html#L3469'>OCI_G</a>            3469 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3470'>OCI_G</a>            3470 ext/oci8/oci8.c 		return OCI_G(errcode);</span>
<span class='curline'><a href='../S/818.html#L3475'>OCI_G</a>            3475 ext/oci8/oci8.c 		PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIMemoryAlloc, (connection-&gt;session, errh, (void **)&amp;next_pingp, OCI_DURATION_SESSION, sizeof(time_t), OCI_MEMORY_CLEARED));</span>
<span class='curline'><a href='../S/818.html#L3476'>OCI_G</a>            3476 ext/oci8/oci8.c 		if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3477'>OCI_G</a>            3477 ext/oci8/oci8.c 			return OCI_G(errcode);</span>
<span class='curline'><a href='../S/818.html#L3481'>OCI_G</a>            3481 ext/oci8/oci8.c 	if (OCI_G(ping_interval) &gt;= 0) {</span>
<span class='curline'><a href='../S/818.html#L3483'>OCI_G</a>            3483 ext/oci8/oci8.c 		*next_pingp = timestamp + OCI_G(ping_interval);</span>
<span class='curline'><a href='../S/818.html#L3489'>OCI_G</a>            3489 ext/oci8/oci8.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIContextSetValue, (connection-&gt;session, errh, OCI_DURATION_SESSION, (ub1 *)"NEXT_PING", (ub1)sizeof("NEXT_PING"), next_pingp));</span>
<span class='curline'><a href='../S/818.html#L3490'>OCI_G</a>            3490 ext/oci8/oci8.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/818.html#L3492'>OCI_G</a>            3492 ext/oci8/oci8.c 		return OCI_G(errcode);</span>
<span class='curline'><a href='../S/820.html#L1559'>OCI_G</a>            1559 ext/oci8/oci8_interface.c 	if (OCI_G(old_oci_close_semantics)) {</span>
<span class='curline'><a href='../S/820.html#L1644'>OCI_G</a>            1644 ext/oci8/oci8_interface.c 		errh = OCI_G(err);</span>
<span class='curline'><a href='../S/820.html#L1645'>OCI_G</a>            1645 ext/oci8/oci8_interface.c 		errcode = OCI_G(errcode);</span>
<span class='curline'><a href='../S/820.html#L1803'>OCI_G</a>            1803 ext/oci8/oci8_interface.c 	if (OCI_G(edition)) {</span>
<span class='curline'><a href='../S/820.html#L1804'>OCI_G</a>            1804 ext/oci8/oci8_interface.c 		efree(OCI_G(edition));</span>
<span class='curline'><a href='../S/820.html#L1808'>OCI_G</a>            1808 ext/oci8/oci8_interface.c 		OCI_G(edition) = (char *)safe_emalloc(edition_len+1, sizeof(char), 0);</span>
<span class='curline'><a href='../S/820.html#L1809'>OCI_G</a>            1809 ext/oci8/oci8_interface.c 		memcpy(OCI_G(edition), edition, edition_len);</span>
<span class='curline'><a href='../S/820.html#L1810'>OCI_G</a>            1810 ext/oci8/oci8_interface.c 		OCI_G(edition)[edition_len] = '\0';</span>
<span class='curline'><a href='../S/820.html#L1812'>OCI_G</a>            1812 ext/oci8/oci8_interface.c 		OCI_G(edition) = NULL;</span>
<span class='curline'><a href='../S/820.html#L1936'>OCI_G</a>            1936 ext/oci8/oci8_interface.c 	PHP_OCI_CALL_RETURN(OCI_G(errcode), OCIAttrSet, ((dvoid *) connection-&gt;session, (ub4) OCI_HTYPE_SESSION, (dvoid *) dbop_name, (ub4) dbop_name_len, (ub4) OCI_ATTR_DBOP, OCI_G(err)));</span>
<span class='curline'><a href='../S/820.html#L1938'>OCI_G</a>            1938 ext/oci8/oci8_interface.c 	if (OCI_G(errcode) != OCI_SUCCESS) {</span>
<span class='curline'><a href='../S/820.html#L1939'>OCI_G</a>            1939 ext/oci8/oci8_interface.c 		php_oci_error(OCI_G(err), OCI_G(errcode) TSRMLS_CC);</span>
<span class='curline'><a href='../S/821.html#L79'>OCI_G</a>              79 ext/oci8/oci8_lob.c 		OCI_G(errcode) = php_oci_error(OCI_G(err), errstatus TSRMLS_CC);</span>
<span class='curline'><a href='../S/821.html#L80'>OCI_G</a>              80 ext/oci8/oci8_lob.c 		PHP_OCI_HANDLE_ERROR(connection, OCI_G(errcode));</span>
<span class='curline'><a href='../S/821.html#L84'>OCI_G</a>              84 ext/oci8/oci8_lob.c 		OCI_G(errcode) = 0; /* retain backwards compat with OCI8 1.4 */</span>
<span class='curline'><a href='../S/822.html#L111'>OCI_G</a>             111 ext/oci8/oci8_statement.c 	if (OCI_G(default_prefetch) &gt;= 0) {</span>
<span class='curline'><a href='../S/822.html#L112'>OCI_G</a>             112 ext/oci8/oci8_statement.c 		php_oci_statement_set_prefetch(statement, (ub4)OCI_G(default_prefetch) TSRMLS_CC);</span>
<span class='curline'><a href='../S/822.html#L119'>OCI_G</a>             119 ext/oci8/oci8_statement.c 	OCI_G(num_statements)++;</span>
<span class='curline'><a href='../S/822.html#L176'>OCI_G</a>             176 ext/oci8/oci8_statement.c 		OCI_G(num_statements)++;</span>
<span class='curline'><a href='../S/822.html#L900'>OCI_G</a>             900 ext/oci8/oci8_statement.c 	OCI_G(num_statements)--;</span>
<span class='curline'><a href='../S/824.html#L294'>OCI_G</a>             294 ext/oci8/php_oci8_int.h 		OCI_G(in_call) = 1;												\</span>
<span class='curline'><a href='../S/824.html#L296'>OCI_G</a>             296 ext/oci8/php_oci8_int.h 		OCI_G(in_call) = 0;												\</span>
<span class='curline'><a href='../S/824.html#L301'>OCI_G</a>             301 ext/oci8/php_oci8_int.h 		OCI_G(in_call) = 1;												\</span>
<span class='curline'><a href='../S/824.html#L303'>OCI_G</a>             303 ext/oci8/php_oci8_int.h 		OCI_G(in_call) = 0;												\</span>
</pre>
</body>
</html>
