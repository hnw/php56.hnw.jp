<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>caching</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1063.html#L1489'>caching</a>          1489 ext/spl/spl_iterators.c 			intern-&gt;u.caching.flags |= flags &amp; CIT_PUBLIC;</span>
<span class='curline'><a href='../S/1063.html#L1490'>caching</a>          1490 ext/spl/spl_iterators.c 			MAKE_STD_ZVAL(intern-&gt;u.caching.zcache);</span>
<span class='curline'><a href='../S/1063.html#L1491'>caching</a>          1491 ext/spl/spl_iterators.c 			array_init(intern-&gt;u.caching.zcache);</span>
<span class='curline'><a href='../S/1063.html#L1670'>caching</a>          1670 ext/spl/spl_iterators.c 		if (intern-&gt;u.caching.zstr) {</span>
<span class='curline'><a href='../S/1063.html#L1671'>caching</a>          1671 ext/spl/spl_iterators.c 			zval_ptr_dtor(&amp;intern-&gt;u.caching.zstr);</span>
<span class='curline'><a href='../S/1063.html#L1672'>caching</a>          1672 ext/spl/spl_iterators.c 			intern-&gt;u.caching.zstr = NULL;</span>
<span class='curline'><a href='../S/1063.html#L1674'>caching</a>          1674 ext/spl/spl_iterators.c 		if (intern-&gt;u.caching.zchildren) {</span>
<span class='curline'><a href='../S/1063.html#L1675'>caching</a>          1675 ext/spl/spl_iterators.c 			zval_ptr_dtor(&amp;intern-&gt;u.caching.zchildren);</span>
<span class='curline'><a href='../S/1063.html#L1676'>caching</a>          1676 ext/spl/spl_iterators.c 			intern-&gt;u.caching.zchildren = NULL;</span>
<span class='curline'><a href='../S/1063.html#L2366'>caching</a>          2366 ext/spl/spl_iterators.c 		if (object-&gt;u.caching.zcache) {</span>
<span class='curline'><a href='../S/1063.html#L2367'>caching</a>          2367 ext/spl/spl_iterators.c 			zval_ptr_dtor(&amp;object-&gt;u.caching.zcache);</span>
<span class='curline'><a href='../S/1063.html#L2368'>caching</a>          2368 ext/spl/spl_iterators.c 			object-&gt;u.caching.zcache = NULL;</span>
<span class='curline'><a href='../S/1063.html#L2680'>caching</a>          2680 ext/spl/spl_iterators.c 	return intern-&gt;u.caching.flags &amp; CIT_VALID ? SUCCESS : FAILURE;</span>
<span class='curline'><a href='../S/1063.html#L2691'>caching</a>          2691 ext/spl/spl_iterators.c 		intern-&gt;u.caching.flags |= CIT_VALID;</span>
<span class='curline'><a href='../S/1063.html#L2693'>caching</a>          2693 ext/spl/spl_iterators.c 		if (intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE) {</span>
<span class='curline'><a href='../S/1063.html#L2700'>caching</a>          2700 ext/spl/spl_iterators.c 			array_set_zval_key(HASH_OF(intern-&gt;u.caching.zcache), key, zcacheval);</span>
<span class='curline'><a href='../S/1063.html#L2712'>caching</a>          2712 ext/spl/spl_iterators.c 				if (intern-&gt;u.caching.flags &amp; CIT_CATCH_GET_CHILD) {</span>
<span class='curline'><a href='../S/1063.html#L2724'>caching</a>          2724 ext/spl/spl_iterators.c 						if (intern-&gt;u.caching.flags &amp; CIT_CATCH_GET_CHILD) {</span>
<span class='curline'><a href='../S/1063.html#L2732'>caching</a>          2732 ext/spl/spl_iterators.c 						ZVAL_LONG(&amp;zflags, intern-&gt;u.caching.flags &amp; CIT_PUBLIC);</span>
<span class='curline'><a href='../S/1063.html#L2733'>caching</a>          2733 ext/spl/spl_iterators.c 						spl_instantiate_arg_ex2(spl_ce_RecursiveCachingIterator, &amp;intern-&gt;u.caching.zchildren, 1, zchildren, &amp;zflags TSRMLS_CC);</span>
<span class='curline'><a href='../S/1063.html#L2739'>caching</a>          2739 ext/spl/spl_iterators.c 					if (intern-&gt;u.caching.flags &amp; CIT_CATCH_GET_CHILD) {</span>
<span class='curline'><a href='../S/1063.html#L2747'>caching</a>          2747 ext/spl/spl_iterators.c 		if (intern-&gt;u.caching.flags &amp; (CIT_TOSTRING_USE_INNER|CIT_CALL_TOSTRING)) {</span>
<span class='curline'><a href='../S/1063.html#L2750'>caching</a>          2750 ext/spl/spl_iterators.c 			ALLOC_ZVAL(intern-&gt;u.caching.zstr);</span>
<span class='curline'><a href='../S/1063.html#L2751'>caching</a>          2751 ext/spl/spl_iterators.c 			if (intern-&gt;u.caching.flags &amp; CIT_TOSTRING_USE_INNER) {</span>
<span class='curline'><a href='../S/1063.html#L2752'>caching</a>          2752 ext/spl/spl_iterators.c 				*intern-&gt;u.caching.zstr = *intern-&gt;inner.zobject;</span>
<span class='curline'><a href='../S/1063.html#L2754'>caching</a>          2754 ext/spl/spl_iterators.c 				*intern-&gt;u.caching.zstr = *intern-&gt;current.data;</span>
<span class='curline'><a href='../S/1063.html#L2756'>caching</a>          2756 ext/spl/spl_iterators.c 			zend_make_printable_zval(intern-&gt;u.caching.zstr, &amp;expr_copy, &amp;use_copy);</span>
<span class='curline'><a href='../S/1063.html#L2758'>caching</a>          2758 ext/spl/spl_iterators.c 				*intern-&gt;u.caching.zstr = expr_copy;</span>
<span class='curline'><a href='../S/1063.html#L2759'>caching</a>          2759 ext/spl/spl_iterators.c 				INIT_PZVAL(intern-&gt;u.caching.zstr);</span>
<span class='curline'><a href='../S/1063.html#L2760'>caching</a>          2760 ext/spl/spl_iterators.c 				zval_copy_ctor(intern-&gt;u.caching.zstr);</span>
<span class='curline'><a href='../S/1063.html#L2763'>caching</a>          2763 ext/spl/spl_iterators.c 				INIT_PZVAL(intern-&gt;u.caching.zstr);</span>
<span class='curline'><a href='../S/1063.html#L2764'>caching</a>          2764 ext/spl/spl_iterators.c 				zval_copy_ctor(intern-&gt;u.caching.zstr);</span>
<span class='curline'><a href='../S/1063.html#L2769'>caching</a>          2769 ext/spl/spl_iterators.c 		intern-&gt;u.caching.flags &amp;= ~CIT_VALID;</span>
<span class='curline'><a href='../S/1063.html#L2776'>caching</a>          2776 ext/spl/spl_iterators.c 	zend_hash_clean(HASH_OF(intern-&gt;u.caching.zcache));</span>
<span class='curline'><a href='../S/1063.html#L2855'>caching</a>          2855 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; (CIT_CALL_TOSTRING|CIT_TOSTRING_USE_KEY|CIT_TOSTRING_USE_CURRENT|CIT_TOSTRING_USE_INNER)))	{</span>
<span class='curline'><a href='../S/1063.html#L2859'>caching</a>          2859 ext/spl/spl_iterators.c 	if (intern-&gt;u.caching.flags &amp; CIT_TOSTRING_USE_KEY) {</span>
<span class='curline'><a href='../S/1063.html#L2863'>caching</a>          2863 ext/spl/spl_iterators.c 	} else if (intern-&gt;u.caching.flags &amp; CIT_TOSTRING_USE_CURRENT) {</span>
<span class='curline'><a href='../S/1063.html#L2868'>caching</a>          2868 ext/spl/spl_iterators.c 	if (intern-&gt;u.caching.zstr) {</span>
<span class='curline'><a href='../S/1063.html#L2869'>caching</a>          2869 ext/spl/spl_iterators.c 		RETURN_STRINGL(Z_STRVAL_P(intern-&gt;u.caching.zstr), Z_STRLEN_P(intern-&gt;u.caching.zstr), 1);</span>
<span class='curline'><a href='../S/1063.html#L2886'>caching</a>          2886 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE))	{</span>
<span class='curline'><a href='../S/1063.html#L2896'>caching</a>          2896 ext/spl/spl_iterators.c 	zend_symtable_update(HASH_OF(intern-&gt;u.caching.zcache), arKey, nKeyLength+1, &amp;value, sizeof(value), NULL);</span>
<span class='curline'><a href='../S/1063.html#L2911'>caching</a>          2911 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE))	{</span>
<span class='curline'><a href='../S/1063.html#L2920'>caching</a>          2920 ext/spl/spl_iterators.c 	if (zend_symtable_find(HASH_OF(intern-&gt;u.caching.zcache), arKey, nKeyLength+1, (void**)&amp;value) == FAILURE) {</span>
<span class='curline'><a href='../S/1063.html#L2939'>caching</a>          2939 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE))	{</span>
<span class='curline'><a href='../S/1063.html#L2948'>caching</a>          2948 ext/spl/spl_iterators.c 	zend_symtable_del(HASH_OF(intern-&gt;u.caching.zcache), arKey, nKeyLength+1);</span>
<span class='curline'><a href='../S/1063.html#L2962'>caching</a>          2962 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE))	{</span>
<span class='curline'><a href='../S/1063.html#L2971'>caching</a>          2971 ext/spl/spl_iterators.c 	RETURN_BOOL(zend_symtable_exists(HASH_OF(intern-&gt;u.caching.zcache), arKey, nKeyLength+1));</span>
<span class='curline'><a href='../S/1063.html#L2987'>caching</a>          2987 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE))	{</span>
<span class='curline'><a href='../S/1063.html#L2992'>caching</a>          2992 ext/spl/spl_iterators.c 	RETURN_ZVAL(intern-&gt;u.caching.zcache, 1, 0);</span>
<span class='curline'><a href='../S/1063.html#L3008'>caching</a>          3008 ext/spl/spl_iterators.c 	RETURN_LONG(intern-&gt;u.caching.flags);</span>
<span class='curline'><a href='../S/1063.html#L3029'>caching</a>          3029 ext/spl/spl_iterators.c 	if ((intern-&gt;u.caching.flags &amp; CIT_CALL_TOSTRING) != 0 &amp;&amp; (flags &amp; CIT_CALL_TOSTRING) == 0) {</span>
<span class='curline'><a href='../S/1063.html#L3033'>caching</a>          3033 ext/spl/spl_iterators.c 	if ((intern-&gt;u.caching.flags &amp; CIT_TOSTRING_USE_INNER) != 0 &amp;&amp; (flags &amp; CIT_TOSTRING_USE_INNER) == 0) {</span>
<span class='curline'><a href='../S/1063.html#L3037'>caching</a>          3037 ext/spl/spl_iterators.c 	if ((flags &amp; CIT_FULL_CACHE) != 0 &amp;&amp; (intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE) == 0) {</span>
<span class='curline'><a href='../S/1063.html#L3039'>caching</a>          3039 ext/spl/spl_iterators.c 		zend_hash_clean(HASH_OF(intern-&gt;u.caching.zcache));</span>
<span class='curline'><a href='../S/1063.html#L3041'>caching</a>          3041 ext/spl/spl_iterators.c 	intern-&gt;u.caching.flags = (intern-&gt;u.caching.flags &amp; ~CIT_PUBLIC) | (flags &amp; CIT_PUBLIC);</span>
<span class='curline'><a href='../S/1063.html#L3057'>caching</a>          3057 ext/spl/spl_iterators.c 	if (!(intern-&gt;u.caching.flags &amp; CIT_FULL_CACHE))	{</span>
<span class='curline'><a href='../S/1063.html#L3062'>caching</a>          3062 ext/spl/spl_iterators.c 	RETURN_LONG(zend_hash_num_elements(HASH_OF(intern-&gt;u.caching.zcache)));</span>
<span class='curline'><a href='../S/1063.html#L3124'>caching</a>          3124 ext/spl/spl_iterators.c 	RETURN_BOOL(intern-&gt;u.caching.zchildren);</span>
<span class='curline'><a href='../S/1063.html#L3139'>caching</a>          3139 ext/spl/spl_iterators.c 	if (intern-&gt;u.caching.zchildren) {</span>
<span class='curline'><a href='../S/1063.html#L3140'>caching</a>          3140 ext/spl/spl_iterators.c 		RETURN_ZVAL(intern-&gt;u.caching.zchildren, 1, 0);</span>
<span class='curline'><a href='../S/1064.html#L150'>caching</a>           150 ext/spl/spl_iterators.h 		} caching;</span>
</pre>
</body>
</html>
