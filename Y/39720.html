<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ubuf</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/178.html#L74'>ubuf</a>               74 ext/fileinfo/libmagic/ascmagic.c 	unichar *ubuf = NULL;</span>
<span class='curline'><a href='../S/178.html#L88'>ubuf</a>               88 ext/fileinfo/libmagic/ascmagic.c 	if (file_encoding(ms, buf, nbytes, &amp;ubuf, &amp;ulen, &amp;code, &amp;code_mime,</span>
<span class='curline'><a href='../S/178.html#L92'>ubuf</a>               92 ext/fileinfo/libmagic/ascmagic.c 		rv = file_ascmagic_with_encoding(ms, buf, nbytes, ubuf, ulen, code,</span>
<span class='curline'><a href='../S/178.html#L95'>ubuf</a>               95 ext/fileinfo/libmagic/ascmagic.c 	free(ubuf);</span>
<span class='curline'><a href='../S/178.html#L102'>ubuf</a>              102 ext/fileinfo/libmagic/ascmagic.c     size_t nbytes, unichar *ubuf, size_t ulen, const char *code,</span>
<span class='curline'><a href='../S/178.html#L146'>ubuf</a>              146 ext/fileinfo/libmagic/ascmagic.c 		if ((utf8_end = encode_utf8(utf8_buf, mlen, ubuf, ulen))</span>
<span class='curline'><a href='../S/178.html#L156'>ubuf</a>              156 ext/fileinfo/libmagic/ascmagic.c 		if (ubuf[i] == '\n') {</span>
<span class='curline'><a href='../S/178.html#L165'>ubuf</a>              165 ext/fileinfo/libmagic/ascmagic.c 		seen_cr = (ubuf[i] == '\r');</span>
<span class='curline'><a href='../S/178.html#L169'>ubuf</a>              169 ext/fileinfo/libmagic/ascmagic.c 		if (ubuf[i] == 0x85) { /* X3.64/ECMA-43 "next line" character */</span>
<span class='curline'><a href='../S/178.html#L178'>ubuf</a>              178 ext/fileinfo/libmagic/ascmagic.c 		if (ubuf[i] == '\033')</span>
<span class='curline'><a href='../S/178.html#L180'>ubuf</a>              180 ext/fileinfo/libmagic/ascmagic.c 		if (ubuf[i] == '\b')</span>
<span class='curline'><a href='../S/178.html#L311'>ubuf</a>              311 ext/fileinfo/libmagic/ascmagic.c encode_utf8(unsigned char *buf, size_t len, unichar *ubuf, size_t ulen)</span>
<span class='curline'><a href='../S/178.html#L317'>ubuf</a>              317 ext/fileinfo/libmagic/ascmagic.c 		if (ubuf[i] &lt;= 0x7f) {</span>
<span class='curline'><a href='../S/178.html#L320'>ubuf</a>              320 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)ubuf[i];</span>
<span class='curline'><a href='../S/178.html#L321'>ubuf</a>              321 ext/fileinfo/libmagic/ascmagic.c 		} else if (ubuf[i] &lt;= 0x7ff) {</span>
<span class='curline'><a href='../S/178.html#L324'>ubuf</a>              324 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &gt;&gt; 6) + 0xc0);</span>
<span class='curline'><a href='../S/178.html#L325'>ubuf</a>              325 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L326'>ubuf</a>              326 ext/fileinfo/libmagic/ascmagic.c 		} else if (ubuf[i] &lt;= 0xffff) {</span>
<span class='curline'><a href='../S/178.html#L329'>ubuf</a>              329 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &gt;&gt; 12) + 0xe0);</span>
<span class='curline'><a href='../S/178.html#L330'>ubuf</a>              330 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 6) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L331'>ubuf</a>              331 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L332'>ubuf</a>              332 ext/fileinfo/libmagic/ascmagic.c 		} else if (ubuf[i] &lt;= 0x1fffff) {</span>
<span class='curline'><a href='../S/178.html#L335'>ubuf</a>              335 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &gt;&gt; 18) + 0xf0);</span>
<span class='curline'><a href='../S/178.html#L336'>ubuf</a>              336 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 12) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L337'>ubuf</a>              337 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt;  6) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L338'>ubuf</a>              338 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L339'>ubuf</a>              339 ext/fileinfo/libmagic/ascmagic.c 		} else if (ubuf[i] &lt;= 0x3ffffff) {</span>
<span class='curline'><a href='../S/178.html#L342'>ubuf</a>              342 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &gt;&gt; 24) + 0xf8);</span>
<span class='curline'><a href='../S/178.html#L343'>ubuf</a>              343 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 18) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L344'>ubuf</a>              344 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 12) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L345'>ubuf</a>              345 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt;  6) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L346'>ubuf</a>              346 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L347'>ubuf</a>              347 ext/fileinfo/libmagic/ascmagic.c 		} else if (ubuf[i] &lt;= 0x7fffffff) {</span>
<span class='curline'><a href='../S/178.html#L350'>ubuf</a>              350 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &gt;&gt; 30) + 0xfc);</span>
<span class='curline'><a href='../S/178.html#L351'>ubuf</a>              351 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 24) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L352'>ubuf</a>              352 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 18) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L353'>ubuf</a>              353 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt; 12) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L354'>ubuf</a>              354 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)(((ubuf[i] &gt;&gt;  6) &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/178.html#L355'>ubuf</a>              355 ext/fileinfo/libmagic/ascmagic.c 			*buf++ = (unsigned char)((ubuf[i] &amp; 0x3f) + 0x80);</span>
<span class='curline'><a href='../S/185.html#L68'>ubuf</a>               68 ext/fileinfo/libmagic/encoding.c file_encoding(struct magic_set *ms, const unsigned char *buf, size_t nbytes, unichar **ubuf, size_t *ulen, const char **code, const char **code_mime, const char **type)</span>
<span class='curline'><a href='../S/185.html#L79'>ubuf</a>               79 ext/fileinfo/libmagic/encoding.c 	mlen = (nbytes + 1) * sizeof((*ubuf)[0]);</span>
<span class='curline'><a href='../S/185.html#L80'>ubuf</a>               80 ext/fileinfo/libmagic/encoding.c 	if ((*ubuf = CAST(unichar *, calloc((size_t)1, mlen))) == NULL) {</span>
<span class='curline'><a href='../S/185.html#L90'>ubuf</a>               90 ext/fileinfo/libmagic/encoding.c 	if (looks_ascii(buf, nbytes, *ubuf, ulen)) {</span>
<span class='curline'><a href='../S/185.html#L94'>ubuf</a>               94 ext/fileinfo/libmagic/encoding.c 	} else if (looks_utf8_with_BOM(buf, nbytes, *ubuf, ulen) &gt; 0) {</span>
<span class='curline'><a href='../S/185.html#L98'>ubuf</a>               98 ext/fileinfo/libmagic/encoding.c 	} else if (file_looks_utf8(buf, nbytes, *ubuf, ulen) &gt; 1) {</span>
<span class='curline'><a href='../S/185.html#L103'>ubuf</a>              103 ext/fileinfo/libmagic/encoding.c 	} else if ((ucs_type = looks_ucs16(buf, nbytes, *ubuf, ulen)) != 0) {</span>
<span class='curline'><a href='../S/185.html#L112'>ubuf</a>              112 ext/fileinfo/libmagic/encoding.c 	} else if (looks_latin1(buf, nbytes, *ubuf, ulen)) {</span>
<span class='curline'><a href='../S/185.html#L116'>ubuf</a>              116 ext/fileinfo/libmagic/encoding.c 	} else if (looks_extended(buf, nbytes, *ubuf, ulen)) {</span>
<span class='curline'><a href='../S/185.html#L123'>ubuf</a>              123 ext/fileinfo/libmagic/encoding.c 		if (looks_ascii(nbuf, nbytes, *ubuf, ulen)) {</span>
<span class='curline'><a href='../S/185.html#L127'>ubuf</a>              127 ext/fileinfo/libmagic/encoding.c 		} else if (looks_latin1(nbuf, nbytes, *ubuf, ulen)) {</span>
<span class='curline'><a href='../S/185.html#L225'>ubuf</a>              225 ext/fileinfo/libmagic/encoding.c looks_ascii(const unsigned char *buf, size_t nbytes, unichar *ubuf,</span>
<span class='curline'><a href='../S/185.html#L238'>ubuf</a>              238 ext/fileinfo/libmagic/encoding.c 		ubuf[(*ulen)++] = buf[i];</span>
<span class='curline'><a href='../S/185.html#L245'>ubuf</a>              245 ext/fileinfo/libmagic/encoding.c looks_latin1(const unsigned char *buf, size_t nbytes, unichar *ubuf, size_t *ulen)</span>
<span class='curline'><a href='../S/185.html#L257'>ubuf</a>              257 ext/fileinfo/libmagic/encoding.c 		ubuf[(*ulen)++] = buf[i];</span>
<span class='curline'><a href='../S/185.html#L264'>ubuf</a>              264 ext/fileinfo/libmagic/encoding.c looks_extended(const unsigned char *buf, size_t nbytes, unichar *ubuf,</span>
<span class='curline'><a href='../S/185.html#L277'>ubuf</a>              277 ext/fileinfo/libmagic/encoding.c 		ubuf[(*ulen)++] = buf[i];</span>
<span class='curline'><a href='../S/185.html#L295'>ubuf</a>              295 ext/fileinfo/libmagic/encoding.c file_looks_utf8(const unsigned char *buf, size_t nbytes, unichar *ubuf, size_t *ulen)</span>
<span class='curline'><a href='../S/185.html#L302'>ubuf</a>              302 ext/fileinfo/libmagic/encoding.c 	if (ubuf)</span>
<span class='curline'><a href='../S/185.html#L315'>ubuf</a>              315 ext/fileinfo/libmagic/encoding.c 			if (ubuf)</span>
<span class='curline'><a href='../S/185.html#L316'>ubuf</a>              316 ext/fileinfo/libmagic/encoding.c 				ubuf[(*ulen)++] = buf[i];</span>
<span class='curline'><a href='../S/185.html#L351'>ubuf</a>              351 ext/fileinfo/libmagic/encoding.c 			if (ubuf)</span>
<span class='curline'><a href='../S/185.html#L352'>ubuf</a>              352 ext/fileinfo/libmagic/encoding.c 				ubuf[(*ulen)++] = c;</span>
<span class='curline'><a href='../S/185.html#L366'>ubuf</a>              366 ext/fileinfo/libmagic/encoding.c looks_utf8_with_BOM(const unsigned char *buf, size_t nbytes, unichar *ubuf,</span>
<span class='curline'><a href='../S/185.html#L370'>ubuf</a>              370 ext/fileinfo/libmagic/encoding.c 		return file_looks_utf8(buf + 3, nbytes - 3, ubuf, ulen);</span>
<span class='curline'><a href='../S/185.html#L376'>ubuf</a>              376 ext/fileinfo/libmagic/encoding.c looks_ucs16(const unsigned char *buf, size_t nbytes, unichar *ubuf,</span>
<span class='curline'><a href='../S/185.html#L398'>ubuf</a>              398 ext/fileinfo/libmagic/encoding.c 			ubuf[(*ulen)++] = buf[i + 1] + 256 * buf[i];</span>
<span class='curline'><a href='../S/185.html#L400'>ubuf</a>              400 ext/fileinfo/libmagic/encoding.c 			ubuf[(*ulen)++] = buf[i] + 256 * buf[i + 1];</span>
<span class='curline'><a href='../S/185.html#L402'>ubuf</a>              402 ext/fileinfo/libmagic/encoding.c 		if (ubuf[*ulen - 1] == 0xfffe)</span>
<span class='curline'><a href='../S/185.html#L404'>ubuf</a>              404 ext/fileinfo/libmagic/encoding.c 		if (ubuf[*ulen - 1] &lt; 128 &amp;&amp;</span>
<span class='curline'><a href='../S/185.html#L405'>ubuf</a>              405 ext/fileinfo/libmagic/encoding.c 		    text_chars[(size_t)ubuf[*ulen - 1]] != T)</span>
<span class='curline'><a href='../S/188.html#L169'>ubuf</a>              169 ext/fileinfo/libmagic/funcs.c 	const unsigned char *ubuf = CAST(const unsigned char *, buf);</span>
<span class='curline'><a href='../S/188.html#L188'>ubuf</a>              188 ext/fileinfo/libmagic/funcs.c 		looks_text = file_encoding(ms, ubuf, nb, &amp;u8buf, &amp;ulen,</span>
<span class='curline'><a href='../S/188.html#L207'>ubuf</a>              207 ext/fileinfo/libmagic/funcs.c 		if ((m = file_zmagic(ms, stream, inname, ubuf, nb)) != 0) {</span>
<span class='curline'><a href='../S/188.html#L215'>ubuf</a>              215 ext/fileinfo/libmagic/funcs.c 		if ((m = file_is_tar(ms, ubuf, nb)) != 0) {</span>
<span class='curline'><a href='../S/188.html#L226'>ubuf</a>              226 ext/fileinfo/libmagic/funcs.c 			if ((m = file_trycdf(ms, fd, ubuf, nb)) != 0) {</span>
<span class='curline'><a href='../S/188.html#L236'>ubuf</a>              236 ext/fileinfo/libmagic/funcs.c 		if ((m = file_softmagic(ms, ubuf, nb, 0, BINTEST,</span>
<span class='curline'><a href='../S/188.html#L252'>ubuf</a>              252 ext/fileinfo/libmagic/funcs.c 				if ((m = file_tryelf(ms, fd, ubuf, nb)) != 0)</span>
<span class='curline'><a href='../S/188.html#L264'>ubuf</a>              264 ext/fileinfo/libmagic/funcs.c 		if ((m = file_ascmagic(ms, ubuf, nb, looks_text)) != 0) {</span>
<span class='curline'><a href='../S/188.html#L273'>ubuf</a>              273 ext/fileinfo/libmagic/funcs.c 				if ((m = file_ascmagic_with_encoding( ms, ubuf,</span>
<span class='curline'><a href='../S/1006.html#L1152'>ubuf</a>             1152 ext/session/session.c static inline void strcpy_gmt(char *ubuf, time_t *when) /* {{{ */</span>
<span class='curline'><a href='../S/1006.html#L1161'>ubuf</a>             1161 ext/session/session.c 		ubuf[0] = '\0';</span>
<span class='curline'><a href='../S/1006.html#L1170'>ubuf</a>             1170 ext/session/session.c 	memcpy(ubuf, buf, n);</span>
<span class='curline'><a href='../S/1006.html#L1171'>ubuf</a>             1171 ext/session/session.c 	ubuf[n] = '\0';</span>
</pre>
</body>
</html>
