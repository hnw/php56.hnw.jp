<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>tzi</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/73.html#L102'>tzi</a>               102 ext/date/lib/timelib.h void timelib_update_ts(timelib_time* time, timelib_tzinfo* tzi);</span>
<span class='curline'><a href='../S/77.html#L373'>tzi</a>               373 ext/date/lib/tm2unixtime.c static timelib_sll do_adjust_timezone(timelib_time *tz, timelib_tzinfo *tzi)</span>
<span class='curline'><a href='../S/77.html#L394'>tzi</a>               394 ext/date/lib/tm2unixtime.c 			tzi = tz-&gt;tz_info;</span>
<span class='curline'><a href='../S/77.html#L399'>tzi</a>               399 ext/date/lib/tm2unixtime.c 			if (tzi) {</span>
<span class='curline'><a href='../S/77.html#L405'>tzi</a>               405 ext/date/lib/tm2unixtime.c 				before = timelib_get_time_zone_info(tz-&gt;sse, tzi);</span>
<span class='curline'><a href='../S/77.html#L406'>tzi</a>               406 ext/date/lib/tm2unixtime.c 				after = timelib_get_time_zone_info(tz-&gt;sse - before-&gt;offset, tzi);</span>
<span class='curline'><a href='../S/77.html#L407'>tzi</a>               407 ext/date/lib/tm2unixtime.c 				timelib_set_timezone(tz, tzi);</span>
<span class='curline'><a href='../S/77.html#L425'>tzi</a>               425 ext/date/lib/tm2unixtime.c 					gmt_offset = timelib_get_time_zone_info(tz-&gt;sse + tmp, tzi);</span>
<span class='curline'><a href='../S/77.html#L441'>tzi</a>               441 ext/date/lib/tm2unixtime.c void timelib_update_ts(timelib_time* time, timelib_tzinfo* tzi)</span>
<span class='curline'><a href='../S/77.html#L454'>tzi</a>               454 ext/date/lib/tm2unixtime.c 	res += do_adjust_timezone(time, tzi);</span>
<span class='curline'><a href='../S/79.html#L690'>tzi</a>               690 ext/date/php_date.c 	timelib_tzinfo **tzi = (timelib_tzinfo **)tzinfo;</span>
<span class='curline'><a href='../S/79.html#L692'>tzi</a>               692 ext/date/php_date.c 	timelib_tzinfo_dtor(*tzi);</span>
<span class='curline'><a href='../S/79.html#L915'>tzi</a>               915 ext/date/php_date.c 	timelib_tzinfo *tzi, **ptzi;</span>
<span class='curline'><a href='../S/79.html#L926'>tzi</a>               926 ext/date/php_date.c 	tzi = timelib_parse_tzfile(formal_tzname, tzdb);</span>
<span class='curline'><a href='../S/79.html#L927'>tzi</a>               927 ext/date/php_date.c 	if (tzi) {</span>
<span class='curline'><a href='../S/79.html#L928'>tzi</a>               928 ext/date/php_date.c 		zend_hash_add(DATEG(tzcache), formal_tzname, strlen(formal_tzname) + 1, (void *) &amp;tzi, sizeof(timelib_tzinfo*), NULL);</span>
<span class='curline'><a href='../S/79.html#L930'>tzi</a>               930 ext/date/php_date.c 	return tzi;</span>
<span class='curline'><a href='../S/79.html#L998'>tzi</a>               998 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1001'>tzi</a>              1001 ext/date/php_date.c 	tzi = php_date_parse_tzfile(tz, DATE_TIMEZONEDB TSRMLS_CC);</span>
<span class='curline'><a href='../S/79.html#L1002'>tzi</a>              1002 ext/date/php_date.c 	if (! tzi) {</span>
<span class='curline'><a href='../S/79.html#L1005'>tzi</a>              1005 ext/date/php_date.c 	return tzi;</span>
<span class='curline'><a href='../S/79.html#L1248'>tzi</a>              1248 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1254'>tzi</a>              1254 ext/date/php_date.c 		tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1255'>tzi</a>              1255 ext/date/php_date.c 		t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1259'>tzi</a>              1259 ext/date/php_date.c 		tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1275'>tzi</a>              1275 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1283'>tzi</a>              1283 ext/date/php_date.c 		tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1284'>tzi</a>              1284 ext/date/php_date.c 		t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1288'>tzi</a>              1288 ext/date/php_date.c 		tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1460'>tzi</a>              1460 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1462'>tzi</a>              1462 ext/date/php_date.c 	tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1471'>tzi</a>              1471 ext/date/php_date.c 		timelib_update_ts(t, tzi);</span>
<span class='curline'><a href='../S/79.html#L1472'>tzi</a>              1472 ext/date/php_date.c 		now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1480'>tzi</a>              1480 ext/date/php_date.c 		now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1496'>tzi</a>              1496 ext/date/php_date.c 	timelib_update_ts(t, tzi);</span>
<span class='curline'><a href='../S/79.html#L1515'>tzi</a>              1515 ext/date/php_date.c 	timelib_tzinfo *tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1527'>tzi</a>              1527 ext/date/php_date.c 		tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1528'>tzi</a>              1528 ext/date/php_date.c 		now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1566'>tzi</a>              1566 ext/date/php_date.c 		timelib_update_ts(now, tzi);</span>
<span class='curline'><a href='../S/79.html#L1579'>tzi</a>              1579 ext/date/php_date.c 			tmp_offset = timelib_get_time_zone_info(now-&gt;sse, tzi);</span>
<span class='curline'><a href='../S/79.html#L1646'>tzi</a>              1646 ext/date/php_date.c 	timelib_tzinfo      *tzi;</span>
<span class='curline'><a href='../S/79.html#L1661'>tzi</a>              1661 ext/date/php_date.c 		tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L1664'>tzi</a>              1664 ext/date/php_date.c 		tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1665'>tzi</a>              1665 ext/date/php_date.c 		ts-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1686'>tzi</a>              1686 ext/date/php_date.c 		offset = timelib_get_time_zone_info(timestamp, tzi);</span>
<span class='curline'><a href='../S/79.html#L1761'>tzi</a>              1761 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1768'>tzi</a>              1768 ext/date/php_date.c 	tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1770'>tzi</a>              1770 ext/date/php_date.c 	ts-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L1807'>tzi</a>              1807 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L1814'>tzi</a>              1814 ext/date/php_date.c 	tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L1816'>tzi</a>              1816 ext/date/php_date.c 	ts-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L2310'>tzi</a>              2310 ext/date/php_date.c 			new_obj-&gt;tzi.tz = old_obj-&gt;tzi.tz;</span>
<span class='curline'><a href='../S/79.html#L2313'>tzi</a>              2313 ext/date/php_date.c 			new_obj-&gt;tzi.utc_offset = old_obj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2316'>tzi</a>              2316 ext/date/php_date.c 			new_obj-&gt;tzi.z.utc_offset = old_obj-&gt;tzi.z.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2317'>tzi</a>              2317 ext/date/php_date.c 			new_obj-&gt;tzi.z.dst        = old_obj-&gt;tzi.z.dst;</span>
<span class='curline'><a href='../S/79.html#L2318'>tzi</a>              2318 ext/date/php_date.c 			new_obj-&gt;tzi.z.abbr       = strdup(old_obj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2347'>tzi</a>              2347 ext/date/php_date.c 			ZVAL_STRING(zv, tzobj-&gt;tzi.tz-&gt;name, 1);</span>
<span class='curline'><a href='../S/79.html#L2353'>tzi</a>              2353 ext/date/php_date.c 			tzobj-&gt;tzi.utc_offset &gt; 0 ? '-' : '+',</span>
<span class='curline'><a href='../S/79.html#L2354'>tzi</a>              2354 ext/date/php_date.c 			abs(tzobj-&gt;tzi.utc_offset / 60),</span>
<span class='curline'><a href='../S/79.html#L2355'>tzi</a>              2355 ext/date/php_date.c 			abs((tzobj-&gt;tzi.utc_offset % 60)));</span>
<span class='curline'><a href='../S/79.html#L2361'>tzi</a>              2361 ext/date/php_date.c 			ZVAL_STRING(zv, tzobj-&gt;tzi.z.abbr, 1);</span>
<span class='curline'><a href='../S/79.html#L2512'>tzi</a>              2512 ext/date/php_date.c 		free(intern-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2569'>tzi</a>              2569 ext/date/php_date.c 	timelib_tzinfo *tzi = NULL;</span>
<span class='curline'><a href='../S/79.html#L2605'>tzi</a>              2605 ext/date/php_date.c 				tzi = tzobj-&gt;tzi.tz;</span>
<span class='curline'><a href='../S/79.html#L2608'>tzi</a>              2608 ext/date/php_date.c 				new_offset = tzobj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2611'>tzi</a>              2611 ext/date/php_date.c 				new_offset = tzobj-&gt;tzi.z.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L2612'>tzi</a>              2612 ext/date/php_date.c 				new_dst    = tzobj-&gt;tzi.z.dst;</span>
<span class='curline'><a href='../S/79.html#L2613'>tzi</a>              2613 ext/date/php_date.c 				new_abbr   = strdup(tzobj-&gt;tzi.z.abbr);</span>
<span class='curline'><a href='../S/79.html#L2618'>tzi</a>              2618 ext/date/php_date.c 		tzi = dateobj-&gt;time-&gt;tz_info;</span>
<span class='curline'><a href='../S/79.html#L2620'>tzi</a>              2620 ext/date/php_date.c 		tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L2627'>tzi</a>              2627 ext/date/php_date.c 			now-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L2641'>tzi</a>              2641 ext/date/php_date.c 	timelib_update_ts(dateobj-&gt;time, tzi);</span>
<span class='curline'><a href='../S/79.html#L2813'>tzi</a>              2813 ext/date/php_date.c 	timelib_tzinfo   *tzi;</span>
<span class='curline'><a href='../S/79.html#L2834'>tzi</a>              2834 ext/date/php_date.c 						tzi = php_date_parse_tzfile(Z_STRVAL_PP(z_timezone), DATE_TIMEZONEDB TSRMLS_CC);</span>
<span class='curline'><a href='../S/79.html#L2836'>tzi</a>              2836 ext/date/php_date.c 						if (tzi == NULL) {</span>
<span class='curline'><a href='../S/79.html#L2843'>tzi</a>              2843 ext/date/php_date.c 						tzobj-&gt;tzi.tz = tzi;</span>
<span class='curline'><a href='../S/79.html#L3304'>tzi</a>              3304 ext/date/php_date.c                        tzobj-&gt;tzi.tz = t-&gt;tz_info;</span>
<span class='curline'><a href='../S/79.html#L3307'>tzi</a>              3307 ext/date/php_date.c                        tzobj-&gt;tzi.utc_offset = t-&gt;z;</span>
<span class='curline'><a href='../S/79.html#L3310'>tzi</a>              3310 ext/date/php_date.c                        tzobj-&gt;tzi.z.utc_offset = t-&gt;z;</span>
<span class='curline'><a href='../S/79.html#L3311'>tzi</a>              3311 ext/date/php_date.c                        tzobj-&gt;tzi.z.dst = t-&gt;dst;</span>
<span class='curline'><a href='../S/79.html#L3312'>tzi</a>              3312 ext/date/php_date.c                        tzobj-&gt;tzi.z.abbr = strdup(t-&gt;tz_abbr);</span>
<span class='curline'><a href='../S/79.html#L3353'>tzi</a>              3353 ext/date/php_date.c 			timelib_set_timezone_from_offset(dateobj-&gt;time, tzobj-&gt;tzi.utc_offset);</span>
<span class='curline'><a href='../S/79.html#L3356'>tzi</a>              3356 ext/date/php_date.c 			timelib_set_timezone_from_abbr(dateobj-&gt;time, tzobj-&gt;tzi.z);</span>
<span class='curline'><a href='../S/79.html#L3359'>tzi</a>              3359 ext/date/php_date.c 			timelib_set_timezone(dateobj-&gt;time, tzobj-&gt;tzi.tz);</span>
<span class='curline'><a href='../S/79.html#L3821'>tzi</a>              3821 ext/date/php_date.c 			RETURN_STRING(tzobj-&gt;tzi.tz-&gt;name, 1);</span>
<span class='curline'><a href='../S/79.html#L3825'>tzi</a>              3825 ext/date/php_date.c 			timelib_sll utc_offset = tzobj-&gt;tzi.utc_offset;</span>
<span class='curline'><a href='../S/79.html#L3836'>tzi</a>              3836 ext/date/php_date.c 			RETURN_STRING(tzobj-&gt;tzi.z.abbr, 1);</span>
<span class='curline'><a href='../S/79.html#L3886'>tzi</a>              3886 ext/date/php_date.c 			offset = timelib_get_time_zone_info(dateobj-&gt;time-&gt;sse, tzobj-&gt;tzi.tz);</span>
<span class='curline'><a href='../S/79.html#L3891'>tzi</a>              3891 ext/date/php_date.c 			RETURN_LONG(tzobj-&gt;tzi.utc_offset * -60);</span>
<span class='curline'><a href='../S/79.html#L3894'>tzi</a>              3894 ext/date/php_date.c 			RETURN_LONG((tzobj-&gt;tzi.z.utc_offset - (tzobj-&gt;tzi.z.dst*60)) * -60);</span>
<span class='curline'><a href='../S/79.html#L3924'>tzi</a>              3924 ext/date/php_date.c 		add_assoc_long(element, "offset", tzobj-&gt;tzi.tz-&gt;type[0].offset); \</span>
<span class='curline'><a href='../S/79.html#L3925'>tzi</a>              3925 ext/date/php_date.c 		add_assoc_bool(element, "isdst",  tzobj-&gt;tzi.tz-&gt;type[0].isdst); \</span>
<span class='curline'><a href='../S/79.html#L3926'>tzi</a>              3926 ext/date/php_date.c 		add_assoc_string(element, "abbr", &amp;tzobj-&gt;tzi.tz-&gt;timezone_abbr[tzobj-&gt;tzi.tz-&gt;type[0].abbr_idx], 1); \</span>
<span class='curline'><a href='../S/79.html#L3934'>tzi</a>              3934 ext/date/php_date.c 		add_assoc_long(element, "offset", tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].offset); \</span>
<span class='curline'><a href='../S/79.html#L3935'>tzi</a>              3935 ext/date/php_date.c 		add_assoc_bool(element, "isdst",  tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].isdst); \</span>
<span class='curline'><a href='../S/79.html#L3936'>tzi</a>              3936 ext/date/php_date.c 		add_assoc_string(element, "abbr", &amp;tzobj-&gt;tzi.tz-&gt;timezone_abbr[tzobj-&gt;tzi.tz-&gt;type[tzobj-&gt;tzi.tz-&gt;trans_idx[i]].abbr_idx], 1); \</span>
<span class='curline'><a href='../S/79.html#L3939'>tzi</a>              3939 ext/date/php_date.c #define add_last() add(tzobj-&gt;tzi.tz-&gt;bit32.timecnt - 1, timestamp_begin)</span>
<span class='curline'><a href='../S/79.html#L3950'>tzi</a>              3950 ext/date/php_date.c 		if (tzobj-&gt;tzi.tz-&gt;bit32.timecnt &gt; 0) {</span>
<span class='curline'><a href='../S/79.html#L3952'>tzi</a>              3952 ext/date/php_date.c 				if (tzobj-&gt;tzi.tz-&gt;trans[begin] &gt; timestamp_begin) {</span>
<span class='curline'><a href='../S/79.html#L3962'>tzi</a>              3962 ext/date/php_date.c 			} while (begin &lt; tzobj-&gt;tzi.tz-&gt;bit32.timecnt);</span>
<span class='curline'><a href='../S/79.html#L3967'>tzi</a>              3967 ext/date/php_date.c 		if (tzobj-&gt;tzi.tz-&gt;bit32.timecnt &gt; 0) {</span>
<span class='curline'><a href='../S/79.html#L3973'>tzi</a>              3973 ext/date/php_date.c 		for (i = begin; i &lt; tzobj-&gt;tzi.tz-&gt;bit32.timecnt; ++i) {</span>
<span class='curline'><a href='../S/79.html#L3974'>tzi</a>              3974 ext/date/php_date.c 			if (tzobj-&gt;tzi.tz-&gt;trans[i] &lt; timestamp_end) {</span>
<span class='curline'><a href='../S/79.html#L3975'>tzi</a>              3975 ext/date/php_date.c 				add(i, tzobj-&gt;tzi.tz-&gt;trans[i]);</span>
<span class='curline'><a href='../S/79.html#L4000'>tzi</a>              4000 ext/date/php_date.c 	add_assoc_string(return_value, "country_code", tzobj-&gt;tzi.tz-&gt;location.country_code, 1);</span>
<span class='curline'><a href='../S/79.html#L4001'>tzi</a>              4001 ext/date/php_date.c 	add_assoc_double(return_value, "latitude", tzobj-&gt;tzi.tz-&gt;location.latitude);</span>
<span class='curline'><a href='../S/79.html#L4002'>tzi</a>              4002 ext/date/php_date.c 	add_assoc_double(return_value, "longitude", tzobj-&gt;tzi.tz-&gt;location.longitude);</span>
<span class='curline'><a href='../S/79.html#L4003'>tzi</a>              4003 ext/date/php_date.c 	add_assoc_string(return_value, "comments", tzobj-&gt;tzi.tz-&gt;location.comments, 1);</span>
<span class='curline'><a href='../S/79.html#L4726'>tzi</a>              4726 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L4765'>tzi</a>              4765 ext/date/php_date.c 	tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L4766'>tzi</a>              4766 ext/date/php_date.c 	t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/79.html#L4825'>tzi</a>              4825 ext/date/php_date.c 	timelib_tzinfo *tzi;</span>
<span class='curline'><a href='../S/79.html#L4836'>tzi</a>              4836 ext/date/php_date.c 	tzi = get_timezone_info(TSRMLS_C);</span>
<span class='curline'><a href='../S/79.html#L4837'>tzi</a>              4837 ext/date/php_date.c 	t-&gt;tz_info = tzi;</span>
<span class='curline'><a href='../S/80.html#L147'>tzi</a>               147 ext/date/php_date.h 	} tzi;</span>
</pre>
</body>
</html>
