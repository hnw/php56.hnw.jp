<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ib_query</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/324.html#L155'>ib_query</a>          155 ext/interbase/ibase_query.c static void _php_ibase_free_query(ibase_query *ib_query TSRMLS_DC) /* {{{ */</span>
<span class='curline'><a href='../S/324.html#L159'>ib_query</a>          159 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda) {</span>
<span class='curline'><a href='../S/324.html#L160'>ib_query</a>          160 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_sqlda);</span>
<span class='curline'><a href='../S/324.html#L162'>ib_query</a>          162 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda) {</span>
<span class='curline'><a href='../S/324.html#L163'>ib_query</a>          163 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_sqlda);</span>
<span class='curline'><a href='../S/324.html#L165'>ib_query</a>          165 ext/interbase/ibase_query.c 	if (ib_query-&gt;result != NULL) {</span>
<span class='curline'><a href='../S/324.html#L167'>ib_query</a>          167 ext/interbase/ibase_query.c 		ib_query-&gt;result-&gt;query = NULL;	/* Indicate to result, that query is released */</span>
<span class='curline'><a href='../S/324.html#L169'>ib_query</a>          169 ext/interbase/ibase_query.c 		_php_ibase_free_stmt_handle(ib_query-&gt;link, ib_query-&gt;stmt TSRMLS_CC);</span>
<span class='curline'><a href='../S/324.html#L171'>ib_query</a>          171 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_array) {</span>
<span class='curline'><a href='../S/324.html#L172'>ib_query</a>          172 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_array);</span>
<span class='curline'><a href='../S/324.html#L174'>ib_query</a>          174 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_array) {</span>
<span class='curline'><a href='../S/324.html#L175'>ib_query</a>          175 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_array);</span>
<span class='curline'><a href='../S/324.html#L177'>ib_query</a>          177 ext/interbase/ibase_query.c 	if (ib_query-&gt;query) {</span>
<span class='curline'><a href='../S/324.html#L178'>ib_query</a>          178 ext/interbase/ibase_query.c 		efree(ib_query-&gt;query);</span>
<span class='curline'><a href='../S/324.html#L185'>ib_query</a>          185 ext/interbase/ibase_query.c 	ibase_query *ib_query = (ibase_query *)rsrc-&gt;ptr;</span>
<span class='curline'><a href='../S/324.html#L187'>ib_query</a>          187 ext/interbase/ibase_query.c 	if (ib_query != NULL) {</span>
<span class='curline'><a href='../S/324.html#L189'>ib_query</a>          189 ext/interbase/ibase_query.c 		_php_ibase_free_query(ib_query TSRMLS_CC);</span>
<span class='curline'><a href='../S/324.html#L190'>ib_query</a>          190 ext/interbase/ibase_query.c 		efree(ib_query);</span>
<span class='curline'><a href='../S/324.html#L315'>ib_query</a>          315 ext/interbase/ibase_query.c static int _php_ibase_alloc_query(ibase_query *ib_query, ibase_db_link *link, /* {{{ */</span>
<span class='curline'><a href='../S/324.html#L327'>ib_query</a>          327 ext/interbase/ibase_query.c 	ib_query-&gt;link = link;</span>
<span class='curline'><a href='../S/324.html#L328'>ib_query</a>          328 ext/interbase/ibase_query.c 	ib_query-&gt;trans = trans;</span>
<span class='curline'><a href='../S/324.html#L329'>ib_query</a>          329 ext/interbase/ibase_query.c 	ib_query-&gt;result_res_id = 0;</span>
<span class='curline'><a href='../S/324.html#L330'>ib_query</a>          330 ext/interbase/ibase_query.c 	ib_query-&gt;result = NULL;</span>
<span class='curline'><a href='../S/324.html#L331'>ib_query</a>          331 ext/interbase/ibase_query.c 	ib_query-&gt;stmt = NULL;</span>
<span class='curline'><a href='../S/324.html#L332'>ib_query</a>          332 ext/interbase/ibase_query.c 	ib_query-&gt;in_array = NULL;</span>
<span class='curline'><a href='../S/324.html#L333'>ib_query</a>          333 ext/interbase/ibase_query.c 	ib_query-&gt;out_array = NULL;</span>
<span class='curline'><a href='../S/324.html#L334'>ib_query</a>          334 ext/interbase/ibase_query.c 	ib_query-&gt;dialect = dialect;</span>
<span class='curline'><a href='../S/324.html#L335'>ib_query</a>          335 ext/interbase/ibase_query.c 	ib_query-&gt;query = estrdup(query);</span>
<span class='curline'><a href='../S/324.html#L336'>ib_query</a>          336 ext/interbase/ibase_query.c 	ib_query-&gt;trans_res_id = trans_res_id;</span>
<span class='curline'><a href='../S/324.html#L337'>ib_query</a>          337 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda = NULL;</span>
<span class='curline'><a href='../S/324.html#L338'>ib_query</a>          338 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda = NULL;</span>
<span class='curline'><a href='../S/324.html#L340'>ib_query</a>          340 ext/interbase/ibase_query.c 	if (isc_dsql_allocate_statement(IB_STATUS, &amp;link-&gt;handle, &amp;ib_query-&gt;stmt)) {</span>
<span class='curline'><a href='../S/324.html#L345'>ib_query</a>          345 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda = (XSQLDA *) emalloc(XSQLDA_LENGTH(1));</span>
<span class='curline'><a href='../S/324.html#L346'>ib_query</a>          346 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda-&gt;sqln = 1;</span>
<span class='curline'><a href='../S/324.html#L347'>ib_query</a>          347 ext/interbase/ibase_query.c 	ib_query-&gt;out_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/324.html#L349'>ib_query</a>          349 ext/interbase/ibase_query.c 	if (isc_dsql_prepare(IB_STATUS, &amp;ib_query-&gt;trans-&gt;handle, &amp;ib_query-&gt;stmt,</span>
<span class='curline'><a href='../S/324.html#L350'>ib_query</a>          350 ext/interbase/ibase_query.c 			0, query, dialect, ib_query-&gt;out_sqlda)) {</span>
<span class='curline'><a href='../S/324.html#L356'>ib_query</a>          356 ext/interbase/ibase_query.c 	if (isc_dsql_sql_info(IB_STATUS, &amp;ib_query-&gt;stmt, sizeof(info_type), </span>
<span class='curline'><a href='../S/324.html#L361'>ib_query</a>          361 ext/interbase/ibase_query.c 	ib_query-&gt;statement_type = result[3];	</span>
<span class='curline'><a href='../S/324.html#L364'>ib_query</a>          364 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda-&gt;sqld &gt; ib_query-&gt;out_sqlda-&gt;sqln) {</span>
<span class='curline'><a href='../S/324.html#L365'>ib_query</a>          365 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda = erealloc(ib_query-&gt;out_sqlda, XSQLDA_LENGTH(ib_query-&gt;out_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/324.html#L366'>ib_query</a>          366 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda-&gt;sqln = ib_query-&gt;out_sqlda-&gt;sqld;</span>
<span class='curline'><a href='../S/324.html#L367'>ib_query</a>          367 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/324.html#L368'>ib_query</a>          368 ext/interbase/ibase_query.c 		if (isc_dsql_describe(IB_STATUS, &amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, ib_query-&gt;out_sqlda)) {</span>
<span class='curline'><a href='../S/324.html#L375'>ib_query</a>          375 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda = emalloc(XSQLDA_LENGTH(1));</span>
<span class='curline'><a href='../S/324.html#L376'>ib_query</a>          376 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda-&gt;sqln = 1;</span>
<span class='curline'><a href='../S/324.html#L377'>ib_query</a>          377 ext/interbase/ibase_query.c 	ib_query-&gt;in_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/324.html#L378'>ib_query</a>          378 ext/interbase/ibase_query.c 	if (isc_dsql_describe_bind(IB_STATUS, &amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, ib_query-&gt;in_sqlda)) {</span>
<span class='curline'><a href='../S/324.html#L384'>ib_query</a>          384 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda-&gt;sqln &lt; ib_query-&gt;in_sqlda-&gt;sqld) {</span>
<span class='curline'><a href='../S/324.html#L385'>ib_query</a>          385 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda = erealloc(ib_query-&gt;in_sqlda, XSQLDA_LENGTH(ib_query-&gt;in_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/324.html#L386'>ib_query</a>          386 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda-&gt;sqln = ib_query-&gt;in_sqlda-&gt;sqld;</span>
<span class='curline'><a href='../S/324.html#L387'>ib_query</a>          387 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda-&gt;version = SQLDA_CURRENT_VERSION;</span>
<span class='curline'><a href='../S/324.html#L389'>ib_query</a>          389 ext/interbase/ibase_query.c 		if (isc_dsql_describe_bind(IB_STATUS, &amp;ib_query-&gt;stmt,</span>
<span class='curline'><a href='../S/324.html#L390'>ib_query</a>          390 ext/interbase/ibase_query.c 				SQLDA_CURRENT_VERSION, ib_query-&gt;in_sqlda)) {</span>
<span class='curline'><a href='../S/324.html#L397'>ib_query</a>          397 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda-&gt;sqld == 0) {</span>
<span class='curline'><a href='../S/324.html#L398'>ib_query</a>          398 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_sqlda);</span>
<span class='curline'><a href='../S/324.html#L399'>ib_query</a>          399 ext/interbase/ibase_query.c 		ib_query-&gt;in_sqlda = NULL;</span>
<span class='curline'><a href='../S/324.html#L400'>ib_query</a>          400 ext/interbase/ibase_query.c 	} else if (FAILURE == _php_ibase_alloc_array(&amp;ib_query-&gt;in_array, ib_query-&gt;in_sqlda,</span>
<span class='curline'><a href='../S/324.html#L401'>ib_query</a>          401 ext/interbase/ibase_query.c 			link-&gt;handle, trans-&gt;handle, &amp;ib_query-&gt;in_array_cnt TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/324.html#L405'>ib_query</a>          405 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda-&gt;sqld == 0) {</span>
<span class='curline'><a href='../S/324.html#L406'>ib_query</a>          406 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_sqlda);</span>
<span class='curline'><a href='../S/324.html#L407'>ib_query</a>          407 ext/interbase/ibase_query.c 		ib_query-&gt;out_sqlda = NULL;</span>
<span class='curline'><a href='../S/324.html#L408'>ib_query</a>          408 ext/interbase/ibase_query.c 	} else 	if (FAILURE == _php_ibase_alloc_array(&amp;ib_query-&gt;out_array, ib_query-&gt;out_sqlda,</span>
<span class='curline'><a href='../S/324.html#L409'>ib_query</a>          409 ext/interbase/ibase_query.c 			link-&gt;handle, trans-&gt;handle, &amp;ib_query-&gt;out_array_cnt TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/324.html#L417'>ib_query</a>          417 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda) {</span>
<span class='curline'><a href='../S/324.html#L418'>ib_query</a>          418 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_sqlda);</span>
<span class='curline'><a href='../S/324.html#L420'>ib_query</a>          420 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda) {</span>
<span class='curline'><a href='../S/324.html#L421'>ib_query</a>          421 ext/interbase/ibase_query.c 		efree(ib_query-&gt;in_sqlda);</span>
<span class='curline'><a href='../S/324.html#L423'>ib_query</a>          423 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_array) {</span>
<span class='curline'><a href='../S/324.html#L424'>ib_query</a>          424 ext/interbase/ibase_query.c 		efree(ib_query-&gt;out_array);</span>
<span class='curline'><a href='../S/324.html#L426'>ib_query</a>          426 ext/interbase/ibase_query.c 	if (ib_query-&gt;query) {</span>
<span class='curline'><a href='../S/324.html#L427'>ib_query</a>          427 ext/interbase/ibase_query.c 		efree(ib_query-&gt;query);</span>
<span class='curline'><a href='../S/324.html#L638'>ib_query</a>          638 ext/interbase/ibase_query.c 	ibase_query *ib_query TSRMLS_DC)</span>
<span class='curline'><a href='../S/324.html#L742'>ib_query</a>          742 ext/interbase/ibase_query.c 					if (isc_create_blob(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle,</span>
<span class='curline'><a href='../S/324.html#L743'>ib_query</a>          743 ext/interbase/ibase_query.c 							&amp;ib_query-&gt;trans-&gt;handle, &amp;ib_blob.bl_handle, &amp;ib_blob.bl_qd)) {</span>
<span class='curline'><a href='../S/324.html#L773'>ib_query</a>          773 ext/interbase/ibase_query.c 					ibase_array *ar = &amp;ib_query-&gt;in_array[array_cnt];</span>
<span class='curline'><a href='../S/324.html#L786'>ib_query</a>          786 ext/interbase/ibase_query.c 					if (isc_array_put_slice(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle, &amp;ib_query-&gt;trans-&gt;handle, </span>
<span class='curline'><a href='../S/324.html#L863'>ib_query</a>          863 ext/interbase/ibase_query.c 	ibase_query *ib_query, zval ***args)</span>
<span class='curline'><a href='../S/324.html#L871'>ib_query</a>          871 ext/interbase/ibase_query.c 	int argc = ib_query-&gt;in_sqlda ? ib_query-&gt;in_sqlda-&gt;sqld : 0;</span>
<span class='curline'><a href='../S/324.html#L879'>ib_query</a>          879 ext/interbase/ibase_query.c 	switch (ib_query-&gt;statement_type) {</span>
<span class='curline'><a href='../S/324.html#L889'>ib_query</a>          889 ext/interbase/ibase_query.c 			if (isc_dsql_execute_immediate(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle, &amp;tr, 0, </span>
<span class='curline'><a href='../S/324.html#L890'>ib_query</a>          890 ext/interbase/ibase_query.c 					ib_query-&gt;query, ib_query-&gt;dialect, NULL)) {</span>
<span class='curline'><a href='../S/324.html#L899'>ib_query</a>          899 ext/interbase/ibase_query.c 			trans-&gt;db_link[0] = ib_query-&gt;link;</span>
<span class='curline'><a href='../S/324.html#L901'>ib_query</a>          901 ext/interbase/ibase_query.c 			if (ib_query-&gt;link-&gt;tr_list == NULL) {</span>
<span class='curline'><a href='../S/324.html#L902'>ib_query</a>          902 ext/interbase/ibase_query.c 				ib_query-&gt;link-&gt;tr_list = (ibase_tr_list *) emalloc(sizeof(ibase_tr_list));</span>
<span class='curline'><a href='../S/324.html#L903'>ib_query</a>          903 ext/interbase/ibase_query.c 				ib_query-&gt;link-&gt;tr_list-&gt;trans = NULL;</span>
<span class='curline'><a href='../S/324.html#L904'>ib_query</a>          904 ext/interbase/ibase_query.c 				ib_query-&gt;link-&gt;tr_list-&gt;next = NULL;</span>
<span class='curline'><a href='../S/324.html#L908'>ib_query</a>          908 ext/interbase/ibase_query.c 			for (l = &amp;ib_query-&gt;link-&gt;tr_list; *l != NULL; l = &amp;(*l)-&gt;next);</span>
<span class='curline'><a href='../S/324.html#L920'>ib_query</a>          920 ext/interbase/ibase_query.c 			if (isc_dsql_execute_immediate(IB_STATUS, &amp;ib_query-&gt;link-&gt;handle, </span>
<span class='curline'><a href='../S/324.html#L921'>ib_query</a>          921 ext/interbase/ibase_query.c 					&amp;ib_query-&gt;trans-&gt;handle, 0, ib_query-&gt;query, ib_query-&gt;dialect, NULL)) {</span>
<span class='curline'><a href='../S/324.html#L926'>ib_query</a>          926 ext/interbase/ibase_query.c 			if (ib_query-&gt;trans-&gt;handle == NULL &amp;&amp; ib_query-&gt;trans_res_id != 0) {</span>
<span class='curline'><a href='../S/324.html#L929'>ib_query</a>          929 ext/interbase/ibase_query.c 				zend_list_delete(ib_query-&gt;trans_res_id);</span>
<span class='curline'><a href='../S/324.html#L941'>ib_query</a>          941 ext/interbase/ibase_query.c 	if (ib_query-&gt;out_sqlda) { /* output variables in select, select for update */</span>
<span class='curline'><a href='../S/324.html#L945'>ib_query</a>          945 ext/interbase/ibase_query.c 		res = emalloc(sizeof(ibase_result)+sizeof(ibase_array)*max(0,ib_query-&gt;out_array_cnt-1));</span>
<span class='curline'><a href='../S/324.html#L946'>ib_query</a>          946 ext/interbase/ibase_query.c 		res-&gt;link = ib_query-&gt;link;</span>
<span class='curline'><a href='../S/324.html#L947'>ib_query</a>          947 ext/interbase/ibase_query.c 		res-&gt;trans = ib_query-&gt;trans;</span>
<span class='curline'><a href='../S/324.html#L948'>ib_query</a>          948 ext/interbase/ibase_query.c 		res-&gt;stmt = ib_query-&gt;stmt;</span>
<span class='curline'><a href='../S/324.html#L950'>ib_query</a>          950 ext/interbase/ibase_query.c 		res-&gt;query = ib_query;</span>
<span class='curline'><a href='../S/324.html#L951'>ib_query</a>          951 ext/interbase/ibase_query.c 		ib_query-&gt;result = res;</span>
<span class='curline'><a href='../S/324.html#L952'>ib_query</a>          952 ext/interbase/ibase_query.c 		res-&gt;statement_type = ib_query-&gt;statement_type;</span>
<span class='curline'><a href='../S/324.html#L955'>ib_query</a>          955 ext/interbase/ibase_query.c 		out_sqlda = res-&gt;out_sqlda = emalloc(XSQLDA_LENGTH(ib_query-&gt;out_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/324.html#L956'>ib_query</a>          956 ext/interbase/ibase_query.c 		memcpy(out_sqlda, ib_query-&gt;out_sqlda, XSQLDA_LENGTH(ib_query-&gt;out_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/324.html#L959'>ib_query</a>          959 ext/interbase/ibase_query.c 		if (ib_query-&gt;out_array) {</span>
<span class='curline'><a href='../S/324.html#L960'>ib_query</a>          960 ext/interbase/ibase_query.c 			memcpy(&amp;res-&gt;out_array, ib_query-&gt;out_array, sizeof(ibase_array)*ib_query-&gt;out_array_cnt);</span>
<span class='curline'><a href='../S/324.html#L965'>ib_query</a>          965 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda) { /* has placeholders */</span>
<span class='curline'><a href='../S/324.html#L967'>ib_query</a>          967 ext/interbase/ibase_query.c 		in_sqlda = emalloc(XSQLDA_LENGTH(ib_query-&gt;in_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/324.html#L968'>ib_query</a>          968 ext/interbase/ibase_query.c 		memcpy(in_sqlda, ib_query-&gt;in_sqlda, XSQLDA_LENGTH(ib_query-&gt;in_sqlda-&gt;sqld));</span>
<span class='curline'><a href='../S/324.html#L969'>ib_query</a>          969 ext/interbase/ibase_query.c 		bind_buf = safe_emalloc(sizeof(BIND_BUF), ib_query-&gt;in_sqlda-&gt;sqld, 0);</span>
<span class='curline'><a href='../S/324.html#L970'>ib_query</a>          970 ext/interbase/ibase_query.c 		if (_php_ibase_bind(in_sqlda, args, bind_buf, ib_query TSRMLS_CC) == FAILURE) {</span>
<span class='curline'><a href='../S/324.html#L976'>ib_query</a>          976 ext/interbase/ibase_query.c 	if (ib_query-&gt;statement_type == isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/324.html#L977'>ib_query</a>          977 ext/interbase/ibase_query.c 		isc_result = isc_dsql_execute2(IB_STATUS, &amp;ib_query-&gt;trans-&gt;handle,</span>
<span class='curline'><a href='../S/324.html#L978'>ib_query</a>          978 ext/interbase/ibase_query.c 			&amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, in_sqlda, out_sqlda);</span>
<span class='curline'><a href='../S/324.html#L980'>ib_query</a>          980 ext/interbase/ibase_query.c 		isc_result = isc_dsql_execute(IB_STATUS, &amp;ib_query-&gt;trans-&gt;handle,</span>
<span class='curline'><a href='../S/324.html#L981'>ib_query</a>          981 ext/interbase/ibase_query.c 			&amp;ib_query-&gt;stmt, SQLDA_CURRENT_VERSION, in_sqlda);</span>
<span class='curline'><a href='../S/324.html#L988'>ib_query</a>          988 ext/interbase/ibase_query.c 	ib_query-&gt;trans-&gt;affected_rows = 0;</span>
<span class='curline'><a href='../S/324.html#L990'>ib_query</a>          990 ext/interbase/ibase_query.c 	switch (ib_query-&gt;statement_type) {</span>
<span class='curline'><a href='../S/324.html#L999'>ib_query</a>          999 ext/interbase/ibase_query.c 			if (isc_dsql_sql_info(IB_STATUS, &amp;ib_query-&gt;stmt, sizeof(info_count),</span>
<span class='curline'><a href='../S/324.html#L1019'>ib_query</a>         1019 ext/interbase/ibase_query.c 			ib_query-&gt;trans-&gt;affected_rows = affected_rows;</span>
<span class='curline'><a href='../S/324.html#L1021'>ib_query</a>         1021 ext/interbase/ibase_query.c 			if (!ib_query-&gt;out_sqlda) { /* no result set is being returned */</span>
<span class='curline'><a href='../S/324.html#L1067'>ib_query</a>         1067 ext/interbase/ibase_query.c 	ibase_query ib_query = { NULL, NULL, 0, 0 };</span>
<span class='curline'><a href='../S/324.html#L1154'>ib_query</a>         1154 ext/interbase/ibase_query.c 			|| FAILURE == _php_ibase_alloc_query(&amp;ib_query, ib_link, trans, query, ib_link-&gt;dialect,</span>
<span class='curline'><a href='../S/324.html#L1161'>ib_query</a>         1161 ext/interbase/ibase_query.c 		    expected_n = ib_query.in_sqlda ? ib_query.in_sqlda-&gt;sqld : 0;</span>
<span class='curline'><a href='../S/324.html#L1175'>ib_query</a>         1175 ext/interbase/ibase_query.c 		if (FAILURE == _php_ibase_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, &amp;result, &amp;ib_query, </span>
<span class='curline'><a href='../S/324.html#L1184'>ib_query</a>         1184 ext/interbase/ibase_query.c 			if (ib_query.statement_type != isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/324.html#L1185'>ib_query</a>         1185 ext/interbase/ibase_query.c 				ib_query.stmt = NULL; /* keep stmt when free query */</span>
<span class='curline'><a href='../S/324.html#L1191'>ib_query</a>         1191 ext/interbase/ibase_query.c 	_php_ibase_free_query(&amp;ib_query TSRMLS_CC);</span>
<span class='curline'><a href='../S/324.html#L1737'>ib_query</a>         1737 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L1769'>ib_query</a>         1769 ext/interbase/ibase_query.c 	ib_query = (ibase_query *) emalloc(sizeof(ibase_query));</span>
<span class='curline'><a href='../S/324.html#L1771'>ib_query</a>         1771 ext/interbase/ibase_query.c 	if (FAILURE == _php_ibase_alloc_query(ib_query, ib_link, trans, query, ib_link-&gt;dialect, trans_res_id TSRMLS_CC)) {</span>
<span class='curline'><a href='../S/324.html#L1772'>ib_query</a>         1772 ext/interbase/ibase_query.c 		efree(ib_query);</span>
<span class='curline'><a href='../S/324.html#L1775'>ib_query</a>         1775 ext/interbase/ibase_query.c 	ZEND_REGISTER_RESOURCE(return_value, ib_query, le_query);</span>
<span class='curline'><a href='../S/324.html#L1784'>ib_query</a>         1784 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L1796'>ib_query</a>         1796 ext/interbase/ibase_query.c 	ZEND_FETCH_RESOURCE(ib_query, ibase_query *, &amp;query, -1, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/324.html#L1800'>ib_query</a>         1800 ext/interbase/ibase_query.c 			expected_n = ib_query-&gt;in_sqlda ? ib_query-&gt;in_sqlda-&gt;sqld : 0;</span>
<span class='curline'><a href='../S/324.html#L1819'>ib_query</a>         1819 ext/interbase/ibase_query.c 		if (ib_query-&gt;result_res_id != 0 </span>
<span class='curline'><a href='../S/324.html#L1820'>ib_query</a>         1820 ext/interbase/ibase_query.c 				&amp;&amp; ib_query-&gt;statement_type != isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/324.html#L1823'>ib_query</a>         1823 ext/interbase/ibase_query.c 			if (isc_dsql_free_statement(IB_STATUS, &amp;ib_query-&gt;stmt, DSQL_close)) {</span>
<span class='curline'><a href='../S/324.html#L1828'>ib_query</a>         1828 ext/interbase/ibase_query.c 			zend_list_delete(ib_query-&gt;result_res_id);	</span>
<span class='curline'><a href='../S/324.html#L1831'>ib_query</a>         1831 ext/interbase/ibase_query.c 		if (FAILURE == _php_ibase_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, &amp;result, ib_query, </span>
<span class='curline'><a href='../S/324.html#L1837'>ib_query</a>         1837 ext/interbase/ibase_query.c 		if (ib_query-&gt;trans-&gt;handle == NULL) {</span>
<span class='curline'><a href='../S/324.html#L1843'>ib_query</a>         1843 ext/interbase/ibase_query.c 			if (ib_query-&gt;statement_type == isc_info_sql_stmt_exec_procedure) {</span>
<span class='curline'><a href='../S/324.html#L1846'>ib_query</a>         1846 ext/interbase/ibase_query.c 			ib_query-&gt;result_res_id = zend_list_insert(result, le_result TSRMLS_CC);</span>
<span class='curline'><a href='../S/324.html#L1847'>ib_query</a>         1847 ext/interbase/ibase_query.c 			RETVAL_RESOURCE(ib_query-&gt;result_res_id);</span>
<span class='curline'><a href='../S/324.html#L1862'>ib_query</a>         1862 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L1870'>ib_query</a>         1870 ext/interbase/ibase_query.c 	ZEND_FETCH_RESOURCE(ib_query, ibase_query *, &amp;query_arg, -1, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/324.html#L1893'>ib_query</a>         1893 ext/interbase/ibase_query.c 		ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L1895'>ib_query</a>         1895 ext/interbase/ibase_query.c 		ZEND_FETCH_RESOURCE(ib_query, ibase_query *, &amp;result, -1, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/324.html#L1896'>ib_query</a>         1896 ext/interbase/ibase_query.c 		sqlda = ib_query-&gt;out_sqlda;</span>
<span class='curline'><a href='../S/324.html#L2017'>ib_query</a>         2017 ext/interbase/ibase_query.c 		ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L2019'>ib_query</a>         2019 ext/interbase/ibase_query.c 		ZEND_FETCH_RESOURCE(ib_query, ibase_query *, &amp;result_arg, -1, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/324.html#L2020'>ib_query</a>         2020 ext/interbase/ibase_query.c 		sqlda = ib_query-&gt;out_sqlda;</span>
<span class='curline'><a href='../S/324.html#L2045'>ib_query</a>         2045 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L2053'>ib_query</a>         2053 ext/interbase/ibase_query.c 	ZEND_FETCH_RESOURCE(ib_query, ibase_query *, &amp;result, -1, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/324.html#L2055'>ib_query</a>         2055 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda == NULL) {</span>
<span class='curline'><a href='../S/324.html#L2058'>ib_query</a>         2058 ext/interbase/ibase_query.c 		RETURN_LONG(ib_query-&gt;in_sqlda-&gt;sqld);</span>
<span class='curline'><a href='../S/324.html#L2069'>ib_query</a>         2069 ext/interbase/ibase_query.c 	ibase_query *ib_query;</span>
<span class='curline'><a href='../S/324.html#L2077'>ib_query</a>         2077 ext/interbase/ibase_query.c 	ZEND_FETCH_RESOURCE(ib_query, ibase_query *, &amp;result_arg, -1, LE_QUERY, le_query);</span>
<span class='curline'><a href='../S/324.html#L2079'>ib_query</a>         2079 ext/interbase/ibase_query.c 	if (ib_query-&gt;in_sqlda == NULL) {</span>
<span class='curline'><a href='../S/324.html#L2083'>ib_query</a>         2083 ext/interbase/ibase_query.c 	if (field_arg &lt; 0 || field_arg &gt;= ib_query-&gt;in_sqlda-&gt;sqld) {</span>
<span class='curline'><a href='../S/324.html#L2087'>ib_query</a>         2087 ext/interbase/ibase_query.c 	_php_ibase_field_info(return_value,ib_query-&gt;in_sqlda-&gt;sqlvar + field_arg);</span>
</pre>
</body>
</html>
