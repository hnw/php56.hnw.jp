<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>user_stub</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/973.html#L2549'>user_stub</a>        2549 ext/phar/phar.c int phar_flush(phar_archive_data *phar, char *user_stub, long len, int convert, char **error TSRMLS_DC) /* {{{ */</span>
<span class='curline'><a href='../S/973.html#L2580'>user_stub</a>        2580 ext/phar/phar.c 	if (!zend_hash_num_elements(&amp;phar-&gt;manifest) &amp;&amp; !user_stub) {</span>
<span class='curline'><a href='../S/973.html#L2587'>user_stub</a>        2587 ext/phar/phar.c 		return phar_zip_flush(phar, user_stub, len, convert, error TSRMLS_CC);</span>
<span class='curline'><a href='../S/973.html#L2591'>user_stub</a>        2591 ext/phar/phar.c 		return phar_tar_flush(phar, user_stub, len, convert, error TSRMLS_CC);</span>
<span class='curline'><a href='../S/973.html#L2617'>user_stub</a>        2617 ext/phar/phar.c 	if (user_stub) {</span>
<span class='curline'><a href='../S/973.html#L2620'>user_stub</a>        2620 ext/phar/phar.c 			if (!(php_stream_from_zval_no_verify(stubfile, (zval **)user_stub))) {</span>
<span class='curline'><a href='../S/973.html#L2635'>user_stub</a>        2635 ext/phar/phar.c 			user_stub = 0;</span>
<span class='curline'><a href='../S/973.html#L2637'>user_stub</a>        2637 ext/phar/phar.c 			if (!(len = php_stream_copy_to_mem(stubfile, &amp;user_stub, len, 0)) || !user_stub) {</span>
<span class='curline'><a href='../S/973.html#L2651'>user_stub</a>        2651 ext/phar/phar.c 		tmp = estrndup(user_stub, len);</span>
<span class='curline'><a href='../S/973.html#L2662'>user_stub</a>        2662 ext/phar/phar.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/973.html#L2666'>user_stub</a>        2666 ext/phar/phar.c 		pos = user_stub + (pos - tmp);</span>
<span class='curline'><a href='../S/973.html#L2668'>user_stub</a>        2668 ext/phar/phar.c 		len = pos - user_stub + 18;</span>
<span class='curline'><a href='../S/973.html#L2669'>user_stub</a>        2669 ext/phar/phar.c 		if ((size_t)len != php_stream_write(newfile, user_stub, len)</span>
<span class='curline'><a href='../S/973.html#L2679'>user_stub</a>        2679 ext/phar/phar.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/973.html#L2685'>user_stub</a>        2685 ext/phar/phar.c 			efree(user_stub);</span>
<span class='curline'><a href='../S/973.html#L2690'>user_stub</a>        2690 ext/phar/phar.c 		if (!user_stub &amp;&amp; phar-&gt;halt_offset &amp;&amp; oldfile &amp;&amp; !phar-&gt;is_brandnew) {</span>
<span class='curline'><a href='../S/974.html#L597'>user_stub</a>         597 ext/phar/phar_internal.h int phar_tar_flush(phar_archive_data *phar, char *user_stub, long len, int defaultstub, char **error TSRMLS_DC);</span>
<span class='curline'><a href='../S/974.html#L602'>user_stub</a>         602 ext/phar/phar_internal.h int phar_zip_flush(phar_archive_data *archive, char *user_stub, long len, int defaultstub, char **error TSRMLS_DC);</span>
<span class='curline'><a href='../S/974.html#L619'>user_stub</a>         619 ext/phar/phar_internal.h int phar_flush(phar_archive_data *archive, char *user_stub, long len, int convert, char **error TSRMLS_DC);</span>
<span class='curline'><a href='../S/982.html#L945'>user_stub</a>         945 ext/phar/tar.c int phar_tar_flush(phar_archive_data *phar, char *user_stub, long len, int defaultstub, char **error TSRMLS_DC) /* {{{ */</span>
<span class='curline'><a href='../S/982.html#L1004'>user_stub</a>        1004 ext/phar/tar.c 	if (user_stub &amp;&amp; !defaultstub) {</span>
<span class='curline'><a href='../S/982.html#L1008'>user_stub</a>        1008 ext/phar/tar.c 			if (!(php_stream_from_zval_no_verify(stubfile, (zval **)user_stub))) {</span>
<span class='curline'><a href='../S/982.html#L1019'>user_stub</a>        1019 ext/phar/tar.c 			user_stub = 0;</span>
<span class='curline'><a href='../S/982.html#L1021'>user_stub</a>        1021 ext/phar/tar.c 			if (!(len = php_stream_copy_to_mem(stubfile, &amp;user_stub, len, 0)) || !user_stub) {</span>
<span class='curline'><a href='../S/982.html#L1032'>user_stub</a>        1032 ext/phar/tar.c 		tmp = estrndup(user_stub, len);</span>
<span class='curline'><a href='../S/982.html#L1039'>user_stub</a>        1039 ext/phar/tar.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/982.html#L1043'>user_stub</a>        1043 ext/phar/tar.c 		pos = user_stub + (pos - tmp);</span>
<span class='curline'><a href='../S/982.html#L1046'>user_stub</a>        1046 ext/phar/tar.c 		len = pos - user_stub + 18;</span>
<span class='curline'><a href='../S/982.html#L1054'>user_stub</a>        1054 ext/phar/tar.c 		if ((size_t)len != php_stream_write(entry.fp, user_stub, len)</span>
<span class='curline'><a href='../S/982.html#L1060'>user_stub</a>        1060 ext/phar/tar.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/982.html#L1071'>user_stub</a>        1071 ext/phar/tar.c 			efree(user_stub);</span>
<span class='curline'><a href='../S/982.html#L1083'>user_stub</a>        1083 ext/phar/tar.c 				spprintf(error, 0, "unable to %s stub in%star-based phar \"%s\", failed", user_stub ? "overwrite" : "create", user_stub ? " " : " new ", phar-&gt;fname);</span>
<span class='curline'><a href='../S/985.html#L1157'>user_stub</a>        1157 ext/phar/zip.c int phar_zip_flush(phar_archive_data *phar, char *user_stub, long len, int defaultstub, char **error TSRMLS_DC) /* {{{ */</span>
<span class='curline'><a href='../S/985.html#L1229'>user_stub</a>        1229 ext/phar/zip.c 	if (user_stub &amp;&amp; !defaultstub) {</span>
<span class='curline'><a href='../S/985.html#L1232'>user_stub</a>        1232 ext/phar/zip.c 			if (!(php_stream_from_zval_no_verify(stubfile, (zval **)user_stub))) {</span>
<span class='curline'><a href='../S/985.html#L1245'>user_stub</a>        1245 ext/phar/zip.c 			user_stub = 0;</span>
<span class='curline'><a href='../S/985.html#L1247'>user_stub</a>        1247 ext/phar/zip.c 			if (!(len = php_stream_copy_to_mem(stubfile, &amp;user_stub, len, 0)) || !user_stub) {</span>
<span class='curline'><a href='../S/985.html#L1258'>user_stub</a>        1258 ext/phar/zip.c 		tmp = estrndup(user_stub, len);</span>
<span class='curline'><a href='../S/985.html#L1265'>user_stub</a>        1265 ext/phar/zip.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/985.html#L1269'>user_stub</a>        1269 ext/phar/zip.c 		pos = user_stub + (pos - tmp);</span>
<span class='curline'><a href='../S/985.html#L1272'>user_stub</a>        1272 ext/phar/zip.c 		len = pos - user_stub + 18;</span>
<span class='curline'><a href='../S/985.html#L1280'>user_stub</a>        1280 ext/phar/zip.c 		if ((size_t)len != php_stream_write(entry.fp, user_stub, len)</span>
<span class='curline'><a href='../S/985.html#L1286'>user_stub</a>        1286 ext/phar/zip.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/985.html#L1297'>user_stub</a>        1297 ext/phar/zip.c 				efree(user_stub);</span>
<span class='curline'><a href='../S/985.html#L1306'>user_stub</a>        1306 ext/phar/zip.c 			efree(user_stub);</span>
<span class='curline'><a href='../S/985.html#L1318'>user_stub</a>        1318 ext/phar/zip.c 				spprintf(error, 0, "unable to %s stub in%szip-based phar \"%s\", failed", user_stub ? "overwrite" : "create", user_stub ? " " : " new ", phar-&gt;fname);</span>
</pre>
</body>
</html>
