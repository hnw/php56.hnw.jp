<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>true_size</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1644.html#L541'>true_size</a>         541 Zend/zend_alloc.c #define ZEND_MM_BUCKET_INDEX(true_size)		((true_size&gt;&gt;ZEND_MM_ALIGNMENT_LOG2)-(ZEND_MM_ALIGNED_MIN_HEADER_SIZE&gt;&gt;ZEND_MM_ALIGNMENT_LOG2))</span>
<span class='curline'><a href='../S/1644.html#L543'>true_size</a>         543 Zend/zend_alloc.c #define ZEND_MM_SMALL_SIZE(true_size)		(true_size &lt; ZEND_MM_MAX_SMALL_SIZE)</span>
<span class='curline'><a href='../S/1644.html#L1631'>true_size</a>        1631 Zend/zend_alloc.c 			size_t size, true_size, min_size, max_size;</span>
<span class='curline'><a href='../S/1644.html#L1637'>true_size</a>        1637 Zend/zend_alloc.c 				true_size = ZEND_MM_TRUE_SIZE(size);</span>
<span class='curline'><a href='../S/1644.html#L1638'>true_size</a>        1638 Zend/zend_alloc.c 				if (ZEND_MM_SMALL_SIZE(true_size)) {</span>
<span class='curline'><a href='../S/1644.html#L1640'>true_size</a>        1640 Zend/zend_alloc.c 					i = ZEND_MM_BUCKET_INDEX(true_size);</span>
<span class='curline'><a href='../S/1644.html#L1643'>true_size</a>        1643 Zend/zend_alloc.c 						true_size = ZEND_MM_TRUE_SIZE(size);</span>
<span class='curline'><a href='../S/1644.html#L1644'>true_size</a>        1644 Zend/zend_alloc.c 						if (ZEND_MM_SMALL_SIZE(true_size)) {</span>
<span class='curline'><a href='../S/1644.html#L1645'>true_size</a>        1645 Zend/zend_alloc.c 							j = ZEND_MM_BUCKET_INDEX(true_size);</span>
<span class='curline'><a href='../S/1644.html#L1807'>true_size</a>        1807 Zend/zend_alloc.c static zend_mm_free_block *zend_mm_search_large_block(zend_mm_heap *heap, size_t true_size)</span>
<span class='curline'><a href='../S/1644.html#L1810'>true_size</a>        1810 Zend/zend_alloc.c 	size_t index = ZEND_MM_LARGE_BUCKET_INDEX(true_size);</span>
<span class='curline'><a href='../S/1644.html#L1826'>true_size</a>        1826 Zend/zend_alloc.c 		for (m = true_size &lt;&lt; (ZEND_MM_NUM_BUCKETS - index); ; m &lt;&lt;= 1) {</span>
<span class='curline'><a href='../S/1644.html#L1827'>true_size</a>        1827 Zend/zend_alloc.c 			if (UNEXPECTED(ZEND_MM_FREE_BLOCK_SIZE(p) == true_size)) {</span>
<span class='curline'><a href='../S/1644.html#L1829'>true_size</a>        1829 Zend/zend_alloc.c 			} else if (ZEND_MM_FREE_BLOCK_SIZE(p) &gt;= true_size &amp;&amp;</span>
<span class='curline'><a href='../S/1644.html#L1851'>true_size</a>        1851 Zend/zend_alloc.c 			if (UNEXPECTED(ZEND_MM_FREE_BLOCK_SIZE(p) == true_size)) {</span>
<span class='curline'><a href='../S/1644.html#L1853'>true_size</a>        1853 Zend/zend_alloc.c 			} else if (ZEND_MM_FREE_BLOCK_SIZE(p) &gt; true_size &amp;&amp;</span>
<span class='curline'><a href='../S/1644.html#L1883'>true_size</a>        1883 Zend/zend_alloc.c 	size_t true_size = ZEND_MM_TRUE_SIZE(size);</span>
<span class='curline'><a href='../S/1644.html#L1895'>true_size</a>        1895 Zend/zend_alloc.c 	if (EXPECTED(ZEND_MM_SMALL_SIZE(true_size))) {</span>
<span class='curline'><a href='../S/1644.html#L1896'>true_size</a>        1896 Zend/zend_alloc.c 		size_t index = ZEND_MM_BUCKET_INDEX(true_size);</span>
<span class='curline'><a href='../S/1644.html#L1899'>true_size</a>        1899 Zend/zend_alloc.c 		if (UNEXPECTED(true_size &lt; size)) {</span>
<span class='curline'><a href='../S/1644.html#L1911'>true_size</a>        1911 Zend/zend_alloc.c 			heap-&gt;cached -= true_size;</span>
<span class='curline'><a href='../S/1644.html#L1938'>true_size</a>        1938 Zend/zend_alloc.c 	best_fit = zend_mm_search_large_block(heap, true_size);</span>
<span class='curline'><a href='../S/1644.html#L1945'>true_size</a>        1945 Zend/zend_alloc.c 			if (UNEXPECTED(ZEND_MM_FREE_BLOCK_SIZE(p) == true_size)) {</span>
<span class='curline'><a href='../S/1644.html#L1948'>true_size</a>        1948 Zend/zend_alloc.c 			} else if (ZEND_MM_FREE_BLOCK_SIZE(p) &gt; true_size &amp;&amp;</span>
<span class='curline'><a href='../S/1644.html#L1958'>true_size</a>        1958 Zend/zend_alloc.c 		if (true_size &gt; heap-&gt;block_size - (ZEND_MM_ALIGNED_SEGMENT_SIZE + ZEND_MM_ALIGNED_HEADER_SIZE)) {</span>
<span class='curline'><a href='../S/1644.html#L1961'>true_size</a>        1961 Zend/zend_alloc.c 			segment_size = true_size + ZEND_MM_ALIGNED_SEGMENT_SIZE + ZEND_MM_ALIGNED_HEADER_SIZE;</span>
<span class='curline'><a href='../S/1644.html#L1968'>true_size</a>        1968 Zend/zend_alloc.c 		if (segment_size &lt; true_size ||</span>
<span class='curline'><a href='../S/1644.html#L2026'>true_size</a>        2026 Zend/zend_alloc.c 	remaining_size = block_size - true_size;</span>
<span class='curline'><a href='../S/1644.html#L2029'>true_size</a>        2029 Zend/zend_alloc.c 		true_size = block_size;</span>
<span class='curline'><a href='../S/1644.html#L2030'>true_size</a>        2030 Zend/zend_alloc.c 		ZEND_MM_BLOCK(best_fit, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2035'>true_size</a>        2035 Zend/zend_alloc.c 		ZEND_MM_BLOCK(best_fit, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2036'>true_size</a>        2036 Zend/zend_alloc.c 		new_free_block = (zend_mm_free_block *) ZEND_MM_BLOCK_AT(best_fit, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2049'>true_size</a>        2049 Zend/zend_alloc.c 	heap-&gt;size += true_size;</span>
<span class='curline'><a href='../S/1644.html#L2127'>true_size</a>        2127 Zend/zend_alloc.c 	size_t true_size;</span>
<span class='curline'><a href='../S/1644.html#L2140'>true_size</a>        2140 Zend/zend_alloc.c 	true_size = ZEND_MM_TRUE_SIZE(size);</span>
<span class='curline'><a href='../S/1644.html#L2144'>true_size</a>        2144 Zend/zend_alloc.c 	if (UNEXPECTED(true_size &lt; size)) {</span>
<span class='curline'><a href='../S/1644.html#L2148'>true_size</a>        2148 Zend/zend_alloc.c 	if (true_size &lt;= orig_size) {</span>
<span class='curline'><a href='../S/1644.html#L2149'>true_size</a>        2149 Zend/zend_alloc.c 		size_t remaining_size = orig_size - true_size;</span>
<span class='curline'><a href='../S/1644.html#L2161'>true_size</a>        2161 Zend/zend_alloc.c 			ZEND_MM_BLOCK(mm_block, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2162'>true_size</a>        2162 Zend/zend_alloc.c 			new_free_block = (zend_mm_free_block *) ZEND_MM_BLOCK_AT(mm_block, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2168'>true_size</a>        2168 Zend/zend_alloc.c 			heap-&gt;size += (true_size - orig_size);</span>
<span class='curline'><a href='../S/1644.html#L2176'>true_size</a>        2176 Zend/zend_alloc.c 	if (ZEND_MM_SMALL_SIZE(true_size)) {</span>
<span class='curline'><a href='../S/1644.html#L2177'>true_size</a>        2177 Zend/zend_alloc.c 		size_t index = ZEND_MM_BUCKET_INDEX(true_size);</span>
<span class='curline'><a href='../S/1644.html#L2200'>true_size</a>        2200 Zend/zend_alloc.c 			heap-&gt;cached -= true_size - orig_size;</span>
<span class='curline'><a href='../S/1644.html#L2225'>true_size</a>        2225 Zend/zend_alloc.c 		if (orig_size + ZEND_MM_FREE_BLOCK_SIZE(next_block) &gt;= true_size) {</span>
<span class='curline'><a href='../S/1644.html#L2227'>true_size</a>        2227 Zend/zend_alloc.c 			size_t remaining_size = block_size - true_size;</span>
<span class='curline'><a href='../S/1644.html#L2232'>true_size</a>        2232 Zend/zend_alloc.c 				true_size = block_size;</span>
<span class='curline'><a href='../S/1644.html#L2233'>true_size</a>        2233 Zend/zend_alloc.c 				ZEND_MM_BLOCK(mm_block, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2238'>true_size</a>        2238 Zend/zend_alloc.c 				ZEND_MM_BLOCK(mm_block, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2239'>true_size</a>        2239 Zend/zend_alloc.c 				new_free_block = (zend_mm_free_block *) ZEND_MM_BLOCK_AT(mm_block, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2251'>true_size</a>        2251 Zend/zend_alloc.c 			heap-&gt;size = heap-&gt;size + true_size - orig_size;</span>
<span class='curline'><a href='../S/1644.html#L2271'>true_size</a>        2271 Zend/zend_alloc.c 		if (true_size &gt; heap-&gt;block_size - (ZEND_MM_ALIGNED_SEGMENT_SIZE + ZEND_MM_ALIGNED_HEADER_SIZE)) {</span>
<span class='curline'><a href='../S/1644.html#L2272'>true_size</a>        2272 Zend/zend_alloc.c 			segment_size = true_size+ZEND_MM_ALIGNED_SEGMENT_SIZE+ZEND_MM_ALIGNED_HEADER_SIZE;</span>
<span class='curline'><a href='../S/1644.html#L2279'>true_size</a>        2279 Zend/zend_alloc.c 		if (segment_size &lt; true_size ||</span>
<span class='curline'><a href='../S/1644.html#L2328'>true_size</a>        2328 Zend/zend_alloc.c 		remaining_size = block_size - true_size;</span>
<span class='curline'><a href='../S/1644.html#L2334'>true_size</a>        2334 Zend/zend_alloc.c 			true_size = block_size;</span>
<span class='curline'><a href='../S/1644.html#L2335'>true_size</a>        2335 Zend/zend_alloc.c 			ZEND_MM_BLOCK(mm_block, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2340'>true_size</a>        2340 Zend/zend_alloc.c 			ZEND_MM_BLOCK(mm_block, ZEND_MM_USED_BLOCK, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2341'>true_size</a>        2341 Zend/zend_alloc.c 			new_free_block = (zend_mm_free_block *) ZEND_MM_BLOCK_AT(mm_block, true_size);</span>
<span class='curline'><a href='../S/1644.html#L2350'>true_size</a>        2350 Zend/zend_alloc.c 		heap-&gt;size = heap-&gt;size + true_size - orig_size;</span>
</pre>
</body>
</html>
